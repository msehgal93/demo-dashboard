!function(c){"use strict";c.fn.remoteChained=function(e){var a=c.extend({},c.fn.remoteChained.defaults,e);return a.loading&&(a.clear=!0),this.each(function(){function t(e){var t=c(":selected",s).val();c("option",s).remove();var n=[];if(c.isArray(e))n=c.isArray(e[0])?e:c.map(e,function(e){return c.map(e,function(e,t){return[[t,e]]})});else for(var a in e)e.hasOwnProperty(a)&&n.push([a,e[a]]);for(var i=0;i!==n.length;i++){var r=n[i][0],o=n[i][1];if("selected"!==r){var l=c("<option />").val(r).append(o);c(s).append(l)}else t=o}c(s).children().each(function(){c(this).val()===t+""&&c(this).attr("selected","selected")}),1===c("option",s).size()&&""===c(s).val()?c(s).prop("disabled",!0):c(s).prop("disabled",!1)}var s=this,e=!1;c(a.parents).each(function(){c(this).bind("change",function(){var n={};c(a.parents).each(function(){var e=c(this).attr(a.attribute),t=(c(this).is("select")?c(":selected",this):c(this)).val();n[e]=t,a.depends&&c(a.depends).each(function(){if(s!==this){var e=c(this).attr(a.attribute),t=c(this).val();n[e]=t}})}),e&&c.isFunction(e.abort)&&(e.abort(),e=!1),a.clear&&(a.loading?t.call(s,{"":a.loading}):c("option",s).remove(),c(s).trigger("change")),e=c.getJSON(a.url,n,function(e){t.call(s,e),c(s).trigger("change")})}),a.bootstrap&&(t.call(s,a.bootstrap),a.bootstrap=null)})})},c.fn.remoteChainedTo=c.fn.remoteChained,c.fn.remoteChained.defaults={attribute:"name",depends:null,bootstrap:null,loading:null,clear:!1}}(window.jQuery||window.Zepto,window,document);