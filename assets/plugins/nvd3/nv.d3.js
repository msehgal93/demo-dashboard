!function(){var i,l,s,rt=window.nv||{};rt.version="1.1.15b",rt.dev=!0,(window.nv=rt).tooltip=rt.tooltip||{},rt.utils=rt.utils||{},rt.models=rt.models||{},rt.charts={},rt.graphs=[],rt.logs={},rt.dispatch=d3.dispatch("render_start","render_end"),rt.dev&&(rt.dispatch.on("render_start",function(t){rt.logs.startTime=+new Date}),rt.dispatch.on("render_end",function(t){rt.logs.endTime=+new Date,rt.logs.totalTime=rt.logs.endTime-rt.logs.startTime,rt.log("total",rt.logs.totalTime)})),rt.log=function(){if(rt.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(rt.dev&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},rt.render=function(r){r=r||1,rt.render.active=!0,rt.dispatch.render_start(),setTimeout(function(){for(var t,e,n=0;n<r&&(e=rt.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t),rt.graphs.push(t);rt.render.queue.splice(0,n),rt.render.queue.length?setTimeout(arguments.callee,0):(rt.dispatch.render_end(),rt.render.active=!1)},0)},rt.render.active=!1,rt.render.queue=[],rt.addGraph=function(t){typeof t==typeof Function&&(t={generate:t,callback:arguments[1]}),rt.render.queue.push(t),rt.render.active||rt.render()},rt.identity=function(t){return t},rt.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=(i=d3.time.monthEnd,l=function(t){var e,n;t.setUTCDate(t.getUTCDate()+1),t.setDate((e=t.getMonth()+1,n=t.getFullYear(),new Date(n,e+1,0).getDate()))},s=function(t){return t.getMonth()},function(t,e,n){var r=i(t),o=[];if(r<t&&l(r),1<n)for(;r<e;){var a=new Date(+r);s(a)%n==0&&o.push(a),l(r)}else for(;r<e;)o.push(new Date(+r)),l(r);return o}),rt.interactiveGuideline=function(){"use strict";var s=rt.models.tooltip(),o=null,a=null,c={left:0,top:0},u=d3.scale.linear(),d=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),p=!0,f=null,h=-1!==navigator.userAgent.indexOf("MSIE");function g(t){t.each(function(t){var e=d3.select(this),i=o||960,l=a||400,n=e.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);function r(){var t=d3.mouse(this),e=t[0],n=t[1],r=!0,o=!1;if(h&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(o=!0)),r&&(e-=c.left,n-=c.top),e<0||n<0||i<e||l<n||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||o){if(h&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(s.nvPointerEventsClass))return;return d.elementMouseout({mouseX:e,mouseY:n}),void g.renderGuideLine(null)}var a=u.invert(e);d.elementMousemove({mouseX:e,mouseY:n,pointXValue:a}),"dblclick"===d3.event.type&&d.elementDblclick({mouseX:e,mouseY:n,pointXValue:a})}n.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),f&&(f.on("mousemove",r,!0).on("mouseout",r,!0).on("dblclick",r),g.renderGuideLine=function(t){if(p){var e=n.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[rt.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",l).attr("y2",0),e.exit().remove()}})})}return g.dispatch=d,g.tooltip=s,g.margin=function(t){return arguments.length?(c.top=void 0!==t.top?t.top:c.top,c.left=void 0!==t.left?t.left:c.left,g):c},g.width=function(t){return arguments.length?(o=t,g):o},g.height=function(t){return arguments.length?(a=t,g):a},g.xScale=function(t){return arguments.length?(u=t,g):u},g.showGuideLine=function(t){return arguments.length?(p=t,g):p},g.svgContainer=function(t){return arguments.length?(f=t,g):f},g},rt.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t,e){return t.x});var r=d3.bisector(n).left,o=d3.max([0,r(t,e)-1]),a=n(t[o],o);if(void 0===a&&(a=o),a===e)return o;var i=d3.min([o+1,t.length-1]),l=n(t[i],i);return void 0===l&&(l=i),Math.abs(l-e)>=Math.abs(a-e)?o:i},rt.nearestValueIndex=function(t,r,o){"use strict";var a=1/0,i=null;return t.forEach(function(t,e){var n=Math.abs(r-t);n<=a&&n<o&&(a=n,i=e)}),i},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){var o=null,p=null,f="w",h=50,g=25,v=null,m=null,x=null,y=null,b={left:null,top:null},k=!0,w="nvtooltip-"+Math.floor(1e5*Math.random()),A="nv-pointer-events-none",a=function(t,e){return t},i=function(t){return t},S=function(t){if(null!=o)return o;if(null==t)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(i(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).html(function(t){return t.key}),n.append("td").classed("value",!0).html(function(t,e){return a(t.value,e)}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var r=e.node().outerHTML;return void 0!==t.footer&&(r+="<div class='footer'>"+t.footer+"</div>"),r},C=function(t){return!!(t&&t.series&&0<t.series.length)};function M(){if(k&&C(p)){!function(){if(x){var t=d3.select(x);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];b.left=b.left*n,b.top=b.top*n}}}();var t,e,n,r=b.left,o=null!=v?v:b.top,a=(t=S(p),null===(n=(e=x?d3.select(x):d3.select("body")).select(".nvtooltip")).node()&&(n=e.append("div").attr("class","nvtooltip "+(m||"xy-tooltip")).attr("id",w)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(A,!0),n.classed(A,!0),n.node());if(y=a,x){var i=x.getElementsByTagName("svg")[0],l=(i?i.getBoundingClientRect():x.getBoundingClientRect(),{left:0,top:0});if(i){var s=i.getBoundingClientRect(),c=x.getBoundingClientRect(),u=s.top;if(u<0){var d=x.getBoundingClientRect();u=Math.abs(u)>d.height?0:u}l.top=Math.abs(u-c.top),l.left=Math.abs(s.left-c.left)}r+=x.offsetLeft+l.left-2*x.scrollLeft,o+=x.offsetTop+l.top-2*x.scrollTop}return g&&0<g&&(o=Math.floor(o/g)*g),rt.tooltip.calcTooltipPosition([r,o],f,h,a),M}}return M.nvPointerEventsClass=A,M.content=function(t){return arguments.length?(o=t,M):o},M.tooltipElem=function(){return y},M.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(S=t),M):S},M.data=function(t){return arguments.length?(p=t,M):p},M.gravity=function(t){return arguments.length?(f=t,M):f},M.distance=function(t){return arguments.length?(h=t,M):h},M.snapDistance=function(t){return arguments.length?(g=t,M):g},M.classes=function(t){return arguments.length?(m=t,M):m},M.chartContainer=function(t){return arguments.length?(x=t,M):x},M.position=function(t){return arguments.length?(b.left=void 0!==t.left?t.left:b.left,b.top=void 0!==t.top?t.top:b.top,M):b},M.fixedTop=function(t){return arguments.length?(v=t,M):v},M.enabled=function(t){return arguments.length?(k=t,M):k},M.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(a=t),M):a},M.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(i=t),M):i},M.id=function(){return w},M},rt.tooltip.show=function(t,e,n,r,o,a){var i=document.createElement("div");i.className="nvtooltip "+(a||"xy-tooltip");var l=o;o&&!o.tagName.match(/g|svg/i)||(l=document.getElementsByTagName("body")[0]),i.style.left=0,i.style.top=0,i.style.opacity=0,i.innerHTML=e,l.appendChild(i),o&&(t[0]=t[0]-o.scrollLeft,t[1]=t[1]-o.scrollTop),rt.tooltip.calcTooltipPosition(t,n,r,i)},rt.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},rt.tooltip.findTotalOffsetTop=function(t,e){for(var n=e;isNaN(t.offsetTop)||(n+=t.offsetTop),t=t.offsetParent;);return n},rt.tooltip.findTotalOffsetLeft=function(t,e){for(var n=e;isNaN(t.offsetLeft)||(n+=t.offsetLeft),t=t.offsetParent;);return n},rt.tooltip.calcTooltipPosition=function(t,e,n,r){var o,a,i=parseInt(r.offsetHeight),l=parseInt(r.offsetWidth),s=rt.utils.windowSize().width,c=rt.utils.windowSize().height,u=window.pageYOffset,d=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,s=window.innerHeight>=document.body.scrollHeight?s:s-16,n=n||20;var p=function(t){return rt.tooltip.findTotalOffsetTop(t,a)},f=function(t){return rt.tooltip.findTotalOffsetLeft(t,o)};switch(e=e||"s"){case"e":o=t[0]-l-n,a=t[1]-i/2;var h=f(r),g=p(r);h<d&&(o=t[0]+n>d?t[0]+n:d-h+o),g<u&&(a=u-g+a),u+c<g+i&&(a=u+c-g+a-i);break;case"w":o=t[0]+n,a=t[1]-i/2;h=f(r),g=p(r);s<h+l&&(o=t[0]-l-n),g<u&&(a=u+5),u+c<g+i&&(a=u+c-g+a-i);break;case"n":o=t[0]-l/2-5,a=t[1]+n;h=f(r),g=p(r);h<d&&(o=d+5),s<h+l&&(o=o-l/2+5),u+c<g+i&&(a=u+c-g+a-i);break;case"s":o=t[0]-l/2,a=t[1]-i-n;h=f(r),g=p(r);h<d&&(o=d+5),s<h+l&&(o=o-l/2+5),g<u&&(a=u);break;case"none":o=t[0],a=t[1]-n;h=f(r),g=p(r)}return r.style.left=o+"px",r.style.top=a+"px",r.style.opacity=1,r.style.position="absolute",r},rt.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),rt.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},rt.utils.windowResize=function(e){if(void 0!==e){var n=window.onresize;window.onresize=function(t){"function"==typeof n&&n(t),e(t)}}},rt.utils.getColor=function(n){return arguments.length?"[object Array]"===Object.prototype.toString.call(n)?function(t,e){return t.color||n[e%n.length]}:n:rt.utils.defaultColor()},rt.utils.defaultColor=function(){var n=d3.scale.category20().range();return function(t,e){return t.color||n[e%n.length]}},rt.utils.customTheme=function(r,o,a){o=o||function(t){return t.key};var i=(a=a||d3.scale.category20().range()).length;return function(t,e){var n=o(t);return i||(i=a.length),void 0!==r[n]?"function"==typeof r[n]?r[n]():r[n]:a[--i]}},rt.utils.pjax=function(n,r){function t(t){d3.html(t,function(t){var e=d3.select(r).node();e.parentNode.replaceChild(d3.select(t).select(r).node(),e),rt.utils.pjax(n,r)})}d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},rt.utils.calcApproxTextWidth=function(t){if("function"!=typeof t.style||"function"!=typeof t.text)return 0;var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5},rt.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0?0:t},rt.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},rt.models.axis=function(){"use strict";var p,f=d3.svg.axis(),h={top:0,right:0,bottom:0,left:0},g=75,e=60,v=d3.scale.linear(),m=null,x=!0,y=!0,b=0,k=!0,w=!1,A=!1,S=null,C=12;function n(t){return t.each(function(t){var e=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([t]),n=(e.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),e.select("g"));null!==S?f.ticks(S):"top"!=f.orient()&&"bottom"!=f.orient()||f.ticks(Math.abs(v.range()[1]-v.range()[0])/100),n.transition().call(f),p=p||f.scale();var r=f.tickFormat();null==r&&(r=p.tickFormat());var o=n.selectAll("text.nv-axislabel").data([m||null]);switch(o.exit().remove(),f.orient()){case"top":o.enter().append("text").attr("class","nv-axislabel");var a=2==v.range().length?v.range()[1]:v.range()[v.range().length-1]+(v.range()[1]-v.range()[0]);if(o.attr("text-anchor","middle").attr("y",0).attr("x",a/2),x)(u=e.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),u.exit().remove(),u.attr("transform",function(t,e){return"translate("+v(t)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-f.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),u.transition().attr("transform",function(t,e){return"translate("+v.range()[e]+",0)"});break;case"bottom":var i=36,l=30,s=n.selectAll("g").select("text");if(b%360){s.each(function(t,e){var n=this.getBBox().width;l<n&&(l=n)});var c=Math.abs(Math.sin(b*Math.PI/180));i=(c?c*l:l)+30;s.attr("transform",function(t,e,n){return"rotate("+b+" 0,0)"}).style("text-anchor",0<b%360?"start":"end")}o.enter().append("text").attr("class","nv-axislabel");a=2==v.range().length?v.range()[1]:v.range()[v.range().length-1]+(v.range()[1]-v.range()[0]);if(o.attr("text-anchor","middle").attr("y",i).attr("x",a/2),x)(u=e.selectAll("g.nv-axisMaxMin").data([v.domain()[0],v.domain()[v.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),u.exit().remove(),u.attr("transform",function(t,e){return"translate("+(v(t)+(A?v.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",f.tickPadding()).attr("transform",function(t,e,n){return"rotate("+b+" 0,0)"}).style("text-anchor",b?0<b%360?"start":"end":"middle").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),u.transition().attr("transform",function(t,e){return"translate("+(v(t)+(A?v.rangeBand()/2:0))+",0)"});w&&s.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(o.enter().append("text").attr("class","nv-axislabel"),o.style("text-anchor",k?"middle":"begin").attr("transform",k?"rotate(90)":"").attr("y",k?12-Math.max(h.right,g):-10).attr("x",k?v.range()[0]/2:f.tickPadding()),x)(u=e.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),u.exit().remove(),u.attr("transform",function(t,e){return"translate(0,"+v(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",f.tickPadding()).style("text-anchor","start").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),u.transition().attr("transform",function(t,e){return"translate(0,"+v.range()[e]+")"}).select("text").style("opacity",1);break;case"left":var u;if(o.enter().append("text").attr("class","nv-axislabel"),o.style("text-anchor",k?"middle":"end").attr("transform",k?"rotate(-90)":"").attr("y",k?-Math.max(h.left,g)+C:-10).attr("x",k?-v.range()[0]/2:-f.tickPadding()),x)(u=e.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),u.exit().remove(),u.attr("transform",function(t,e){return"translate(0,"+p(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-f.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=r(t);return(""+n).match("NaN")?"":n}),u.transition().attr("transform",function(t,e){return"translate(0,"+v.range()[e]+")"}).select("text").style("opacity",1)}if(o.text(function(t){return t}),!x||"left"!==f.orient()&&"right"!==f.orient()||(n.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(v(t)<v.range()[1]+10||v(t)>v.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),v.domain()[0]==v.domain()[1]&&0==v.domain()[0]&&e.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),x&&("top"===f.orient()||"bottom"===f.orient())){var d=[];e.selectAll("g.nv-axisMaxMin").each(function(e,n){try{n?d.push(v(e)-this.getBBox().width-4):d.push(v(e)+this.getBBox().width+4)}catch(t){n?d.push(v(e)-4):d.push(v(e)+4)}}),n.selectAll("g").each(function(t,e){(v(t)<d[0]||v(t)>d[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}y&&n.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),p=v.copy()}),n}return f.scale(v).orient("bottom").tickFormat(function(t){return t}),n.axis=f,d3.rebind(n,f,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(n,v,"domain","range","rangeBand","rangeBands"),n.options=rt.utils.optionsFunc.bind(n),n.margin=function(t){return arguments.length?(h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left,n):h},n.width=function(t){return arguments.length?(g=t,n):g},n.ticks=function(t){return arguments.length?(S=t,n):S},n.height=function(t){return arguments.length?(e=t,n):e},n.axisLabel=function(t){return arguments.length?(m=t,n):m},n.showMaxMin=function(t){return arguments.length?(x=t,n):x},n.highlightZero=function(t){return arguments.length?(y=t,n):y},n.scale=function(t){return arguments.length?(v=t,f.scale(v),A="function"==typeof v.rangeBands,d3.rebind(n,v,"domain","range","rangeBand","rangeBands"),n):v},n.rotateYLabel=function(t){return arguments.length?(k=t,n):k},n.rotateLabels=function(t){return arguments.length?(b=t,n):b},n.staggerLabels=function(t){return arguments.length?(w=t,n):w},n.axisLabelDistance=function(t){return arguments.length?(C=t,n):C},n},rt.models.historicalBar=function(){"use strict";var u,d,p,f,h={top:0,right:0,bottom:0,left:0},g=960,v=500,m=Math.floor(1e4*Math.random()),x=d3.scale.linear(),y=d3.scale.linear(),b=function(t){return t.x},k=function(t){return t.y},w=[],A=[0],S=!1,C=!0,M=rt.utils.defaultColor(),D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),I=!0;function e(t){return t.each(function(n){var r=g-h.left-h.right,t=v-h.top-h.bottom,e=d3.select(this);x.domain(u||d3.extent(n[0].values.map(b).concat(w))),S?x.range(p||[.5*r/n[0].values.length,r*(n[0].values.length-.5)/n[0].values.length]):x.range(p||[0,r]),y.domain(d||d3.extent(n[0].values.map(k).concat(A))).range(f||[t,0]),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]):x.domain([-1,1])),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]+.01*y.domain()[0],y.domain()[1]-.01*y.domain()[1]]):y.domain([-1,1]));var o=e.selectAll("g.nv-wrap.nv-historicalBar-"+m).data([n[0].values]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+m),i=a.append("defs"),l=a.append("g"),s=o.select("g");l.append("g").attr("class","nv-bars"),o.attr("transform","translate("+h.left+","+h.top+")"),e.on("click",function(t,e){D.chartClick({data:t,index:e,pos:d3.event,id:m})}),i.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),o.select("#nv-chart-clip-path-"+m+" rect").attr("width",r).attr("height",t),s.attr("clip-path",C?"url(#nv-chart-clip-path-"+m+")":"");var c=o.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return b(t,e)});c.exit().remove();c.enter().append("rect").attr("x",0).attr("y",function(t,e){return rt.utils.NaNtoZero(y(Math.max(0,k(t,e))))}).attr("height",function(t,e){return rt.utils.NaNtoZero(Math.abs(y(k(t,e))-y(0)))}).attr("transform",function(t,e){return"translate("+(x(b(t,e))-r/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){I&&(d3.select(this).classed("hover",!0),D.elementMouseover({point:t,series:n[0],pos:[x(b(t,e)),y(k(t,e))],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("mouseout",function(t,e){I&&(d3.select(this).classed("hover",!1),D.elementMouseout({point:t,series:n[0],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){I&&(D.elementClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation())}).on("dblclick",function(t,e){I&&(D.elementDblClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation())});c.attr("fill",function(t,e){return M(t,e)}).attr("class",function(t,e,n){return(k(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).transition().attr("transform",function(t,e){return"translate("+(x(b(t,e))-r/n[0].values.length*.45)+",0)"}).attr("width",r/n[0].values.length*.9),c.transition().attr("y",function(t,e){var n=k(t,e)<0?y(0):y(0)-y(k(t,e))<1?y(0)-1:y(k(t,e));return rt.utils.NaNtoZero(n)}).attr("height",function(t,e){return rt.utils.NaNtoZero(Math.max(Math.abs(y(k(t,e))-y(0)),1))})}),e}return e.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+m).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){d3.select(".nv-historicalBar-"+m).select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=D,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(b=t,e):b},e.y=function(t){return arguments.length?(k=t,e):k},e.margin=function(t){return arguments.length?(h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left,e):h},e.width=function(t){return arguments.length?(g=t,e):g},e.height=function(t){return arguments.length?(v=t,e):v},e.xScale=function(t){return arguments.length?(x=t,e):x},e.yScale=function(t){return arguments.length?(y=t,e):y},e.xDomain=function(t){return arguments.length?(u=t,e):u},e.yDomain=function(t){return arguments.length?(d=t,e):d},e.xRange=function(t){return arguments.length?(p=t,e):p},e.yRange=function(t){return arguments.length?(f=t,e):f},e.forceX=function(t){return arguments.length?(w=t,e):w},e.forceY=function(t){return arguments.length?(A=t,e):A},e.padData=function(t){return arguments.length?(S=t,e):S},e.clipEdge=function(t){return arguments.length?(C=t,e):C},e.color=function(t){return arguments.length?(M=rt.utils.getColor(t),e):M},e.id=function(t){return arguments.length?(m=t,e):m},e.interactive=function(t){return arguments.length?(I=!1,e):I},e},rt.models.bullet=function(){"use strict";var k={top:0,right:0,bottom:0,left:0},e="left",w=!1,A=function(t){return t.ranges},S=function(t){return t.markers},C=function(t){return t.measures},M=function(t){return t.rangeLabels?t.rangeLabels:[]},D=function(t){return t.markerLabels?t.markerLabels:[]},I=function(t){return t.measureLabels?t.measureLabels:[]},W=[0],z=380,F=30,n=null,N=rt.utils.getColor(["#1f77b4"]),L=d3.dispatch("elementMouseover","elementMouseout");function r(t){return t.each(function(t,e){var n=z-k.left-k.right,r=F-k.top-k.bottom,o=d3.select(this),a=A.call(this,t,e).slice().sort(d3.descending),i=S.call(this,t,e).slice().sort(d3.descending),l=C.call(this,t,e).slice().sort(d3.descending),s=M.call(this,t,e).slice(),c=D.call(this,t,e).slice(),u=I.call(this,t,e).slice(),d=d3.scale.linear().domain(d3.extent(d3.merge([W,a]))).range(w?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(d.range());this.__chart__=d;var p=d3.min(a),f=d3.max(a),h=a[1],g=o.selectAll("g.nv-wrap.nv-bullet").data([t]),v=g.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),m=g.select("g");v.append("rect").attr("class","nv-range nv-rangeMax"),v.append("rect").attr("class","nv-range nv-rangeAvg"),v.append("rect").attr("class","nv-range nv-rangeMin"),v.append("rect").attr("class","nv-measure"),v.append("path").attr("class","nv-markerTriangle"),g.attr("transform","translate("+k.left+","+k.top+")");var x=function(t){return Math.abs(d(t)-d(0))},y=function(t){return d(t<0?t:0)};m.select("rect.nv-rangeMax").attr("height",r).attr("width",x(0<f?f:p)).attr("x",y(0<f?f:p)).datum(0<f?f:p),m.select("rect.nv-rangeAvg").attr("height",r).attr("width",x(h)).attr("x",y(h)).datum(h),m.select("rect.nv-rangeMin").attr("height",r).attr("width",x(f)).attr("x",y(f)).attr("width",x(0<f?p:f)).attr("x",y(0<f?p:f)).datum(0<f?p:f),m.select("rect.nv-measure").style("fill",N).attr("height",r/3).attr("y",r/3).attr("width",l<0?d(0)-d(l[0]):d(l[0])-d(0)).attr("x",y(l)).on("mouseover",function(){L.elementMouseover({value:l[0],label:u[0]||"Current",pos:[d(l[0]),r/2]})}).on("mouseout",function(){L.elementMouseout({value:l[0],label:u[0]||"Current"})});var b=r/6;i[0]?m.selectAll("path.nv-markerTriangle").attr("transform",function(t){return"translate("+d(i[0])+","+r/2+")"}).attr("d","M0,"+b+"L"+b+","+-b+" "+-b+","+-b+"Z").on("mouseover",function(){L.elementMouseover({value:i[0],label:c[0]||"Previous",pos:[d(i[0]),r/2]})}).on("mouseout",function(){L.elementMouseout({value:i[0],label:c[0]||"Previous"})}):m.selectAll("path.nv-markerTriangle").remove(),g.selectAll(".nv-range").on("mouseover",function(t,e){var n=s[e]||(e?1==e?"Mean":"Minimum":"Maximum");L.elementMouseover({value:t,label:n,pos:[d(t),r/2]})}).on("mouseout",function(t,e){var n=s[e]||(e?1==e?"Mean":"Minimum":"Maximum");L.elementMouseout({value:t,label:n})})}),r}return r.dispatch=L,r.options=rt.utils.optionsFunc.bind(r),r.orient=function(t){return arguments.length?(w="right"==(e=t)||"bottom"==e,r):e},r.ranges=function(t){return arguments.length?(A=t,r):A},r.markers=function(t){return arguments.length?(S=t,r):S},r.measures=function(t){return arguments.length?(C=t,r):C},r.forceX=function(t){return arguments.length?(W=t,r):W},r.width=function(t){return arguments.length?(z=t,r):z},r.height=function(t){return arguments.length?(F=t,r):F},r.margin=function(t){return arguments.length?(k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left,r):k},r.tickFormat=function(t){return arguments.length?(n=t,r):n},r.color=function(t){return arguments.length?(N=rt.utils.getColor(t),r):N},r},rt.models.bulletChart=function(){"use strict";var w=rt.models.bullet(),e="left",A=!1,S={top:5,right:40,bottom:20,left:120},C=function(t){return t.ranges},M=function(t){return t.markers},D=function(t){return t.measures},I=null,W=55,z=null,F=!0,a=function(t,e,n,r,o){return"<h3>"+e+"</h3><p>"+n+"</p>"},N="No Data Available.",L=d3.dispatch("tooltipShow","tooltipHide"),B=function(t,e){var n=t.pos[0]+(e.offsetLeft||0)+S.left,r=t.pos[1]+(e.offsetTop||0)+S.top,o=a(t.key,t.label,t.value,t,H);rt.tooltip.show([n,r],o,t.value<0?"e":"w",null,e)};function H(k){return k.each(function(e,t){var n=d3.select(this),r=(I||parseInt(n.style("width"))||960)-S.left-S.right,o=W-S.top-S.bottom,a=this;if(H.update=function(){H(k)},H.container=this,!e||!C.call(this,e,t)){var i=n.selectAll(".nv-noData").data([N]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",S.left+r/2).attr("y",18+S.top+o/2).text(function(t){return t}),H}n.selectAll(".nv-noData").remove();var l=C.call(this,e,t).slice().sort(d3.descending),s=M.call(this,e,t).slice().sort(d3.descending),c=D.call(this,e,t).slice().sort(d3.descending),u=n.selectAll("g.nv-wrap.nv-bulletChart").data([e]),d=u.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),p=u.select("g");d.append("g").attr("class","nv-bulletWrap"),d.append("g").attr("class","nv-titles"),u.attr("transform","translate("+S.left+","+S.top+")");var f=d3.scale.linear().domain([0,Math.max(l[0],s[0],c[0])]).range(A?[r,0]:[0,r]),h=this.__chart__||d3.scale.linear().domain([0,1/0]).range(f.range());this.__chart__=f;var g=d.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(W-S.top-S.bottom)/2+")");g.append("text").attr("class","nv-title").text(function(t){return t.title}),g.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),w.width(r).height(o);var v=p.select(".nv-bulletWrap");d3.transition(v).call(w);var m=z||f.tickFormat(r/100),x=p.selectAll("g.nv-tick").data(f.ticks(r/50),function(t){return this.textContent||m(t)}),y=x.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+h(t)+",0)"}).style("opacity",1e-6);y.append("line").attr("y1",o).attr("y2",7*o/6),y.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*o/6).text(m);var b=d3.transition(x).attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1);b.select("line").attr("y1",o).attr("y2",7*o/6),b.select("text").attr("y",7*o/6),d3.transition(x.exit()).attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1e-6).remove(),L.on("tooltipShow",function(t){t.key=e.title,F&&B(t,a.parentNode)})}),d3.timer.flush(),H}return w.dispatch.on("elementMouseover.tooltip",function(t){L.tooltipShow(t)}),w.dispatch.on("elementMouseout.tooltip",function(t){L.tooltipHide(t)}),L.on("tooltipHide",function(){F&&rt.tooltip.cleanup()}),H.dispatch=L,H.bullet=w,d3.rebind(H,w,"color"),H.options=rt.utils.optionsFunc.bind(H),H.orient=function(t){return arguments.length?(A="right"==(e=t)||"bottom"==e,H):e},H.ranges=function(t){return arguments.length?(C=t,H):C},H.markers=function(t){return arguments.length?(M=t,H):M},H.measures=function(t){return arguments.length?(D=t,H):D},H.width=function(t){return arguments.length?(I=t,H):I},H.height=function(t){return arguments.length?(W=t,H):W},H.margin=function(t){return arguments.length?(S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left,H):S},H.tickFormat=function(t){return arguments.length?(z=t,H):z},H.tooltips=function(t){return arguments.length?(F=t,H):F},H.tooltipContent=function(t){return arguments.length?(a=t,H):a},H.noData=function(t){return arguments.length?(N=t,H):N},H},rt.models.cumulativeLineChart=function(){"use strict";var A,S,C=rt.models.line(),M=rt.models.axis(),D=rt.models.axis(),I=rt.models.legend(),W=rt.models.legend(),z=rt.interactiveGuideline(),F={top:30,right:30,bottom:50,left:60},N=rt.utils.defaultColor(),L=null,B=null,H=!0,P=!0,T=!0,E=!1,Y=!0,R=!0,V=!1,_=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},X=C.id(),Z={index:0,rescaleY:_},G=null,O="No Data Available.",K=function(t){return t.average},j=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),q=250,U=!1;M.orient("bottom").tickPadding(7),D.orient(E?"right":"left"),W.updateState(!1);var $=d3.scale.linear(),J={i:0,x:0},Q=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=M.tickFormat()(C.x()(t.point,t.pointIndex)),a=D.tickFormat()(C.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,tt);rt.tooltip.show([n,r],i,null,null,e)};function tt(t){return t.each(function(c){var t,e=d3.select(this).classed("nv-chart-"+X,!0),u=this,n=(L||parseInt(e.style("width"))||960)-F.left-F.right,r=(B||parseInt(e.style("height"))||400)-F.top-F.bottom;if(tt.update=function(){e.transition().duration(q).call(tt)},tt.container=this,Z.disabled=c.map(function(t){return!!t.disabled}),!G)for(t in G={},Z)Z[t]instanceof Array?G[t]=Z[t].slice(0):G[t]=Z[t];var o=d3.behavior.drag().on("dragstart",function(t,e){d3.select(tt.container).style("cursor","ew-resize")}).on("drag",function(t,e){J.x=d3.event.x,J.i=Math.round($.invert(J.x)),w()}).on("dragend",function(t,e){d3.select(tt.container).style("cursor","auto"),Z.index=J.i,j.stateChange(Z)});if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([O]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",F.left+n/2).attr("y",F.top+r/2).text(function(t){return t}),tt}if(e.selectAll(".nv-noData").remove(),A=C.xScale(),S=C.yScale(),_)C.yDomain(null);else{var i=c.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,C.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),l=[d3.min(i,function(t){return t[0]}),d3.max(i,function(t){return t[1]})];C.yDomain(l)}$.domain([0,c[0].values.length-1]).range([0,n]).clamp(!0);s=J.i,c=c.map(function(t,e){if(!t.values)return t;var n=t.values[s];if(null==n)return t;var r=C.y()(n,s);return r<-.95&&!U?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(C.y()(t,e)-r)/(1+r)},t})),t});var s,d=V?"none":"all",p=e.selectAll("g.nv-wrap.nv-cumulativeLine").data([c]),f=p.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),h=p.select("g");if(f.append("g").attr("class","nv-interactive"),f.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),f.append("g").attr("class","nv-y nv-axis"),f.append("g").attr("class","nv-background"),f.append("g").attr("class","nv-linesWrap").style("pointer-events",d),f.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),f.append("g").attr("class","nv-legendWrap"),f.append("g").attr("class","nv-controlsWrap"),H&&(I.width(n),h.select(".nv-legendWrap").datum(c).call(I),F.top!=I.height()&&(F.top=I.height(),r=(B||parseInt(e.style("height"))||400)-F.top-F.bottom),h.select(".nv-legendWrap").attr("transform","translate(0,"+-F.top+")")),R){var g=[{key:"Re-scale y-axis",disabled:!_}];W.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),h.select(".nv-controlsWrap").datum(g).attr("transform","translate(0,"+-F.top+")").call(W)}p.attr("transform","translate("+F.left+","+F.top+")"),E&&h.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)");var v=c.filter(function(t){return t.tempDisabled});p.select(".tempDisabled").remove(),v.length&&p.append("text").attr("class","tempDisabled").attr("x",n/2).attr("y","-.71em").style("text-anchor","end").text(v.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),V&&(z.width(n).height(r).margin({left:F.left,top:F.top}).svgContainer(e).xScale(A),p.select(".nv-interactive").call(z)),f.select(".nv-background").append("rect"),h.select(".nv-background rect").attr("width",n).attr("height",r),C.y(function(t){return t.display.y}).width(n).height(r).color(c.map(function(t,e){return t.color||N(t,e)}).filter(function(t,e){return!c[e].disabled&&!c[e].tempDisabled}));var m=h.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled&&!t.tempDisabled}));m.call(C),c.forEach(function(t,e){t.seriesIndex=e});var x=c.filter(function(t){return!t.disabled&&!!K(t)}),y=h.select(".nv-avgLinesWrap").selectAll("line").data(x,function(t){return t.key}),b=function(t){var e=S(K(t));return e<0?0:r<e?r:e};y.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return C.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",n).attr("y1",b).attr("y2",b),y.style("stroke-opacity",function(t){var e=S(K(t));return e<0||r<e?0:1}).attr("x1",0).attr("x2",n).attr("y1",b).attr("y2",b),y.exit().remove();var k=m.selectAll(".nv-indexLine").data([J]);function w(){k.data([J]);var t=tt.transitionDuration();tt.transitionDuration(0),tt.update(),tt.transitionDuration(t)}k.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(o),k.attr("transform",function(t){return"translate("+$(t.i)+",0)"}).attr("height",r),P&&(M.scale(A).ticks(Math.min(c[0].values.length,n/70)).tickSize(-r,0),h.select(".nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")"),d3.transition(h.select(".nv-x.nv-axis")).call(M)),T&&(D.scale(S).ticks(r/36).tickSize(-n,0),d3.transition(h.select(".nv-y.nv-axis")).call(D)),h.select(".nv-background rect").on("click",function(){J.x=d3.mouse(this)[0],J.i=Math.round($.invert(J.x)),Z.index=J.i,j.stateChange(Z),w()}),C.dispatch.on("elementClick",function(t){J.i=t.pointIndex,J.x=$(J.i),Z.index=J.i,j.stateChange(Z),w()}),W.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,_=!t.disabled,Z.rescaleY=_,j.stateChange(Z),tt.update()}),I.dispatch.on("stateChange",function(t){Z.disabled=t.disabled,j.stateChange(Z),tt.update()}),z.dispatch.on("elementMousemove",function(r){C.clearHighlights();var o,a,i,l=[];if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){a=rt.interactiveBisect(t.values,r.pointXValue,tt.x()),C.highlightPoint(e,a,!0);var n=t.values[a];void 0!==n&&(void 0===o&&(o=n),void 0===i&&(i=tt.xScale()(tt.x()(n,a))),l.push({key:t.key,value:tt.y()(n,a),color:N(t,t.seriesIndex)}))}),2<l.length){var t=tt.yScale().invert(r.mouseY),e=.03*Math.abs(tt.yScale().domain()[0]-tt.yScale().domain()[1]),n=rt.nearestValueIndex(l.map(function(t){return t.value}),t,e);null!==n&&(l[n].highlight=!0)}var s=M.tickFormat()(tt.x()(o,a),a);z.tooltip.position({left:i+F.left,top:r.mouseY+F.top}).chartContainer(u.parentNode).enabled(Y).valueFormatter(function(t,e){return D.tickFormat()(t)}).data({value:s,series:l})(),z.renderGuideLine(i)}),z.dispatch.on("elementMouseout",function(t){j.tooltipHide(),C.clearHighlights()}),j.on("tooltipShow",function(t){Y&&Q(t,u.parentNode)}),j.on("changeState",function(n){void 0!==n.disabled&&(c.forEach(function(t,e){t.disabled=n.disabled[e]}),Z.disabled=n.disabled),void 0!==n.index&&(J.i=n.index,J.x=$(J.i),Z.index=n.index,k.data([J])),void 0!==n.rescaleY&&(_=n.rescaleY),tt.update()})}),tt}return C.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+F.left,t.pos[1]+F.top],j.tooltipShow(t)}),C.dispatch.on("elementMouseout.tooltip",function(t){j.tooltipHide(t)}),j.on("tooltipHide",function(){Y&&rt.tooltip.cleanup()}),tt.dispatch=j,tt.lines=C,tt.legend=I,tt.xAxis=M,tt.yAxis=D,tt.interactiveLayer=z,d3.rebind(tt,C,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),tt.options=rt.utils.optionsFunc.bind(tt),tt.margin=function(t){return arguments.length?(F.top=void 0!==t.top?t.top:F.top,F.right=void 0!==t.right?t.right:F.right,F.bottom=void 0!==t.bottom?t.bottom:F.bottom,F.left=void 0!==t.left?t.left:F.left,tt):F},tt.width=function(t){return arguments.length?(L=t,tt):L},tt.height=function(t){return arguments.length?(B=t,tt):B},tt.color=function(t){return arguments.length?(N=rt.utils.getColor(t),I.color(N),tt):N},tt.rescaleY=function(t){return arguments.length?(_=t,tt):_},tt.showControls=function(t){return arguments.length?(R=t,tt):R},tt.useInteractiveGuideline=function(t){return arguments.length?(!0===(V=t)&&(tt.interactive(!1),tt.useVoronoi(!1)),tt):V},tt.showLegend=function(t){return arguments.length?(H=t,tt):H},tt.showXAxis=function(t){return arguments.length?(P=t,tt):P},tt.showYAxis=function(t){return arguments.length?(T=t,tt):T},tt.rightAlignYAxis=function(t){return arguments.length?(E=t,D.orient(t?"right":"left"),tt):E},tt.tooltips=function(t){return arguments.length?(Y=t,tt):Y},tt.tooltipContent=function(t){return arguments.length?(l=t,tt):l},tt.state=function(t){return arguments.length?(Z=t,tt):Z},tt.defaultState=function(t){return arguments.length?(G=t,tt):G},tt.noData=function(t){return arguments.length?(O=t,tt):O},tt.average=function(t){return arguments.length?(K=t,tt):K},tt.transitionDuration=function(t){return arguments.length?(q=t,tt):q},tt.noErrorCheck=function(t){return arguments.length?(U=t,tt):U},tt},rt.models.discreteBar=function(){"use strict";var u,d,p,f,h,g,v={top:0,right:0,bottom:0,left:0},m=960,x=500,e=Math.floor(1e4*Math.random()),y=d3.scale.ordinal(),b=d3.scale.linear(),k=function(t){return t.x},w=function(t){return t.y},A=[0],S=rt.utils.defaultColor(),C=!1,M=d3.format(",.2f"),D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),I="discreteBar";function n(t){return t.each(function(n){var t=m-v.left-v.right,e=x-v.top-v.bottom,r=d3.select(this);n.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var o=u&&d?[]:n.map(function(t){return t.values.map(function(t,e){return{x:k(t,e),y:w(t,e),y0:t.y0}})});y.domain(u||d3.merge(o).map(function(t){return t.x})).rangeBands(p||[0,t],.1),b.domain(d||d3.extent(d3.merge(o).map(function(t){return t.y}).concat(A))),C?b.range(f||[e-(b.domain()[0]<0?12:0),0<b.domain()[1]?12:0]):b.range(f||[e,0]),h=h||y,g=g||b.copy().range([b(0),b(0)]);var a=r.selectAll("g.nv-wrap.nv-discretebar").data([n]),i=a.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");a.select("g");i.append("g").attr("class","nv-groups"),a.attr("transform","translate("+v.left+","+v.top+")");var l=a.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});l.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),l.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),l.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),l.transition().style("stroke-opacity",1).style("fill-opacity",.75);var s=l.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var c=s.enter().append("g").attr("transform",function(t,e,n){return"translate("+(y(k(t,e))+.05*y.rangeBand())+", "+b(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),D.elementMouseover({value:w(t,e),point:t,series:n[t.series],pos:[y(k(t,e))+y.rangeBand()*(t.series+.5)/n.length,b(w(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),D.elementMouseout({value:w(t,e),point:t,series:n[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("click",function(t,e){D.elementClick({value:w(t,e),point:t,series:n[t.series],pos:[y(k(t,e))+y.rangeBand()*(t.series+.5)/n.length,b(w(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,e){D.elementDblClick({value:w(t,e),point:t,series:n[t.series],pos:[y(k(t,e))+y.rangeBand()*(t.series+.5)/n.length,b(w(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()});c.append("rect").attr("height",0).attr("width",.9*y.rangeBand()/n.length),C?(c.append("text").attr("text-anchor","middle"),s.select("text").text(function(t,e){return M(w(t,e))}).transition().attr("x",.9*y.rangeBand()/2).attr("y",function(t,e){return w(t,e)<0?b(w(t,e))-b(0)+12:-4})):s.selectAll("text").remove(),s.attr("class",function(t,e){return w(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||S(t,e)}).style("stroke",function(t,e){return t.color||S(t,e)}).select("rect").attr("class",I).transition().attr("width",.9*y.rangeBand()/n.length),s.transition().attr("transform",function(t,e){return"translate("+(y(k(t,e))+.05*y.rangeBand())+", "+(w(t,e)<0?b(0):b(0)-b(w(t,e))<1?b(0)-1:b(w(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(b(w(t,e))-b(d&&d[0]||0))||1)}),h=y.copy(),g=b.copy()}),n}return n.dispatch=D,n.options=rt.utils.optionsFunc.bind(n),n.x=function(t){return arguments.length?(k=t,n):k},n.y=function(t){return arguments.length?(w=t,n):w},n.margin=function(t){return arguments.length?(v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left,n):v},n.width=function(t){return arguments.length?(m=t,n):m},n.height=function(t){return arguments.length?(x=t,n):x},n.xScale=function(t){return arguments.length?(y=t,n):y},n.yScale=function(t){return arguments.length?(b=t,n):b},n.xDomain=function(t){return arguments.length?(u=t,n):u},n.yDomain=function(t){return arguments.length?(d=t,n):d},n.xRange=function(t){return arguments.length?(p=t,n):p},n.yRange=function(t){return arguments.length?(f=t,n):f},n.forceY=function(t){return arguments.length?(A=t,n):A},n.color=function(t){return arguments.length?(S=rt.utils.getColor(t),n):S},n.id=function(t){return arguments.length?(e=t,n):e},n.showValues=function(t){return arguments.length?(C=t,n):C},n.valueFormat=function(t){return arguments.length?(M=t,n):M},n.rectClass=function(t){return arguments.length?(I=t,n):I},n},rt.models.discreteBarChart=function(){"use strict";var d,p,f=rt.models.discreteBar(),h=rt.models.axis(),g=rt.models.axis(),v={top:15,right:10,bottom:50,left:60},m=null,x=null,e=rt.utils.getColor(),y=!0,b=!0,k=!1,w=!1,A=!0,l=function(t,e,n,r,o){return"<h3>"+e+"</h3><p>"+n+"</p>"},S="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),M=250;h.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),g.orient(k?"right":"left").tickFormat(d3.format(",.1f"));var D=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=h.tickFormat()(f.x()(t.point,t.pointIndex)),a=g.tickFormat()(f.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,I);rt.tooltip.show([n,r],i,t.value<0?"n":"s",null,e)};function I(t){return t.each(function(t){var e=d3.select(this),n=this,r=(m||parseInt(e.style("width"))||960)-v.left-v.right,o=(x||parseInt(e.style("height"))||400)-v.top-v.bottom;if(I.update=function(){C.beforeUpdate(),e.transition().duration(M).call(I)},I.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([S]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",v.left+r/2).attr("y",v.top+o/2).text(function(t){return t}),I}e.selectAll(".nv-noData").remove(),d=f.xScale(),p=f.yScale().clamp(!0);var i=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),l=i.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),s=l.append("defs"),c=i.select("g");if(l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),l.append("g").attr("class","nv-barsWrap"),c.attr("transform","translate("+v.left+","+v.top+")"),k&&c.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),f.width(r).height(o),c.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(f),s.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),c.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",d.rangeBand()*(w?2:1)).attr("height",16).attr("x",-d.rangeBand()/(w?1:2)),y){h.scale(d).ticks(r/100).tickSize(-o,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+(p.range()[0]+(f.showValues()&&p.domain()[0]<0?16:0))+")"),c.select(".nv-x.nv-axis").transition().call(h);var u=c.select(".nv-x.nv-axis").selectAll("g");w&&u.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}b&&(g.scale(p).ticks(o/36).tickSize(-r,0),c.select(".nv-y.nv-axis").transition().call(g)),c.select(".nv-zeroLine line").attr("x1",0).attr("x2",r).attr("y1",p(0)).attr("y2",p(0)),C.on("tooltipShow",function(t){A&&D(t,n.parentNode)})}),I}return f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+v.left,t.pos[1]+v.top],C.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){A&&rt.tooltip.cleanup()}),I.dispatch=C,I.discretebar=f,I.xAxis=h,I.yAxis=g,d3.rebind(I,f,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),I.options=rt.utils.optionsFunc.bind(I),I.margin=function(t){return arguments.length?(v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left,I):v},I.width=function(t){return arguments.length?(m=t,I):m},I.height=function(t){return arguments.length?(x=t,I):x},I.color=function(t){return arguments.length?(e=rt.utils.getColor(t),f.color(e),I):e},I.showXAxis=function(t){return arguments.length?(y=t,I):y},I.showYAxis=function(t){return arguments.length?(b=t,I):b},I.rightAlignYAxis=function(t){return arguments.length?(k=t,g.orient(t?"right":"left"),I):k},I.staggerLabels=function(t){return arguments.length?(w=t,I):w},I.tooltips=function(t){return arguments.length?(A=t,I):A},I.tooltipContent=function(t){return arguments.length?(l=t,I):l},I.noData=function(t){return arguments.length?(S=t,I):S},I.transitionDuration=function(t){return arguments.length?(M=t,I):M},I},rt.models.distribution=function(){"use strict";var l,s={top:0,right:0,bottom:0,left:0},e=400,c=8,u="x",d=function(t){return t[u]},p=rt.utils.defaultColor(),f=d3.scale.linear();function n(t){return t.each(function(t){"x"===u?(s.left,s.right):(s.top,s.bottom);var e="x"==u?"y":"x",n=d3.select(this);l=l||f;var r=n.selectAll("g.nv-distribution").data([t]),o=(r.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),r.select("g"));r.attr("transform","translate("+s.left+","+s.top+")");var a=o.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});a.enter().append("g"),a.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return p(t,e)});var i=a.selectAll("line.nv-dist"+u).data(function(t){return t.values});i.enter().append("line").attr(u+"1",function(t,e){return l(d(t,e))}).attr(u+"2",function(t,e){return l(d(t,e))}),a.exit().selectAll("line.nv-dist"+u).transition().attr(u+"1",function(t,e){return f(d(t,e))}).attr(u+"2",function(t,e){return f(d(t,e))}).style("stroke-opacity",0).remove(),i.attr("class",function(t,e){return"nv-dist"+u+" nv-dist"+u+"-"+e}).attr(e+"1",0).attr(e+"2",c),i.transition().attr(u+"1",function(t,e){return f(d(t,e))}).attr(u+"2",function(t,e){return f(d(t,e))}),l=f.copy()}),n}return n.options=rt.utils.optionsFunc.bind(n),n.margin=function(t){return arguments.length?(s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left,n):s},n.width=function(t){return arguments.length?(e=t,n):e},n.axis=function(t){return arguments.length?(u=t,n):u},n.size=function(t){return arguments.length?(c=t,n):c},n.getData=function(t){return arguments.length?(d=d3.functor(t),n):d},n.scale=function(t){return arguments.length?(f=t,n):f},n.color=function(t){return arguments.length?(p=rt.utils.getColor(t),n):p},n},rt.models.historicalBarChart=function(){"use strict";var d,p,f=rt.models.historicalBar(),h=rt.models.axis(),g=rt.models.axis(),v=rt.models.legend(),m={top:30,right:90,bottom:50,left:90},x=rt.utils.defaultColor(),y=null,b=null,k=!1,w=!0,A=!0,S=!1,C=!0,u=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},M={},D=null,I="No Data Available.",W=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),z=250;h.orient("bottom").tickPadding(7),g.orient(S?"right":"left");var F=function(t,e){if(e){var n=d3.select(e).select("svg"),r=n.node()?n.attr("viewBox"):null;if(r){r=r.split(" ");var o=parseInt(n.style("width"))/r[2];t.pos[0]=t.pos[0]*o,t.pos[1]=t.pos[1]*o}}var a=t.pos[0]+(e.offsetLeft||0),i=t.pos[1]+(e.offsetTop||0),l=h.tickFormat()(f.x()(t.point,t.pointIndex)),s=g.tickFormat()(f.y()(t.point,t.pointIndex)),c=u(t.series.key,l,s,t,N);rt.tooltip.show([a,i],c,null,null,e)};function N(u){return u.each(function(r){var t,e=d3.select(this),n=this,o=(y||parseInt(e.style("width"))||960)-m.left-m.right,a=(b||parseInt(e.style("height"))||400)-m.top-m.bottom;if(N.update=function(){e.transition().duration(z).call(N)},N.container=this,M.disabled=r.map(function(t){return!!t.disabled}),!D)for(t in D={},M)M[t]instanceof Array?D[t]=M[t].slice(0):D[t]=M[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([I]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",m.left+o/2).attr("y",m.top+a/2).text(function(t){return t}),N}e.selectAll(".nv-noData").remove(),d=f.xScale(),p=f.yScale();var l=e.selectAll("g.nv-wrap.nv-historicalBarChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),c=l.select("g");s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),k&&(v.width(o),c.select(".nv-legendWrap").datum(r).call(v),m.top!=v.height()&&(m.top=v.height(),a=(b||parseInt(e.style("height"))||400)-m.top-m.bottom),l.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")),l.attr("transform","translate("+m.left+","+m.top+")"),S&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),f.width(o).height(a).color(r.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!r[e].disabled})),c.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(f),w&&(h.scale(d).tickSize(-a,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),c.select(".nv-x.nv-axis").transition().call(h)),A&&(g.scale(p).ticks(a/36).tickSize(-o,0),c.select(".nv-y.nv-axis").transition().call(g)),v.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,r.filter(function(t){return!t.disabled}).length||r.map(function(t){return t.disabled=!1,l.selectAll(".nv-series").classed("disabled",!1),t}),M.disabled=r.map(function(t){return!!t.disabled}),W.stateChange(M),u.transition().call(N)}),v.dispatch.on("legendDblclick",function(t){r.forEach(function(t){t.disabled=!0}),t.disabled=!1,M.disabled=r.map(function(t){return!!t.disabled}),W.stateChange(M),N.update()}),W.on("tooltipShow",function(t){C&&F(t,n.parentNode)}),W.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),N.update()})}),N}return f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+m.left,t.pos[1]+m.top],W.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){W.tooltipHide(t)}),W.on("tooltipHide",function(){C&&rt.tooltip.cleanup()}),N.dispatch=W,N.bars=f,N.legend=v,N.xAxis=h,N.yAxis=g,d3.rebind(N,f,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),N.options=rt.utils.optionsFunc.bind(N),N.margin=function(t){return arguments.length?(m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left,N):m},N.width=function(t){return arguments.length?(y=t,N):y},N.height=function(t){return arguments.length?(b=t,N):b},N.color=function(t){return arguments.length?(x=rt.utils.getColor(t),v.color(x),N):x},N.showLegend=function(t){return arguments.length?(k=t,N):k},N.showXAxis=function(t){return arguments.length?(w=t,N):w},N.showYAxis=function(t){return arguments.length?(A=t,N):A},N.rightAlignYAxis=function(t){return arguments.length?(S=t,g.orient(t?"right":"left"),N):S},N.tooltips=function(t){return arguments.length?(C=t,N):C},N.tooltipContent=function(t){return arguments.length?(u=t,N):u},N.state=function(t){return arguments.length?(M=t,N):M},N.defaultState=function(t){return arguments.length?(D=t,N):D},N.noData=function(t){return arguments.length?(I=t,N):I},N.transitionDuration=function(t){return arguments.length?(z=t,N):z},N},rt.models.indentedTree=function(){"use strict";var e={top:0,right:0,bottom:0,left:0},n=960,g=500,r=rt.utils.defaultColor(),o=Math.floor(1e4*Math.random()),v=!0,m=!1,x="No Data Available.",y=20,b=[{key:"key",label:"Name",type:"text"}],k=null,w="images/grey-plus.png",A="images/grey-minus.png",S=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),C=function(t){return t.url},M=0;function D(t){return t.each(function(t){var e,n=d3.select(this),r=d3.layout.tree().children(function(t){return t.values}).size([g,y]);D.update=function(){n.transition().duration(600).call(D)},t[0]||(t[0]={key:x});var o=r.nodes(t[0]),a=d3.select(this).selectAll("div").data([[o]]),i=a.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),l=a.select("table").attr("width","100%").attr("class",k);if(v){var s=i.append("thead").append("tr");b.forEach(function(t){s.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var c=l.selectAll("tbody").data(function(t){return t});c.enter().append("tbody"),e=d3.max(o,function(t){return t.depth}),r.size([g,e*y]);var u=c.selectAll("tr").data(function(t){return t.filter(function(t){return!(m&&!t.children)||m(t)})},function(t,e){return t.id||t.id||++M});u.exit().remove(),u.select("img.nv-treeicon").attr("src",f).classed("folded",h);var d=u.enter().append("tr");function p(t,e,n){return d3.event.stopPropagation(),d3.event.shiftKey&&!n?(d3.event.shiftKey=!1,t.values&&t.values.forEach(function(t){(t.values||t._values)&&p(t,0,!0)}),!0):!(o=(r=t).values||r._values)||!o.length||(t.values?(t._values=t.values,t.values=null):(t.values=t._values,t._values=null),void D.update());var r,o}function f(t){return t._values&&t._values.length?w:t.values&&t.values.length?A:""}function h(t){return t._values&&t._values.length}b.forEach(function(e,n){var t=d.append("td").style("padding-left",function(t){return(n?0:t.depth*y+12+(f(t)?0:16))+"px"},"important").style("text-align","numeric"==e.type?"right":"left");0==n&&t.append("img").classed("nv-treeicon",!0).classed("nv-folded",h).attr("src",f).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return f(t)?"inline-block":"none"}).on("click",p),t.each(function(t){!n&&C(t)?d3.select(this).append("a").attr("href",C).attr("class",d3.functor(e.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(e.classes)).text(function(t){return e.format?t[e.key]?e.format(t[e.key]):"-":t[e.key]||"-"})}),e.showCount&&(t.append("span").attr("class","nv-childrenCount"),u.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return!m||m(t)}).length||t._values&&t._values.filter(function(t){return!m||m(t)}).length||0)+")":""}))}),u.order().on("click",function(t){S.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){S.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){S.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){S.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),D}return D.options=rt.utils.optionsFunc.bind(D),D.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,D):e},D.width=function(t){return arguments.length?(n=t,D):n},D.height=function(t){return arguments.length?(g=t,D):g},D.color=function(t){return arguments.length?(r=rt.utils.getColor(t),scatter.color(r),D):r},D.id=function(t){return arguments.length?(o=t,D):o},D.header=function(t){return arguments.length?(v=t,D):v},D.noData=function(t){return arguments.length?(x=t,D):x},D.filterZero=function(t){return arguments.length?(m=t,D):m},D.columns=function(t){return arguments.length?(b=t,D):b},D.tableClass=function(t){return arguments.length?(k=t,D):k},D.iconOpen=function(t){return arguments.length?(w=t,D):w},D.iconClose=function(t){return arguments.length?(A=t,D):A},D.getUrl=function(t){return arguments.length?(C=t,D):C},D},rt.models.legend=function(){"use strict";var x={top:5,right:0,bottom:5,left:0},y=400,b=20,k=function(t){return t.key},w=rt.utils.defaultColor(),A=!0,S=!0,C=!0,M=!1,D=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");function e(t){return t.each(function(n){var t=y-x.left-x.right,e=d3.select(this).selectAll("g.nv-legend").data([n]),r=(e.enter().append("g").attr("class","nvd3 nv-legend").append("g"),e.select("g"));e.attr("transform","translate("+x.left+","+x.top+")");var o=r.selectAll(".nv-series").data(function(t){return t}),a=o.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){D.legendMouseover(t,e)}).on("mouseout",function(t,e){D.legendMouseout(t,e)}).on("click",function(t,e){D.legendClick(t,e),C&&(M?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})),D.stateChange({disabled:n.map(function(t){return!!t.disabled})}))}).on("dblclick",function(t,e){D.legendDblclick(t,e),C&&(n.forEach(function(t){t.disabled=!0}),t.disabled=!1,D.stateChange({disabled:n.map(function(t){return!!t.disabled})}))});if(a.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),a.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),o.classed("disabled",function(t){return t.disabled}),o.exit().remove(),o.select("circle").style("fill",function(t,e){return t.color||w(t,e)}).style("stroke",function(t,e){return t.color||w(t,e)}),o.select("text").text(k),A){var i=[];o.each(function(t,e){var n,r=d3.select(this).select("text");try{if((n=r.getComputedTextLength())<=0)throw Error()}catch(t){n=rt.utils.calcApproxTextWidth(r)}i.push(n+28)});for(var l=0,s=0,c=[];s<t&&l<i.length;)c[l]=i[l],s+=i[l++];for(0===l&&(l=1);t<s&&1<l;){c=[],l--;for(var u=0;u<i.length;u++)i[u]>(c[u%l]||0)&&(c[u%l]=i[u]);s=c.reduce(function(t,e,n,r){return t+e})}for(var d=[],p=0,f=0;p<l;p++)d[p]=f,f+=c[p];o.attr("transform",function(t,e){return"translate("+d[e%l]+","+(5+20*Math.floor(e/l))+")"}),S?r.attr("transform","translate("+(y-x.right-s)+","+x.top+")"):r.attr("transform","translate(0,"+x.top+")"),b=x.top+x.bottom+20*Math.ceil(i.length/l)}else{var h,g=5,v=5,m=0;o.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+28;return h=v,y<x.left+x.right+h+n&&(v=h=5,g+=20),m<(v+=n)&&(m=v),"translate("+h+","+g+")"}),r.attr("transform","translate("+(y-x.right-m)+","+x.top+")"),b=x.top+x.bottom+g+15}}),e}return e.dispatch=D,e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,e):x},e.width=function(t){return arguments.length?(y=t,e):y},e.height=function(t){return arguments.length?(b=t,e):b},e.key=function(t){return arguments.length?(k=t,e):k},e.color=function(t){return arguments.length?(w=rt.utils.getColor(t),e):w},e.align=function(t){return arguments.length?(A=t,e):A},e.rightAlign=function(t){return arguments.length?(S=t,e):S},e.updateState=function(t){return arguments.length?(C=t,e):C},e.radioButtonMode=function(t){return arguments.length?(M=t,e):M},e},rt.models.line=function(){"use strict";var f,h,g,v,m=rt.models.scatter(),x={top:0,right:0,bottom:0,left:0},y=960,b=500,k=rt.utils.defaultColor(),w=function(t){return t.x},A=function(t){return t.y},S=function(t,e){return!isNaN(A(t,e))&&null!==A(t,e)},C=function(t){return t.area},M=!1,D="linear";function e(t){return t.each(function(t){var e=y-x.left-x.right,n=b-x.top-x.bottom,r=d3.select(this);f=m.xScale(),h=m.yScale(),g=g||f,v=v||h;var o=r.selectAll("g.nv-wrap.nv-line").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),i=a.append("defs"),l=a.append("g"),s=o.select("g");l.append("g").attr("class","nv-groups"),l.append("g").attr("class","nv-scatterWrap"),o.attr("transform","translate("+x.left+","+x.top+")"),m.width(e).height(n);var c=o.select(".nv-scatterWrap");c.transition().call(m),i.append("clipPath").attr("id","nv-edge-clip-"+m.id()).append("rect"),o.select("#nv-edge-clip-"+m.id()+" rect").attr("width",e).attr("height",0<n?n:0),s.attr("clip-path",M?"url(#nv-edge-clip-"+m.id()+")":""),c.attr("clip-path",M?"url(#nv-edge-clip-"+m.id()+")":"");var u=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});u.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),u.exit().remove(),u.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),u.transition().style("stroke-opacity",1).style("fill-opacity",.5);var d=u.selectAll("path.nv-area").data(function(t){return C(t)?[t]:[]});d.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(g(w(t,e)))}).y0(function(t,e){return rt.utils.NaNtoZero(v(A(t,e)))}).y1(function(t,e){return v(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])}),u.exit().selectAll("path.nv-area").remove(),d.transition().attr("d",function(t){return d3.svg.area().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(f(w(t,e)))}).y0(function(t,e){return rt.utils.NaNtoZero(h(A(t,e)))}).y1(function(t,e){return h(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])});var p=u.selectAll("path.nv-line").data(function(t){return[t.values]});p.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(g(w(t,e)))}).y(function(t,e){return rt.utils.NaNtoZero(v(A(t,e)))})),p.transition().attr("d",d3.svg.line().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(f(w(t,e)))}).y(function(t,e){return rt.utils.NaNtoZero(h(A(t,e)))})),g=f.copy(),v=h.copy()}),e}return m.size(16).sizeDomain([16,256]),e.dispatch=m.dispatch,e.scatter=m,d3.rebind(e,m,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,e):x},e.width=function(t){return arguments.length?(y=t,e):y},e.height=function(t){return arguments.length?(b=t,e):b},e.x=function(t){return arguments.length?(w=t,m.x(t),e):w},e.y=function(t){return arguments.length?(A=t,m.y(t),e):A},e.clipEdge=function(t){return arguments.length?(M=t,e):M},e.color=function(t){return arguments.length?(k=rt.utils.getColor(t),m.color(k),e):k},e.interpolate=function(t){return arguments.length?(D=t,e):D},e.defined=function(t){return arguments.length?(S=t,e):S},e.isArea=function(t){return arguments.length?(C=d3.functor(t),e):C},e},rt.models.lineChart=function(){"use strict";var s,d,p=rt.models.line(),f=rt.models.axis(),h=rt.models.axis(),g=rt.models.legend(),v=rt.interactiveGuideline(),m={top:30,right:20,bottom:50,left:60},x=rt.utils.defaultColor(),y=null,b=null,k=!0,w=!0,A=!0,S=!1,C=!1,M=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},D={},I=null,W="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),F=250;f.orient("bottom").tickPadding(7),h.orient(S?"right":"left");var N=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=f.tickFormat()(p.x()(t.point,t.pointIndex)),a=h.tickFormat()(p.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,L);rt.tooltip.show([n,r],i,null,null,e)};function L(t){return t.each(function(c){var t,e=d3.select(this),u=this,n=(y||parseInt(e.style("width"))||960)-m.left-m.right,r=(b||parseInt(e.style("height"))||400)-m.top-m.bottom;if(L.update=function(){e.transition().duration(F).call(L)},L.container=this,D.disabled=c.map(function(t){return!!t.disabled}),!I)for(t in I={},D)D[t]instanceof Array?I[t]=D[t].slice(0):I[t]=D[t];if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length)){var o=e.selectAll(".nv-noData").data([W]);return o.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),o.attr("x",m.left+n/2).attr("y",m.top+r/2).text(function(t){return t}),L}e.selectAll(".nv-noData").remove(),s=p.xScale(),d=p.yScale();var a=e.selectAll("g.nv-wrap.nv-lineChart").data([c]),i=a.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),l=a.select("g");i.append("rect").style("opacity",0),i.append("g").attr("class","nv-x nv-axis"),i.append("g").attr("class","nv-y nv-axis"),i.append("g").attr("class","nv-linesWrap"),i.append("g").attr("class","nv-legendWrap"),i.append("g").attr("class","nv-interactive"),l.select("rect").attr("width",n).attr("height",0<r?r:0),k&&(g.width(n),l.select(".nv-legendWrap").datum(c).call(g),m.top!=g.height()&&(m.top=g.height(),r=(b||parseInt(e.style("height"))||400)-m.top-m.bottom),a.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")),a.attr("transform","translate("+m.left+","+m.top+")"),S&&l.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),C&&(v.width(n).height(r).margin({left:m.left,top:m.top}).svgContainer(e).xScale(s),a.select(".nv-interactive").call(v)),p.width(n).height(r).color(c.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!c[e].disabled})),l.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled})).transition().call(p),w&&(f.scale(s).ticks(n/100).tickSize(-r,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),l.select(".nv-x.nv-axis").transition().call(f)),A&&(h.scale(d).ticks(r/36).tickSize(-n,0),l.select(".nv-y.nv-axis").transition().call(h)),g.dispatch.on("stateChange",function(t){D=t,z.stateChange(D),L.update()}),v.dispatch.on("elementMousemove",function(r){p.clearHighlights();var o,a,i,l=[];if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){a=rt.interactiveBisect(t.values,r.pointXValue,L.x()),p.highlightPoint(e,a,!0);var n=t.values[a];void 0!==n&&(void 0===o&&(o=n),void 0===i&&(i=L.xScale()(L.x()(n,a))),l.push({key:t.key,value:L.y()(n,a),color:x(t,t.seriesIndex)}))}),2<l.length){var t=L.yScale().invert(r.mouseY),e=.03*Math.abs(L.yScale().domain()[0]-L.yScale().domain()[1]),n=rt.nearestValueIndex(l.map(function(t){return t.value}),t,e);null!==n&&(l[n].highlight=!0)}var s=f.tickFormat()(L.x()(o,a));v.tooltip.position({left:i+m.left,top:r.mouseY+m.top}).chartContainer(u.parentNode).enabled(M).valueFormatter(function(t,e){return h.tickFormat()(t)}).data({value:s,series:l})(),v.renderGuideLine(i)}),v.dispatch.on("elementMouseout",function(t){z.tooltipHide(),p.clearHighlights()}),z.on("tooltipShow",function(t){M&&N(t,u.parentNode)}),z.on("changeState",function(n){void 0!==n.disabled&&c.length===n.disabled.length&&(c.forEach(function(t,e){t.disabled=n.disabled[e]}),D.disabled=n.disabled),L.update()})}),L}return p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+m.left,t.pos[1]+m.top],z.tooltipShow(t)}),p.dispatch.on("elementMouseout.tooltip",function(t){z.tooltipHide(t)}),z.on("tooltipHide",function(){M&&rt.tooltip.cleanup()}),L.dispatch=z,L.lines=p,L.legend=g,L.xAxis=f,L.yAxis=h,L.interactiveLayer=v,d3.rebind(L,p,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),L.options=rt.utils.optionsFunc.bind(L),L.margin=function(t){return arguments.length?(m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left,L):m},L.width=function(t){return arguments.length?(y=t,L):y},L.height=function(t){return arguments.length?(b=t,L):b},L.color=function(t){return arguments.length?(x=rt.utils.getColor(t),g.color(x),L):x},L.showLegend=function(t){return arguments.length?(k=t,L):k},L.showXAxis=function(t){return arguments.length?(w=t,L):w},L.showYAxis=function(t){return arguments.length?(A=t,L):A},L.rightAlignYAxis=function(t){return arguments.length?(S=t,h.orient(t?"right":"left"),L):S},L.useInteractiveGuideline=function(t){return arguments.length?(!0===(C=t)&&(L.interactive(!1),L.useVoronoi(!1)),L):C},L.tooltips=function(t){return arguments.length?(M=t,L):M},L.tooltipContent=function(t){return arguments.length?(l=t,L):l},L.state=function(t){return arguments.length?(D=t,L):D},L.defaultState=function(t){return arguments.length?(I=t,L):I},L.noData=function(t){return arguments.length?(W=t,L):W},L.transitionDuration=function(t){return arguments.length?(F=t,L):F},L},rt.models.linePlusBarChart=function(){"use strict";var h,g,v,m=rt.models.line(),x=rt.models.historicalBar(),y=rt.models.axis(),b=rt.models.axis(),k=rt.models.axis(),w=rt.models.legend(),A={top:30,right:60,bottom:50,left:60},S=null,C=null,e=function(t){return t.x},n=function(t){return t.y},M=rt.utils.defaultColor(),D=!0,I=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},W={},z=null,F="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");x.padData(!0),m.clipEdge(!1).padData(!0),y.orient("bottom").tickPadding(7).highlightZero(!1),b.orient("left"),k.orient("right");var L=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=y.tickFormat()(m.x()(t.point,t.pointIndex)),a=(t.series.bar?b:k).tickFormat()(m.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,B);rt.tooltip.show([n,r],i,t.value<0?"n":"s",null,e)};function B(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(S||parseInt(e.style("width"))||960)-A.left-A.right,a=(C||parseInt(e.style("height"))||400)-A.top-A.bottom;if(B.update=function(){e.transition().call(B)},W.disabled=r.map(function(t){return!!t.disabled}),!z)for(t in z={},W)W[t]instanceof Array?z[t]=W[t].slice(0):z[t]=W[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([F]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",A.left+o/2).attr("y",A.top+a/2).text(function(t){return t}),B}e.selectAll(".nv-noData").remove();var l=r.filter(function(t){return!t.disabled&&t.bar}),s=r.filter(function(t){return!t.bar});h=s.filter(function(t){return!t.disabled}).length&&s.filter(function(t){return!t.disabled})[0].values.length?m.xScale():x.xScale(),g=x.yScale(),v=m.yScale();var c=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([r]),u=c.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),d=c.select("g");u.append("g").attr("class","nv-x nv-axis"),u.append("g").attr("class","nv-y1 nv-axis"),u.append("g").attr("class","nv-y2 nv-axis"),u.append("g").attr("class","nv-barsWrap"),u.append("g").attr("class","nv-linesWrap"),u.append("g").attr("class","nv-legendWrap"),D&&(w.width(o/2),d.select(".nv-legendWrap").datum(r.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(w),A.top!=w.height()&&(A.top=w.height(),a=(C||parseInt(e.style("height"))||400)-A.top-A.bottom),d.select(".nv-legendWrap").attr("transform","translate("+o/2+","+-A.top+")")),c.attr("transform","translate("+A.left+","+A.top+")"),m.width(o).height(a).color(r.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!r[e].disabled&&!r[e].bar})),x.width(o).height(a).color(r.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!r[e].disabled&&r[e].bar}));var p=d.select(".nv-barsWrap").datum(l.length?l:[{values:[]}]),f=d.select(".nv-linesWrap").datum(s[0]&&!s[0].disabled?s:[{values:[]}]);d3.transition(p).call(x),d3.transition(f).call(m),y.scale(h).ticks(o/100).tickSize(-a,0),d.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),d3.transition(d.select(".nv-x.nv-axis")).call(y),b.scale(g).ticks(a/36).tickSize(-o,0),d3.transition(d.select(".nv-y1.nv-axis")).style("opacity",l.length?1:0).call(b),k.scale(v).ticks(a/36).tickSize(l.length?0:-o,0),d.select(".nv-y2.nv-axis").style("opacity",s.length?1:0).attr("transform","translate("+o+",0)"),d3.transition(d.select(".nv-y2.nv-axis")).call(k),w.dispatch.on("stateChange",function(t){W=t,N.stateChange(W),B.update()}),N.on("tooltipShow",function(t){I&&L(t,n.parentNode)}),N.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),W.disabled=n.disabled),B.update()})}),B}return m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+A.left,t.pos[1]+A.top],N.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),x.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+A.left,t.pos[1]+A.top],N.tooltipShow(t)}),x.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),N.on("tooltipHide",function(){I&&rt.tooltip.cleanup()}),B.dispatch=N,B.legend=w,B.lines=m,B.bars=x,B.xAxis=y,B.y1Axis=b,B.y2Axis=k,d3.rebind(B,m,"defined","size","clipVoronoi","interpolate"),B.options=rt.utils.optionsFunc.bind(B),B.x=function(t){return arguments.length?(e=t,m.x(t),x.x(t),B):e},B.y=function(t){return arguments.length?(n=t,m.y(t),x.y(t),B):n},B.margin=function(t){return arguments.length?(A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left,B):A},B.width=function(t){return arguments.length?(S=t,B):S},B.height=function(t){return arguments.length?(C=t,B):C},B.color=function(t){return arguments.length?(M=rt.utils.getColor(t),w.color(M),B):M},B.showLegend=function(t){return arguments.length?(D=t,B):D},B.tooltips=function(t){return arguments.length?(I=t,B):I},B.tooltipContent=function(t){return arguments.length?(l=t,B):l},B.state=function(t){return arguments.length?(W=t,B):W},B.defaultState=function(t){return arguments.length?(z=t,B):z},B.noData=function(t){return arguments.length?(F=t,B):F},B},rt.models.lineWithFocusChart=function(){"use strict";var m,x,y,b,k=rt.models.line(),w=rt.models.line(),A=rt.models.axis(),S=rt.models.axis(),C=rt.models.axis(),M=rt.models.axis(),D=rt.models.legend(),I=d3.svg.brush(),W={top:30,right:30,bottom:30,left:60},z={top:0,right:30,bottom:20,left:60},F=rt.utils.defaultColor(),N=null,L=null,B=100,H=!0,P=null,T=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},E="No Data Available.",Y=d3.dispatch("tooltipShow","tooltipHide","brush"),R=250;k.clipEdge(!0),w.interactive(!1),A.orient("bottom").tickPadding(5),S.orient("left"),C.orient("bottom").tickPadding(5),M.orient("left");var V=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=A.tickFormat()(k.x()(t.point,t.pointIndex)),a=S.tickFormat()(k.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,_);rt.tooltip.show([n,r],i,null,null,e)};function _(t){return t.each(function(r){var t=d3.select(this),e=this,n=(N||parseInt(t.style("width"))||960)-W.left-W.right,o=(L||parseInt(t.style("height"))||400)-W.top-W.bottom-B,a=B-z.top-z.bottom;if(_.update=function(){t.transition().duration(R).call(_)},_.container=this,!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=t.selectAll(".nv-noData").data([E]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",W.left+n/2).attr("y",W.top+o/2).text(function(t){return t}),_}t.selectAll(".nv-noData").remove(),m=k.xScale(),x=k.yScale(),y=w.xScale(),b=w.yScale();var l=t.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),c=l.select("g");s.append("g").attr("class","nv-legendWrap");var u=s.append("g").attr("class","nv-focus");u.append("g").attr("class","nv-x nv-axis"),u.append("g").attr("class","nv-y nv-axis"),u.append("g").attr("class","nv-linesWrap");var d=s.append("g").attr("class","nv-context");d.append("g").attr("class","nv-x nv-axis"),d.append("g").attr("class","nv-y nv-axis"),d.append("g").attr("class","nv-linesWrap"),d.append("g").attr("class","nv-brushBackground"),d.append("g").attr("class","nv-x nv-brush"),H&&(D.width(n),c.select(".nv-legendWrap").datum(r).call(D),W.top!=D.height()&&(W.top=D.height(),o=(L||parseInt(t.style("height"))||400)-W.top-W.bottom-B),c.select(".nv-legendWrap").attr("transform","translate(0,"+-W.top+")")),l.attr("transform","translate("+W.left+","+W.top+")"),k.width(n).height(o).color(r.map(function(t,e){return t.color||F(t,e)}).filter(function(t,e){return!r[e].disabled})),w.defined(k.defined()).width(n).height(a).color(r.map(function(t,e){return t.color||F(t,e)}).filter(function(t,e){return!r[e].disabled})),c.select(".nv-context").attr("transform","translate(0,"+(o+W.bottom+z.top)+")");var p=c.select(".nv-context .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}));d3.transition(p).call(w),A.scale(m).ticks(n/100).tickSize(-o,0),S.scale(x).ticks(o/36).tickSize(-n,0),c.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o+")"),I.x(y).on("brush",function(){var t=_.transitionDuration();_.transitionDuration(0),v(),_.transitionDuration(t)}),P&&I.extent(P);var f=c.select(".nv-brushBackground").selectAll("g").data([P||I.extent()]),h=f.enter().append("g");h.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",a),h.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",a);var g=c.select(".nv-x.nv-brush").call(I);function v(){P=I.empty()?null:I.extent();var n=I.empty()?y.domain():I.extent();Math.abs(n[0]-n[1])<=1||(Y.brush({extent:n,brush:I}),I.empty()||I.extent(P),f.data([I.empty()?y.domain():P]).each(function(t,e){var n=y(t[0])-m.range()[0],r=m.range()[1]-y(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",y(t[1])).attr("width",r<0?0:r)}),c.select(".nv-focus .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return k.x()(t,e)>=n[0]&&k.x()(t,e)<=n[1]})}})).transition().duration(R).call(k),c.select(".nv-focus .nv-x.nv-axis").transition().duration(R).call(A),c.select(".nv-focus .nv-y.nv-axis").transition().duration(R).call(S))}g.selectAll("rect").attr("height",a),g.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=a/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),v(),C.scale(y).ticks(n/100).tickSize(-a,0),c.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+b.range()[0]+")"),d3.transition(c.select(".nv-context .nv-x.nv-axis")).call(C),M.scale(b).ticks(a/36).tickSize(-n,0),d3.transition(c.select(".nv-context .nv-y.nv-axis")).call(M),c.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+b.range()[0]+")"),D.dispatch.on("stateChange",function(t){_.update()}),Y.on("tooltipShow",function(t){T&&V(t,e.parentNode)})}),_}return k.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+W.left,t.pos[1]+W.top],Y.tooltipShow(t)}),k.dispatch.on("elementMouseout.tooltip",function(t){Y.tooltipHide(t)}),Y.on("tooltipHide",function(){T&&rt.tooltip.cleanup()}),_.dispatch=Y,_.legend=D,_.lines=k,_.lines2=w,_.xAxis=A,_.yAxis=S,_.x2Axis=C,_.y2Axis=M,d3.rebind(_,k,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),_.options=rt.utils.optionsFunc.bind(_),_.x=function(t){return arguments.length?(k.x(t),w.x(t),_):k.x},_.y=function(t){return arguments.length?(k.y(t),w.y(t),_):k.y},_.margin=function(t){return arguments.length?(W.top=void 0!==t.top?t.top:W.top,W.right=void 0!==t.right?t.right:W.right,W.bottom=void 0!==t.bottom?t.bottom:W.bottom,W.left=void 0!==t.left?t.left:W.left,_):W},_.margin2=function(t){return arguments.length?(z=t,_):z},_.width=function(t){return arguments.length?(N=t,_):N},_.height=function(t){return arguments.length?(L=t,_):L},_.height2=function(t){return arguments.length?(B=t,_):B},_.color=function(t){return arguments.length?(F=rt.utils.getColor(t),D.color(F),_):F},_.showLegend=function(t){return arguments.length?(H=t,_):H},_.tooltips=function(t){return arguments.length?(T=t,_):T},_.tooltipContent=function(t){return arguments.length?(l=t,_):l},_.interpolate=function(t){return arguments.length?(k.interpolate(t),w.interpolate(t),_):k.interpolate()},_.noData=function(t){return arguments.length?(E=t,_):E},_.xTickFormat=function(t){return arguments.length?(A.tickFormat(t),C.tickFormat(t),_):A.tickFormat()},_.yTickFormat=function(t){return arguments.length?(S.tickFormat(t),M.tickFormat(t),_):S.tickFormat()},_.brushExtent=function(t){return arguments.length?(P=t,_):P},_.transitionDuration=function(t){return arguments.length?(R=t,_):R},_},rt.models.linePlusBarWithFocusChart=function(){"use strict";var w,A,S,C,M,D,I,W=rt.models.line(),z=rt.models.line(),F=rt.models.historicalBar(),N=rt.models.historicalBar(),L=rt.models.axis(),B=rt.models.axis(),H=rt.models.axis(),P=rt.models.axis(),T=rt.models.axis(),E=rt.models.axis(),Y=rt.models.legend(),R=d3.svg.brush(),V={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},X=null,Z=null,G=100,O=function(t){return t.x},K=function(t){return t.y},j=rt.utils.defaultColor(),q=!0,U=null,$=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},J="No Data Available.",Q=d3.dispatch("tooltipShow","tooltipHide","brush"),tt=0;W.clipEdge(!0),z.interactive(!1),L.orient("bottom").tickPadding(5),H.orient("left"),P.orient("right"),B.orient("bottom").tickPadding(5),T.orient("left"),E.orient("right");var et=function(t,e){w&&(t.pointIndex+=Math.ceil(w[0]));var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=L.tickFormat()(W.x()(t.point,t.pointIndex)),a=(t.series.bar?H:P).tickFormat()(W.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,nt);rt.tooltip.show([n,r],i,t.value<0?"n":"s",null,e)};function nt(t){return t.each(function(n){var t=d3.select(this),e=this,r=(X||parseInt(t.style("width"))||960)-V.left-V.right,o=(Z||parseInt(t.style("height"))||400)-V.top-V.bottom-G,a=G-_.top-_.bottom;if(nt.update=function(){t.transition().duration(tt).call(nt)},nt.container=this,!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var i=t.selectAll(".nv-noData").data([J]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",V.left+r/2).attr("y",V.top+o/2).text(function(t){return t}),nt}t.selectAll(".nv-noData").remove();var l=n.filter(function(t){return!t.disabled&&t.bar}),s=n.filter(function(t){return!t.bar});A=F.xScale(),S=B.scale(),C=F.yScale(),M=W.yScale(),D=N.yScale(),I=z.yScale();var c=n.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:O(t,e),y:K(t,e)}})}),u=n.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:O(t,e),y:K(t,e)}})});A.range([0,r]),S.domain(d3.extent(d3.merge(c.concat(u)),function(t){return t.x})).range([0,r]);var d=t.selectAll("g.nv-wrap.nv-linePlusBar").data([n]),p=d.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),f=d.select("g");p.append("g").attr("class","nv-legendWrap");var h=p.append("g").attr("class","nv-focus");h.append("g").attr("class","nv-x nv-axis"),h.append("g").attr("class","nv-y1 nv-axis"),h.append("g").attr("class","nv-y2 nv-axis"),h.append("g").attr("class","nv-barsWrap"),h.append("g").attr("class","nv-linesWrap");var g=p.append("g").attr("class","nv-context");g.append("g").attr("class","nv-x nv-axis"),g.append("g").attr("class","nv-y1 nv-axis"),g.append("g").attr("class","nv-y2 nv-axis"),g.append("g").attr("class","nv-barsWrap"),g.append("g").attr("class","nv-linesWrap"),g.append("g").attr("class","nv-brushBackground"),g.append("g").attr("class","nv-x nv-brush"),q&&(Y.width(r/2),f.select(".nv-legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(Y),V.top!=Y.height()&&(V.top=Y.height(),o=(Z||parseInt(t.style("height"))||400)-V.top-V.bottom-G),f.select(".nv-legendWrap").attr("transform","translate("+r/2+","+-V.top+")")),d.attr("transform","translate("+V.left+","+V.top+")"),N.width(r).height(a).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&n[e].bar})),z.width(r).height(a).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&!n[e].bar}));var v=f.select(".nv-context .nv-barsWrap").datum(l.length?l:[{values:[]}]),m=f.select(".nv-context .nv-linesWrap").datum(s[0].disabled?[{values:[]}]:s);f.select(".nv-context").attr("transform","translate(0,"+(o+V.bottom+_.top)+")"),v.transition().call(N),m.transition().call(z),R.x(S).on("brush",k),U&&R.extent(U);var x=f.select(".nv-brushBackground").selectAll("g").data([U||R.extent()]),y=x.enter().append("g");y.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",a),y.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",a);var b=f.select(".nv-x.nv-brush").call(R);function k(){U=R.empty()?null:R.extent(),w=R.empty()?S.domain():R.extent(),Q.brush({extent:w,brush:R}),R.empty()||R.extent(U),x.data([R.empty()?S.domain():U]).each(function(t,e){var n=S(t[0])-S.range()[0],r=S.range()[1]-S(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",S(t[1])).attr("width",r<0?0:r)}),F.width(r).height(o).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&n[e].bar})),W.width(r).height(o).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&!n[e].bar}));var t=f.select(".nv-focus .nv-barsWrap").datum(l.length?l.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return F.x()(t,e)>=w[0]&&F.x()(t,e)<=w[1]})}}):[{values:[]}]),e=f.select(".nv-focus .nv-linesWrap").datum(s[0].disabled?[{values:[]}]:s.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return W.x()(t,e)>=w[0]&&W.x()(t,e)<=w[1]})}}));A=l.length?F.xScale():W.xScale(),L.scale(A).ticks(r/100).tickSize(-o,0),L.domain([Math.ceil(w[0]),Math.floor(w[1])]),f.select(".nv-x.nv-axis").transition().duration(tt).call(L),t.transition().duration(tt).call(F),e.transition().duration(tt).call(W),f.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+C.range()[0]+")"),H.scale(C).ticks(o/36).tickSize(-r,0),f.select(".nv-focus .nv-y1.nv-axis").style("opacity",l.length?1:0),P.scale(M).ticks(o/36).tickSize(l.length?0:-r,0),f.select(".nv-focus .nv-y2.nv-axis").style("opacity",s.length?1:0).attr("transform","translate("+A.range()[1]+",0)"),f.select(".nv-focus .nv-y1.nv-axis").transition().duration(tt).call(H),f.select(".nv-focus .nv-y2.nv-axis").transition().duration(tt).call(P)}b.selectAll("rect").attr("height",a),b.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=a/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),B.ticks(r/100).tickSize(-a,0),f.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")"),f.select(".nv-context .nv-x.nv-axis").transition().call(B),T.scale(D).ticks(a/36).tickSize(-r,0),f.select(".nv-context .nv-y1.nv-axis").style("opacity",l.length?1:0).attr("transform","translate(0,"+S.range()[0]+")"),f.select(".nv-context .nv-y1.nv-axis").transition().call(T),E.scale(I).ticks(a/36).tickSize(l.length?0:-r,0),f.select(".nv-context .nv-y2.nv-axis").style("opacity",s.length?1:0).attr("transform","translate("+S.range()[1]+",0)"),f.select(".nv-context .nv-y2.nv-axis").transition().call(E),Y.dispatch.on("stateChange",function(t){nt.update()}),Q.on("tooltipShow",function(t){$&&et(t,e.parentNode)}),k()}),nt}return W.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+V.left,t.pos[1]+V.top],Q.tooltipShow(t)}),W.dispatch.on("elementMouseout.tooltip",function(t){Q.tooltipHide(t)}),F.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+V.left,t.pos[1]+V.top],Q.tooltipShow(t)}),F.dispatch.on("elementMouseout.tooltip",function(t){Q.tooltipHide(t)}),Q.on("tooltipHide",function(){$&&rt.tooltip.cleanup()}),nt.dispatch=Q,nt.legend=Y,nt.lines=W,nt.lines2=z,nt.bars=F,nt.bars2=N,nt.xAxis=L,nt.x2Axis=B,nt.y1Axis=H,nt.y2Axis=P,nt.y3Axis=T,nt.y4Axis=E,d3.rebind(nt,W,"defined","size","clipVoronoi","interpolate"),nt.options=rt.utils.optionsFunc.bind(nt),nt.x=function(t){return arguments.length?(O=t,W.x(t),F.x(t),nt):O},nt.y=function(t){return arguments.length?(K=t,W.y(t),F.y(t),nt):K},nt.margin=function(t){return arguments.length?(V.top=void 0!==t.top?t.top:V.top,V.right=void 0!==t.right?t.right:V.right,V.bottom=void 0!==t.bottom?t.bottom:V.bottom,V.left=void 0!==t.left?t.left:V.left,nt):V},nt.width=function(t){return arguments.length?(X=t,nt):X},nt.height=function(t){return arguments.length?(Z=t,nt):Z},nt.color=function(t){return arguments.length?(j=rt.utils.getColor(t),Y.color(j),nt):j},nt.showLegend=function(t){return arguments.length?(q=t,nt):q},nt.tooltips=function(t){return arguments.length?($=t,nt):$},nt.tooltipContent=function(t){return arguments.length?(l=t,nt):l},nt.noData=function(t){return arguments.length?(J=t,nt):J},nt.brushExtent=function(t){return arguments.length?(U=t,nt):U},nt},rt.models.multiBar=function(){"use strict";var p,f,h,g,v,m,x,y={top:0,right:0,bottom:0,left:0},b=960,k=500,w=d3.scale.ordinal(),A=d3.scale.linear(),S=Math.floor(1e4*Math.random()),C=function(t){return t.x},M=function(t){return t.y},D=[0],I=!0,W=!1,z="zero",F=rt.utils.defaultColor(),N=!1,L=null,B=1200,H=.1,P=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function e(t){return t.each(function(a){var t=b-y.left-y.right,e=k-y.top-y.bottom,n=d3.select(this);N&&a.length&&(N=[{values:a[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),W&&(a=d3.layout.stack().offset(z).values(function(t){return t.values}).y(M)(!a.length&&N?N:a)),a.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),W&&a[0].values.map(function(t,n){var r=0,o=0;a.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=o,o-=e.size):(e.y1=e.size+r,r+=e.size)})});var r=f&&h?[]:a.map(function(t){return t.values.map(function(t,e){return{x:C(t,e),y:M(t,e),y0:t.y0,y1:t.y1}})});w.domain(f||d3.merge(r).map(function(t){return t.x})).rangeBands(g||[0,t],H),A.domain(h||d3.extent(d3.merge(r).map(function(t){return W?0<t.y?t.y1:t.y1+t.y:t.y}).concat(D))).range(v||[e,0]),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]):w.domain([-1,1])),A.domain()[0]===A.domain()[1]&&(A.domain()[0]?A.domain([A.domain()[0]+.01*A.domain()[0],A.domain()[1]-.01*A.domain()[1]]):A.domain([-1,1])),m=m||w,x=x||A;var o=n.selectAll("g.nv-wrap.nv-multibar").data([a]),i=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=i.append("defs"),s=i.append("g"),c=o.select("g");s.append("g").attr("class","nv-groups"),o.attr("transform","translate("+y.left+","+y.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+S).append("rect"),o.select("#nv-edge-clip-"+S+" rect").attr("width",t).attr("height",e),c.attr("clip-path",I?"url(#nv-edge-clip-"+S+")":"");var u=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});u.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),u.exit().transition().selectAll("rect.nv-bar").delay(function(t,e){return e*B/a[0].values.length}).attr("y",function(t){return x(W?t.y0:0)}).attr("height",0).remove(),u.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return F(t,e)}).style("stroke",function(t,e){return F(t,e)}),u.transition().style("stroke-opacity",1).style("fill-opacity",.75);var d=u.selectAll("rect.nv-bar").data(function(t){return N&&!a.length?N.values:t.values});d.exit().remove();d.enter().append("rect").attr("class",function(t,e){return M(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return W?0:n*w.rangeBand()/a.length}).attr("y",function(t){return x(W?t.y0:0)}).attr("height",0).attr("width",w.rangeBand()/(W?1:a.length)).attr("transform",function(t,e){return"translate("+w(C(t,e))+",0)"});d.style("fill",function(t,e,n){return F(t,n,e)}).style("stroke",function(t,e,n){return F(t,n,e)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),P.elementMouseover({value:M(t,e),point:t,series:a[t.series],pos:[w(C(t,e))+w.rangeBand()*(W?a.length/2:t.series+.5)/a.length,A(M(t,e)+(W?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),P.elementMouseout({value:M(t,e),point:t,series:a[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("click",function(t,e){P.elementClick({value:M(t,e),point:t,series:a[t.series],pos:[w(C(t,e))+w.rangeBand()*(W?a.length/2:t.series+.5)/a.length,A(M(t,e)+(W?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,e){P.elementDblClick({value:M(t,e),point:t,series:a[t.series],pos:[w(C(t,e))+w.rangeBand()*(W?a.length/2:t.series+.5)/a.length,A(M(t,e)+(W?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),d.attr("class",function(t,e){return M(t,e)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(t,e){return"translate("+w(C(t,e))+",0)"}),L&&(p||(p=a.map(function(){return!0})),d.style("fill",function(t,e,n){return d3.rgb(L(t,e)).darker(p.map(function(t,e){return e}).filter(function(t,e){return!p[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(L(t,e)).darker(p.map(function(t,e){return e}).filter(function(t,e){return!p[e]})[n]).toString()})),W?d.transition().delay(function(t,e){return e*B/a[0].values.length}).attr("y",function(t,e){return A(W?t.y1:0)}).attr("height",function(t,e){return Math.max(Math.abs(A(t.y+(W?t.y0:0))-A(W?t.y0:0)),1)}).attr("x",function(t,e){return W?0:t.series*w.rangeBand()/a.length}).attr("width",w.rangeBand()/(W?1:a.length)):d.transition().delay(function(t,e){return e*B/a[0].values.length}).attr("x",function(t,e){return t.series*w.rangeBand()/a.length}).attr("width",w.rangeBand()/a.length).attr("y",function(t,e){return M(t,e)<0?A(0):A(0)-A(M(t,e))<1?A(0)-1:A(M(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(A(M(t,e))-A(0)),1)||0}),m=w.copy(),x=A.copy()}),e}return e.dispatch=P,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(C=t,e):C},e.y=function(t){return arguments.length?(M=t,e):M},e.margin=function(t){return arguments.length?(y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left,e):y},e.width=function(t){return arguments.length?(b=t,e):b},e.height=function(t){return arguments.length?(k=t,e):k},e.xScale=function(t){return arguments.length?(w=t,e):w},e.yScale=function(t){return arguments.length?(A=t,e):A},e.xDomain=function(t){return arguments.length?(f=t,e):f},e.yDomain=function(t){return arguments.length?(h=t,e):h},e.xRange=function(t){return arguments.length?(g=t,e):g},e.yRange=function(t){return arguments.length?(v=t,e):v},e.forceY=function(t){return arguments.length?(D=t,e):D},e.stacked=function(t){return arguments.length?(W=t,e):W},e.stackOffset=function(t){return arguments.length?(z=t,e):z},e.clipEdge=function(t){return arguments.length?(I=t,e):I},e.color=function(t){return arguments.length?(F=rt.utils.getColor(t),e):F},e.barColor=function(t){return arguments.length?(L=rt.utils.getColor(t),e):L},e.disabled=function(t){return arguments.length?(p=t,e):p},e.id=function(t){return arguments.length?(S=t,e):S},e.hideable=function(t){return arguments.length?(N=t,e):N},e.delay=function(t){return arguments.length?(B=t,e):B},e.groupSpacing=function(t){return arguments.length?(H=t,e):H},e},rt.models.multiBarChart=function(){"use strict";var h,g,v=rt.models.multiBar(),m=rt.models.axis(),x=rt.models.axis(),y=rt.models.legend(),b=rt.models.legend(),k={top:30,right:20,bottom:50,left:60},w=null,A=null,S=rt.utils.defaultColor(),C=!0,M=!0,D=!0,I=!0,W=!1,z=!0,F=!1,N=0,L=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},B={stacked:!1},H=null,P="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),E=function(){return C?180:0},Y=250;v.stacked(!1),m.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),x.orient(W?"right":"left").tickFormat(d3.format(",.1f")),b.updateState(!1);var R=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=m.tickFormat()(v.x()(t.point,t.pointIndex)),a=x.tickFormat()(v.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,V);rt.tooltip.show([n,r],i,t.value<0?"n":"s",null,e)};function V(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(w||parseInt(e.style("width"))||960)-k.left-k.right,a=(A||parseInt(e.style("height"))||400)-k.top-k.bottom;if(V.update=function(){e.transition().duration(Y).call(V)},V.container=this,B.disabled=r.map(function(t){return!!t.disabled}),!H)for(t in H={},B)B[t]instanceof Array?H[t]=B[t].slice(0):H[t]=B[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([P]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",k.left+o/2).attr("y",k.top+a/2).text(function(t){return t}),V}e.selectAll(".nv-noData").remove(),h=v.xScale(),g=v.yScale();var l=e.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),c=l.select("g");if(s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),M&&(y.width(o-E()),v.barColor()&&r.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),c.select(".nv-legendWrap").datum(r).call(y),k.top!=y.height()&&(k.top=y.height(),a=(A||parseInt(e.style("height"))||400)-k.top-k.bottom),c.select(".nv-legendWrap").attr("transform","translate("+E()+","+-k.top+")")),C){var u=[{key:"Grouped",disabled:v.stacked()},{key:"Stacked",disabled:!v.stacked()}];b.width(E()).color(["#444","#444","#444"]),c.select(".nv-controlsWrap").datum(u).attr("transform","translate(0,"+-k.top+")").call(b)}if(l.attr("transform","translate("+k.left+","+k.top+")"),W&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),v.disabled(r.map(function(t){return t.disabled})).width(o).height(a).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),c.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(v),D){m.scale(h).ticks(o/100).tickSize(-a,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),c.select(".nv-x.nv-axis").transition().call(m);var d=c.select(".nv-x.nv-axis > g").selectAll("g");if(d.selectAll("line, text").style("opacity",1),F){var p=function(t,e){return"translate("+t+","+e+")"};d.selectAll("text").attr("transform",function(t,e,n){return p(0,n%2==0?5:17)});var f=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;c.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return p(0,0===e||f%2!=0?17:5)})}z&&d.filter(function(t,e){return e%Math.ceil(r[0].values.length/(o/100))!=0}).selectAll("text, line").style("opacity",0),N&&d.selectAll(".tick text").attr("transform","rotate("+N+" 0,0)").style("text-anchor",0<N?"start":"end"),c.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}I&&(x.scale(g).ticks(a/36).tickSize(-o,0),c.select(".nv-y.nv-axis").transition().call(x)),y.dispatch.on("stateChange",function(t){B=t,T.stateChange(B),V.update()}),b.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(u=u.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":v.stacked(!1);break;case"Stacked":v.stacked(!0)}B.stacked=v.stacked(),T.stateChange(B),V.update()}}),T.on("tooltipShow",function(t){L&&R(t,n.parentNode)}),T.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),B.disabled=n.disabled),void 0!==n.stacked&&(v.stacked(n.stacked),B.stacked=n.stacked),V.update()})}),V}return v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],T.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){T.tooltipHide(t)}),T.on("tooltipHide",function(){L&&rt.tooltip.cleanup()}),V.dispatch=T,V.multibar=v,V.legend=y,V.xAxis=m,V.yAxis=x,d3.rebind(V,v,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),V.options=rt.utils.optionsFunc.bind(V),V.margin=function(t){return arguments.length?(k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left,V):k},V.width=function(t){return arguments.length?(w=t,V):w},V.height=function(t){return arguments.length?(A=t,V):A},V.color=function(t){return arguments.length?(S=rt.utils.getColor(t),y.color(S),V):S},V.showControls=function(t){return arguments.length?(C=t,V):C},V.showLegend=function(t){return arguments.length?(M=t,V):M},V.showXAxis=function(t){return arguments.length?(D=t,V):D},V.showYAxis=function(t){return arguments.length?(I=t,V):I},V.rightAlignYAxis=function(t){return arguments.length?(W=t,x.orient(t?"right":"left"),V):W},V.reduceXTicks=function(t){return arguments.length?(z=t,V):z},V.rotateLabels=function(t){return arguments.length?(N=t,V):N},V.staggerLabels=function(t){return arguments.length?(F=t,V):F},V.tooltip=function(t){return arguments.length?(l=t,V):l},V.tooltips=function(t){return arguments.length?(L=t,V):L},V.tooltipContent=function(t){return arguments.length?(l=t,V):l},V.state=function(t){return arguments.length?(B=t,V):B},V.defaultState=function(t){return arguments.length?(H=t,V):H},V.noData=function(t){return arguments.length?(P=t,V):P},V.transitionDuration=function(t){return arguments.length?(Y=t,V):Y},V},rt.models.multiBarHorizontal=function(){"use strict";var u,d,p,f,h,g,v,m={top:0,right:0,bottom:0,left:0},x=960,y=500,e=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),k=d3.scale.linear(),w=function(t){return t.x},A=function(t){return t.y},S=[0],C=rt.utils.defaultColor(),M=null,D=!1,I=!1,W=!1,z=60,F=d3.format(",.2f"),n=1200,N=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function r(t){return t.each(function(a){var t=x-m.left-m.right,e=y-m.top-m.bottom;d3.select(this);D&&(a=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(A)(a)),a.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),D&&a[0].values.map(function(t,n){var r=0,o=0;a.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=o-e.size,o-=e.size):(e.y1=r,r+=e.size)})});var n=d&&p?[]:a.map(function(t){return t.values.map(function(t,e){return{x:w(t,e),y:A(t,e),y0:t.y0,y1:t.y1}})});b.domain(d||d3.merge(n).map(function(t){return t.x})).rangeBands(f||[0,e],.1),k.domain(p||d3.extent(d3.merge(n).map(function(t){return D?0<t.y?t.y1+t.y:t.y1:t.y}).concat(S))),I&&!D?k.range(h||[k.domain()[0]<0?z:0,t-(0<k.domain()[1]?z:0)]):k.range(h||[0,t]),g=g||b,v=v||d3.scale.linear().domain(k.domain()).range([k(0),k(0)]);var r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),i=(o.append("defs"),o.append("g"));r.select("g");i.append("g").attr("class","nv-groups"),r.attr("transform","translate("+m.left+","+m.top+")");var l=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});l.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),l.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),l.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return C(t,e)}).style("stroke",function(t,e){return C(t,e)}),l.transition().style("stroke-opacity",1).style("fill-opacity",.75);var s=l.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var c=s.enter().append("g").attr("transform",function(t,e,n){return"translate("+v(D?t.y0:0)+","+(D?0:n*b.rangeBand()/a.length+b(w(t,e)))+")"});c.append("rect").attr("width",0).attr("height",b.rangeBand()/(D?1:a.length)),s.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),N.elementMouseover({value:A(t,e),point:t,series:a[t.series],pos:[k(A(t,e)+(D?t.y0:0)),b(w(t,e))+b.rangeBand()*(D?a.length/2:t.series+.5)/a.length],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),N.elementMouseout({value:A(t,e),point:t,series:a[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("click",function(t,e){N.elementClick({value:A(t,e),point:t,series:a[t.series],pos:[b(w(t,e))+b.rangeBand()*(D?a.length/2:t.series+.5)/a.length,k(A(t,e)+(D?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,e){N.elementDblClick({value:A(t,e),point:t,series:a[t.series],pos:[b(w(t,e))+b.rangeBand()*(D?a.length/2:t.series+.5)/a.length,k(A(t,e)+(D?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),c.append("text"),I&&!D?(s.select("text").attr("text-anchor",function(t,e){return A(t,e)<0?"end":"start"}).attr("y",b.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(t,e){return F(A(t,e))}),s.transition().select("text").attr("x",function(t,e){return A(t,e)<0?-4:k(A(t,e))-k(0)+4})):s.selectAll("text").text(""),W&&!D?(c.append("text").classed("nv-bar-label",!0),s.select("text.nv-bar-label").attr("text-anchor",function(t,e){return A(t,e)<0?"start":"end"}).attr("y",b.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(t,e){return w(t,e)}),s.transition().select("text.nv-bar-label").attr("x",function(t,e){return A(t,e)<0?k(0)-k(A(t,e))+4:-4})):s.selectAll("text.nv-bar-label").text(""),s.attr("class",function(t,e){return A(t,e)<0?"nv-bar negative":"nv-bar positive"}),M&&(u||(u=a.map(function(){return!0})),s.style("fill",function(t,e,n){return d3.rgb(M(t,e)).darker(u.map(function(t,e){return e}).filter(function(t,e){return!u[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(M(t,e)).darker(u.map(function(t,e){return e}).filter(function(t,e){return!u[e]})[n]).toString()})),D?s.transition().attr("transform",function(t,e){return"translate("+k(t.y1)+","+b(w(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(k(A(t,e)+t.y0)-k(t.y0))}).attr("height",b.rangeBand()):s.transition().attr("transform",function(t,e){return"translate("+(A(t,e)<0?k(A(t,e)):k(0))+","+(t.series*b.rangeBand()/a.length+b(w(t,e)))+")"}).select("rect").attr("height",b.rangeBand()/a.length).attr("width",function(t,e){return Math.max(Math.abs(k(A(t,e))-k(0)),1)}),g=b.copy(),v=k.copy()}),r}return r.dispatch=N,r.options=rt.utils.optionsFunc.bind(r),r.x=function(t){return arguments.length?(w=t,r):w},r.y=function(t){return arguments.length?(A=t,r):A},r.margin=function(t){return arguments.length?(m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left,r):m},r.width=function(t){return arguments.length?(x=t,r):x},r.height=function(t){return arguments.length?(y=t,r):y},r.xScale=function(t){return arguments.length?(b=t,r):b},r.yScale=function(t){return arguments.length?(k=t,r):k},r.xDomain=function(t){return arguments.length?(d=t,r):d},r.yDomain=function(t){return arguments.length?(p=t,r):p},r.xRange=function(t){return arguments.length?(f=t,r):f},r.yRange=function(t){return arguments.length?(h=t,r):h},r.forceY=function(t){return arguments.length?(S=t,r):S},r.stacked=function(t){return arguments.length?(D=t,r):D},r.color=function(t){return arguments.length?(C=rt.utils.getColor(t),r):C},r.barColor=function(t){return arguments.length?(M=rt.utils.getColor(t),r):M},r.disabled=function(t){return arguments.length?(u=t,r):u},r.id=function(t){return arguments.length?(e=t,r):e},r.delay=function(t){return arguments.length?(n=t,r):n},r.showValues=function(t){return arguments.length?(I=t,r):I},r.showBarLabels=function(t){return arguments.length?(W=t,r):W},r.valueFormat=function(t){return arguments.length?(F=t,r):F},r.valuePadding=function(t){return arguments.length?(z=t,r):z},r},rt.models.multiBarHorizontalChart=function(){"use strict";var d,p,f=rt.models.multiBarHorizontal(),h=rt.models.axis(),g=rt.models.axis(),v=rt.models.legend().height(30),m=rt.models.legend().height(30),x={top:30,right:20,bottom:50,left:60},y=null,b=null,k=rt.utils.defaultColor(),w=!0,A=!0,S=!0,C=!0,M=!0,l=function(t,e,n,r,o){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},D={stacked:!1},I=null,W="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),F=function(){return w?180:0},N=250;f.stacked(!1),h.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),g.orient("bottom").tickFormat(d3.format(",.1f")),m.updateState(!1);var L=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=h.tickFormat()(f.x()(t.point,t.pointIndex)),a=g.tickFormat()(f.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,B);rt.tooltip.show([n,r],i,t.value<0?"e":"w",null,e)};function B(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(y||parseInt(e.style("width"))||960)-x.left-x.right,a=(b||parseInt(e.style("height"))||400)-x.top-x.bottom;if(B.update=function(){e.transition().duration(N).call(B)},B.container=this,D.disabled=r.map(function(t){return!!t.disabled}),!I)for(t in I={},D)D[t]instanceof Array?I[t]=D[t].slice(0):I[t]=D[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([W]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",x.left+o/2).attr("y",x.top+a/2).text(function(t){return t}),B}e.selectAll(".nv-noData").remove(),d=f.xScale(),p=f.yScale();var l=e.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),c=l.select("g");if(s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),A&&(v.width(o-F()),f.barColor()&&r.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),c.select(".nv-legendWrap").datum(r).call(v),x.top!=v.height()&&(x.top=v.height(),a=(b||parseInt(e.style("height"))||400)-x.top-x.bottom),c.select(".nv-legendWrap").attr("transform","translate("+F()+","+-x.top+")")),w){var u=[{key:"Grouped",disabled:f.stacked()},{key:"Stacked",disabled:!f.stacked()}];m.width(F()).color(["#444","#444","#444"]),c.select(".nv-controlsWrap").datum(u).attr("transform","translate(0,"+-x.top+")").call(m)}(l.attr("transform","translate("+x.left+","+x.top+")"),f.disabled(r.map(function(t){return t.disabled})).width(o).height(a).color(r.map(function(t,e){return t.color||k(t,e)}).filter(function(t,e){return!r[e].disabled})),c.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(f),S)&&(h.scale(d).ticks(a/24).tickSize(-o,0),c.select(".nv-x.nv-axis").transition().call(h),c.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));C&&(g.scale(p).ticks(o/100).tickSize(-a,0),c.select(".nv-y.nv-axis").attr("transform","translate(0,"+a+")"),c.select(".nv-y.nv-axis").transition().call(g)),c.select(".nv-zeroLine line").attr("x1",p(0)).attr("x2",p(0)).attr("y1",0).attr("y2",-a),v.dispatch.on("stateChange",function(t){D=t,z.stateChange(D),B.update()}),m.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(u=u.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":f.stacked(!1);break;case"Stacked":f.stacked(!0)}D.stacked=f.stacked(),z.stateChange(D),B.update()}}),z.on("tooltipShow",function(t){M&&L(t,n.parentNode)}),z.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),D.disabled=n.disabled),void 0!==n.stacked&&(f.stacked(n.stacked),D.stacked=n.stacked),B.update()})}),B}return f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],z.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){z.tooltipHide(t)}),z.on("tooltipHide",function(){M&&rt.tooltip.cleanup()}),B.dispatch=z,B.multibar=f,B.legend=v,B.xAxis=h,B.yAxis=g,d3.rebind(B,f,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor"),B.options=rt.utils.optionsFunc.bind(B),B.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,B):x},B.width=function(t){return arguments.length?(y=t,B):y},B.height=function(t){return arguments.length?(b=t,B):b},B.color=function(t){return arguments.length?(k=rt.utils.getColor(t),v.color(k),B):k},B.showControls=function(t){return arguments.length?(w=t,B):w},B.showLegend=function(t){return arguments.length?(A=t,B):A},B.showXAxis=function(t){return arguments.length?(S=t,B):S},B.showYAxis=function(t){return arguments.length?(C=t,B):C},B.tooltip=function(t){return arguments.length?(l=t,B):l},B.tooltips=function(t){return arguments.length?(M=t,B):M},B.tooltipContent=function(t){return arguments.length?(l=t,B):l},B.state=function(t){return arguments.length?(D=t,B):D},B.defaultState=function(t){return arguments.length?(I=t,B):I},B.noData=function(t){return arguments.length?(W=t,B):W},B.transitionDuration=function(t){return arguments.length?(N=t,B):N},B},rt.models.multiChart=function(){"use strict";var S,C,M={top:30,right:20,bottom:50,left:60},D=d3.scale.category20().range(),I=null,W=null,z=!0,F=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},N=d3.scale.linear(),L=d3.scale.linear(),B=d3.scale.linear(),H=rt.models.line().yScale(L),P=rt.models.line().yScale(B),T=rt.models.multiBar().stacked(!1).yScale(L),E=rt.models.multiBar().stacked(!1).yScale(B),Y=rt.models.stackedArea().yScale(L),R=rt.models.stackedArea().yScale(B),V=rt.models.axis().scale(N).orient("bottom").tickPadding(5),_=rt.models.axis().scale(L).orient("left"),X=rt.models.axis().scale(B).orient("right"),Z=rt.models.legend().height(30),G=d3.dispatch("tooltipShow","tooltipHide"),O=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=V.tickFormat()(H.x()(t.point,t.pointIndex)),a=(2==t.series.yAxis?X:_).tickFormat()(H.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,K);rt.tooltip.show([n,r],i,void 0,void 0,e.offsetParent)};function K(t){return t.each(function(n){var t=d3.select(this),e=this;K.update=function(){t.transition().call(K)},K.container=this;var r=(I||parseInt(t.style("width"))||960)-M.left-M.right,o=(W||parseInt(t.style("height"))||400)-M.top-M.bottom,a=n.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),i=n.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),l=n.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),s=n.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),c=n.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),u=n.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),d=n.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})}),p=n.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})});N.domain(d3.extent(d3.merge(d.concat(p)),function(t){return t.x})).range([0,r]);var f=t.selectAll("g.wrap.multiChart").data([n]),h=f.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");h.append("g").attr("class","x axis"),h.append("g").attr("class","y1 axis"),h.append("g").attr("class","y2 axis"),h.append("g").attr("class","lines1Wrap"),h.append("g").attr("class","lines2Wrap"),h.append("g").attr("class","bars1Wrap"),h.append("g").attr("class","bars2Wrap"),h.append("g").attr("class","stack1Wrap"),h.append("g").attr("class","stack2Wrap"),h.append("g").attr("class","legendWrap");var g=f.select("g");z&&(Z.width(r/2),g.select(".legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(Z),M.top!=Z.height()&&(M.top=Z.height(),o=(W||parseInt(t.style("height"))||400)-M.top-M.bottom),g.select(".legendWrap").attr("transform","translate("+r/2+","+-M.top+")")),H.width(r).height(o).interpolate("monotone").color(n.map(function(t,e){return t.color||D[e%D.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"line"==n[e].type})),P.width(r).height(o).interpolate("monotone").color(n.map(function(t,e){return t.color||D[e%D.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"line"==n[e].type})),T.width(r).height(o).color(n.map(function(t,e){return t.color||D[e%D.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"bar"==n[e].type})),E.width(r).height(o).color(n.map(function(t,e){return t.color||D[e%D.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"bar"==n[e].type})),Y.width(r).height(o).color(n.map(function(t,e){return t.color||D[e%D.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"area"==n[e].type})),R.width(r).height(o).color(n.map(function(t,e){return t.color||D[e%D.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"area"==n[e].type})),g.attr("transform","translate("+M.left+","+M.top+")");var v=g.select(".lines1Wrap").datum(a),m=g.select(".bars1Wrap").datum(l),x=g.select(".stack1Wrap").datum(c),y=g.select(".lines2Wrap").datum(i),b=g.select(".bars2Wrap").datum(s),k=g.select(".stack2Wrap").datum(u),w=c.length?c.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[],A=u.length?u.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[];L.domain(S||d3.extent(d3.merge(d).concat(w),function(t){return t.y})).range([0,o]),B.domain(C||d3.extent(d3.merge(p).concat(A),function(t){return t.y})).range([0,o]),H.yDomain(L.domain()),T.yDomain(L.domain()),Y.yDomain(L.domain()),P.yDomain(B.domain()),E.yDomain(B.domain()),R.yDomain(B.domain()),c.length&&d3.transition(x).call(Y),u.length&&d3.transition(k).call(R),l.length&&d3.transition(m).call(T),s.length&&d3.transition(b).call(E),a.length&&d3.transition(v).call(H),i.length&&d3.transition(y).call(P),V.ticks(r/100).tickSize(-o,0),g.select(".x.axis").attr("transform","translate(0,"+o+")"),d3.transition(g.select(".x.axis")).call(V),_.ticks(o/36).tickSize(-r,0),d3.transition(g.select(".y1.axis")).call(_),X.ticks(o/36).tickSize(-r,0),d3.transition(g.select(".y2.axis")).call(X),g.select(".y2.axis").style("opacity",p.length?1:0).attr("transform","translate("+N.range()[1]+",0)"),Z.dispatch.on("stateChange",function(t){K.update()}),G.on("tooltipShow",function(t){F&&O(t,e.parentNode)})}),K}return H.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),H.dispatch.on("elementMouseout.tooltip",function(t){G.tooltipHide(t)}),P.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),P.dispatch.on("elementMouseout.tooltip",function(t){G.tooltipHide(t)}),T.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),T.dispatch.on("elementMouseout.tooltip",function(t){G.tooltipHide(t)}),E.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),E.dispatch.on("elementMouseout.tooltip",function(t){G.tooltipHide(t)}),Y.dispatch.on("tooltipShow",function(t){if(!Math.round(100*Y.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),Y.dispatch.on("tooltipHide",function(t){G.tooltipHide(t)}),R.dispatch.on("tooltipShow",function(t){if(!Math.round(100*R.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),R.dispatch.on("tooltipHide",function(t){G.tooltipHide(t)}),H.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),H.dispatch.on("elementMouseout.tooltip",function(t){G.tooltipHide(t)}),P.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+M.left,t.pos[1]+M.top],G.tooltipShow(t)}),P.dispatch.on("elementMouseout.tooltip",function(t){G.tooltipHide(t)}),G.on("tooltipHide",function(){F&&rt.tooltip.cleanup()}),K.dispatch=G,K.lines1=H,K.lines2=P,K.bars1=T,K.bars2=E,K.stack1=Y,K.stack2=R,K.xAxis=V,K.yAxis1=_,K.yAxis2=X,K.options=rt.utils.optionsFunc.bind(K),K.x=function(t){return arguments.length?(getX=t,H.x(t),T.x(t),K):getX},K.y=function(t){return arguments.length?(getY=t,H.y(t),T.y(t),K):getY},K.yDomain1=function(t){return arguments.length?(S=t,K):S},K.yDomain2=function(t){return arguments.length?(C=t,K):C},K.margin=function(t){return arguments.length?(M=t,K):M},K.width=function(t){return arguments.length?(I=t,K):I},K.height=function(t){return arguments.length?(W=t,K):W},K.color=function(t){return arguments.length?(D=t,Z.color(t),K):D},K.showLegend=function(t){return arguments.length?(z=t,K):z},K.tooltips=function(t){return arguments.length?(F=t,K):F},K.tooltipContent=function(t){return arguments.length?(l=t,K):l},K},rt.models.ohlcBar=function(){"use strict";var u,d,p,f,h={top:0,right:0,bottom:0,left:0},g=960,v=500,m=Math.floor(1e4*Math.random()),x=d3.scale.linear(),y=d3.scale.linear(),b=function(t){return t.x},k=function(t){return t.y},w=function(t){return t.open},A=function(t){return t.close},S=function(t){return t.high},C=function(t){return t.low},M=[],D=[],I=!1,W=!0,e=rt.utils.defaultColor(),z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function n(t){return t.each(function(r){var o=g-h.left-h.right,t=v-h.top-h.bottom,e=d3.select(this);x.domain(u||d3.extent(r[0].values.map(b).concat(M))),I?x.range(p||[.5*o/r[0].values.length,o*(r[0].values.length-.5)/r[0].values.length]):x.range(p||[0,o]),y.domain(d||[d3.min(r[0].values.map(C).concat(D)),d3.max(r[0].values.map(S).concat(D))]).range(f||[t,0]),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]):x.domain([-1,1])),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]+.01*y.domain()[0],y.domain()[1]-.01*y.domain()[1]]):y.domain([-1,1]));var n=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([r[0].values]),a=n.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),i=a.append("defs"),l=a.append("g"),s=n.select("g");l.append("g").attr("class","nv-ticks"),n.attr("transform","translate("+h.left+","+h.top+")"),e.on("click",function(t,e){z.chartClick({data:t,index:e,pos:d3.event,id:m})}),i.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),n.select("#nv-chart-clip-path-"+m+" rect").attr("width",o).attr("height",t),s.attr("clip-path",W?"url(#nv-chart-clip-path-"+m+")":"");var c=n.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});c.exit().remove();c.enter().append("path").attr("class",function(t,e,n){return(w(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){var n=o/r[0].values.length*.9;return"m0,0l0,"+(y(w(t,e))-y(S(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(y(C(t,e))-y(w(t,e)))+"l0,"+(y(A(t,e))-y(C(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+x(b(t,e))+","+y(S(t,e))+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),z.elementMouseover({point:t,series:r[0],pos:[x(b(t,e)),y(k(t,e))],pointIndex:e,seriesIndex:0,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),z.elementMouseout({point:t,series:r[0],pointIndex:e,seriesIndex:0,e:d3.event})}).on("click",function(t,e){z.elementClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation()}).on("dblclick",function(t,e){z.elementDblClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation()});c.attr("class",function(t,e,n){return(w(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(c).attr("transform",function(t,e){return"translate("+x(b(t,e))+","+y(S(t,e))+")"}).attr("d",function(t,e){var n=o/r[0].values.length*.9;return"m0,0l0,"+(y(w(t,e))-y(S(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(y(C(t,e))-y(w(t,e)))+"l0,"+(y(A(t,e))-y(C(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),n}return n.dispatch=z,n.options=rt.utils.optionsFunc.bind(n),n.x=function(t){return arguments.length?(b=t,n):b},n.y=function(t){return arguments.length?(k=t,n):k},n.open=function(t){return arguments.length?(w=t,n):w},n.close=function(t){return arguments.length?(A=t,n):A},n.high=function(t){return arguments.length?(S=t,n):S},n.low=function(t){return arguments.length?(C=t,n):C},n.margin=function(t){return arguments.length?(h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left,n):h},n.width=function(t){return arguments.length?(g=t,n):g},n.height=function(t){return arguments.length?(v=t,n):v},n.xScale=function(t){return arguments.length?(x=t,n):x},n.yScale=function(t){return arguments.length?(y=t,n):y},n.xDomain=function(t){return arguments.length?(u=t,n):u},n.yDomain=function(t){return arguments.length?(d=t,n):d},n.xRange=function(t){return arguments.length?(p=t,n):p},n.yRange=function(t){return arguments.length?(f=t,n):f},n.forceX=function(t){return arguments.length?(M=t,n):M},n.forceY=function(t){return arguments.length?(D=t,n):D},n.padData=function(t){return arguments.length?(I=t,n):I},n.clipEdge=function(t){return arguments.length?(W=t,n):W},n.color=function(t){return arguments.length?(e=rt.utils.getColor(t),n):e},n.id=function(t){return arguments.length?(m=t,n):m},n},rt.models.pie=function(){"use strict";var x={top:0,right:0,bottom:0,left:0},y=500,b=500,k=function(t){return t.x},w=function(t){return t.y},e=function(t){return t.description},A=Math.floor(1e4*Math.random()),S=rt.utils.defaultColor(),n=d3.format(",.2f"),C=!0,M=!0,D=!1,I="key",W=.02,z=!1,F=!1,N=!1,L=!1,B=.5,H=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function r(t){return t.each(function(t){var e=y-x.left-x.right,n=b-x.top-x.bottom,o=Math.min(e,n)/2,a=o-o/5,r=d3.select(this),i=r.selectAll(".nv-wrap.nv-pie").data(t),l=i.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+A).append("g"),s=i.select("g");l.append("g").attr("class","nv-pie"),l.append("g").attr("class","nv-pieLabels"),i.attr("transform","translate("+x.left+","+x.top+")"),s.select(".nv-pie").attr("transform","translate("+e/2+","+n/2+")"),s.select(".nv-pieLabels").attr("transform","translate("+e/2+","+n/2+")"),r.on("click",function(t,e){H.chartClick({data:t,index:e,pos:d3.event,id:A})});var c=d3.svg.arc().outerRadius(a);N&&c.startAngle(N),L&&c.endAngle(L),z&&c.innerRadius(o*B);var u=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:w(t)}),p=i.select(".nv-pie").selectAll(".nv-slice").data(u),f=i.select(".nv-pieLabels").selectAll(".nv-label").data(u);p.exit().remove(),f.exit().remove();var h=p.enter().append("g").attr("class","nv-slice").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),H.elementMouseover({label:k(t.data),value:w(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:A})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),H.elementMouseout({label:k(t.data),value:w(t.data),point:t.data,index:e,id:A})}).on("click",function(t,e){H.elementClick({label:k(t.data),value:w(t.data),point:t.data,index:e,pos:d3.event,id:A}),d3.event.stopPropagation()}).on("dblclick",function(t,e){H.elementDblClick({label:k(t.data),value:w(t.data),point:t.data,index:e,pos:d3.event,id:A}),d3.event.stopPropagation()});p.attr("fill",function(t,e){return S(t,e)}).attr("stroke",function(t,e){return S(t,e)});h.append("path").each(function(t){this._current=t});if(p.select("path").transition().attr("d",c).attrTween("d",function(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,z||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return c(e(t))}}),C){var g=d3.svg.arc().innerRadius(0);M&&(g=c),D&&(g=d3.svg.arc().outerRadius(c.outerRadius())),f.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t){if(F){t.outerRadius=a+10,t.innerRadius=a+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+g.centroid(t)+") rotate("+e+")"}return t.outerRadius=o+10,t.innerRadius=o+15,"translate("+g.centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",F?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var v={},m=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)};f.transition().attr("transform",function(t){if(F){t.outerRadius=a+10,t.innerRadius=a+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+g.centroid(t)+") rotate("+e+")"}t.outerRadius=o+10,t.innerRadius=o+15;var n=g.centroid(t),r=m(n);return v[r]&&(n[1]-=14),v[m(n)]=!0,"translate("+n+")"}),f.select(".nv-label text").style("text-anchor",F?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),r={key:k(t.data),value:w(t.data),percent:d3.format("%")(n)};return t.value&&W<n?r[I]:""})}}),r}return r.dispatch=H,r.options=rt.utils.optionsFunc.bind(r),r.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,r):x},r.width=function(t){return arguments.length?(y=t,r):y},r.height=function(t){return arguments.length?(b=t,r):b},r.values=function(t){return rt.log("pie.values() is no longer supported."),r},r.x=function(t){return arguments.length?(k=t,r):k},r.y=function(t){return arguments.length?(w=d3.functor(t),r):w},r.description=function(t){return arguments.length?(e=t,r):e},r.showLabels=function(t){return arguments.length?(C=t,r):C},r.labelSunbeamLayout=function(t){return arguments.length?(F=t,r):F},r.donutLabelsOutside=function(t){return arguments.length?(D=t,r):D},r.pieLabelsOutside=function(t){return arguments.length?(M=t,r):M},r.labelType=function(t){return arguments.length?(I=(I=t)||"key",r):I},r.donut=function(t){return arguments.length?(z=t,r):z},r.donutRatio=function(t){return arguments.length?(B=t,r):B},r.startAngle=function(t){return arguments.length?(N=t,r):N},r.endAngle=function(t){return arguments.length?(L=t,r):L},r.id=function(t){return arguments.length?(A=t,r):A},r.color=function(t){return arguments.length?(S=rt.utils.getColor(t),r):S},r.valueFormat=function(t){return arguments.length?(n=t,r):n},r.labelThreshold=function(t){return arguments.length?(W=t,r):W},r},rt.models.pieChart=function(){"use strict";var u=rt.models.pie(),d=rt.models.legend(),p={top:30,right:20,bottom:20,left:20},f=null,h=null,g=!0,e=rt.utils.defaultColor(),s=!0,c=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+e+"</p>"},v={},m=null,x="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");function b(t){return t.each(function(t){var e,n=d3.select(this),r=(f||parseInt(n.style("width"))||960)-p.left-p.right,o=(h||parseInt(n.style("height"))||400)-p.top-p.bottom;if(b.update=function(){n.transition().call(b)},b.container=this,v.disabled=t.map(function(t){return!!t.disabled}),!m)for(e in m={},v)v[e]instanceof Array?m[e]=v[e].slice(0):m[e]=v[e];if(!t||!t.length){var a=n.selectAll(".nv-noData").data([x]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",p.left+r/2).attr("y",p.top+o/2).text(function(t){return t}),b}n.selectAll(".nv-noData").remove();var i=n.selectAll("g.nv-wrap.nv-pieChart").data([t]),l=i.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=i.select("g");l.append("g").attr("class","nv-pieWrap"),l.append("g").attr("class","nv-legendWrap"),g&&(d.width(r).key(u.x()),i.select(".nv-legendWrap").datum(t).call(d),p.top!=d.height()&&(p.top=d.height(),o=(h||parseInt(n.style("height"))||400)-p.top-p.bottom),i.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),i.attr("transform","translate("+p.left+","+p.top+")"),u.width(r).height(o);var c=s.select(".nv-pieWrap").datum([t]);d3.transition(c).call(u),d.dispatch.on("stateChange",function(t){v=t,y.stateChange(v),b.update()}),u.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),y.on("changeState",function(n){void 0!==n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),v.disabled=n.disabled),b.update()})}),b}return u.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],y.tooltipShow(t)}),y.on("tooltipShow",function(t){var e,n,r,o,a,i,l;s&&(e=t,r=u.description()(e.point)||u.x()(e.point),o=e.pos[0]+(n&&n.offsetLeft||0),a=e.pos[1]+(n&&n.offsetTop||0),i=u.valueFormat()(u.y()(e.point)),l=c(r,i,e,b),rt.tooltip.show([o,a],l,e.value<0?"n":"s",null,n))}),y.on("tooltipHide",function(){s&&rt.tooltip.cleanup()}),b.legend=d,b.dispatch=y,b.pie=u,d3.rebind(b,u,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),b.options=rt.utils.optionsFunc.bind(b),b.margin=function(t){return arguments.length?(p.top=void 0!==t.top?t.top:p.top,p.right=void 0!==t.right?t.right:p.right,p.bottom=void 0!==t.bottom?t.bottom:p.bottom,p.left=void 0!==t.left?t.left:p.left,b):p},b.width=function(t){return arguments.length?(f=t,b):f},b.height=function(t){return arguments.length?(h=t,b):h},b.color=function(t){return arguments.length?(e=rt.utils.getColor(t),d.color(e),u.color(e),b):e},b.showLegend=function(t){return arguments.length?(g=t,b):g},b.tooltips=function(t){return arguments.length?(s=t,b):s},b.tooltipContent=function(t){return arguments.length?(c=t,b):c},b.state=function(t){return arguments.length?(v=t,b):v},b.defaultState=function(t){return arguments.length?(m=t,b):m},b.noData=function(t){return arguments.length?(x=t,b):x},b},rt.models.scatter=function(){"use strict";var p,f,h,g,v={top:0,right:0,bottom:0,left:0},m=960,x=500,y=rt.utils.defaultColor(),b=Math.floor(1e5*Math.random()),k=d3.scale.linear(),w=d3.scale.linear(),A=d3.scale.linear(),S=function(t){return t.x},C=function(t){return t.y},M=function(t){return t.size||1},D=function(t){return t.shape||"circle"},I=!0,W=[],z=[],F=[],N=!0,L=null,B=function(t){return!t.notActive},H=!1,P=.1,T=!1,E=!0,Y=function(){return 25},R=null,V=null,_=null,X=null,Z=null,G=null,O=!1,K=d3.dispatch("elementClick","elementMouseover","elementMouseout"),j=!0,q=!1;function e(t){return t.each(function(i){var t=m-v.left-v.right,e=x-v.top-v.bottom,n=d3.select(this);i.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var r=R&&V&&Z?[]:d3.merge(i.map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:C(t,e),size:M(t,e)}})}));k.domain(R||d3.extent(r.map(function(t){return t.x}).concat(W))),H&&i[0]?k.range(_||[(t*P+t)/(2*i[0].values.length),t-t*(1+P)/(2*i[0].values.length)]):k.range(_||[0,t]),w.domain(V||d3.extent(r.map(function(t){return t.y}).concat(z))).range(X||[e,0]),A.domain(Z||d3.extent(r.map(function(t){return t.size}).concat(F))).range(G||[16,256]),k.domain()[0]!==k.domain()[1]&&w.domain()[0]!==w.domain()[1]||(O=!0),k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]-.01*k.domain()[0],k.domain()[1]+.01*k.domain()[1]]):k.domain([-1,1])),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]):w.domain([-1,1])),isNaN(k.domain()[0])&&k.domain([-1,1]),isNaN(w.domain()[0])&&w.domain([-1,1]),p=p||k,f=f||w,h=h||A;var l=n.selectAll("g.nv-wrap.nv-scatter").data([i]),o=l.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+b+(O?" nv-single-point":"")),a=o.append("defs"),s=o.append("g"),c=l.select("g");s.append("g").attr("class","nv-groups"),s.append("g").attr("class","nv-point-paths"),l.attr("transform","translate("+v.left+","+v.top+")"),a.append("clipPath").attr("id","nv-edge-clip-"+b).append("rect"),l.select("#nv-edge-clip-"+b+" rect").attr("width",t).attr("height",0<e?e:0),c.attr("clip-path",T?"url(#nv-edge-clip-"+b+")":""),q=!0;var u,d=l.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});(d.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d.exit().remove(),d.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),d.transition().style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),I)?((u=d.selectAll("circle.nv-point").data(function(t){return t.values},L)).enter().append("circle").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("cx",function(t,e){return rt.utils.NaNtoZero(p(S(t,e)))}).attr("cy",function(t,e){return rt.utils.NaNtoZero(f(C(t,e)))}).attr("r",function(t,e){return Math.sqrt(A(M(t,e))/Math.PI)}),u.exit().remove(),d.exit().selectAll("path.nv-point").transition().attr("cx",function(t,e){return rt.utils.NaNtoZero(k(S(t,e)))}).attr("cy",function(t,e){return rt.utils.NaNtoZero(w(C(t,e)))}).remove(),u.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),u.transition().attr("cx",function(t,e){return rt.utils.NaNtoZero(k(S(t,e)))}).attr("cy",function(t,e){return rt.utils.NaNtoZero(w(C(t,e)))}).attr("r",function(t,e){return Math.sqrt(A(M(t,e))/Math.PI)})):((u=d.selectAll("path.nv-point").data(function(t){return t.values})).enter().append("path").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("transform",function(t,e){return"translate("+p(S(t,e))+","+f(C(t,e))+")"}).attr("d",d3.svg.symbol().type(D).size(function(t,e){return A(M(t,e))})),u.exit().remove(),d.exit().selectAll("path.nv-point").transition().attr("transform",function(t,e){return"translate("+k(S(t,e))+","+w(C(t,e))+")"}).remove(),u.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),u.transition().attr("transform",function(t,e){return"translate("+k(S(t,e))+","+w(C(t,e))+")"}).attr("d",d3.svg.symbol().type(D).size(function(t,e){return A(M(t,e))})));clearTimeout(g),g=setTimeout(function(){if(!N)return!1;var n=d3.merge(i.map(function(t,o){return t.values.map(function(t,e){var n=S(t,e),r=C(t,e);return[k(n)+1e-7*Math.random(),w(r)+1e-7*Math.random(),o,e,t]}).filter(function(t,e){return B(t[4],e)})}));if(!0===j){if(E){l.select("defs").selectAll(".nv-point-clips").data([b]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+b);var t=l.select("#nv-points-clip-"+b).selectAll("circle").data(n);t.enter().append("circle").attr("r",Y),t.exit().remove(),t.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),l.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+b+")")}n.length&&(n.push([k.range()[0]-20,w.range()[0]-20,null,null]),n.push([k.range()[1]+20,w.range()[1]+20,null,null]),n.push([k.range()[0]-20,w.range()[0]+20,null,null]),n.push([k.range()[1]+20,w.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,x+10],[m+10,x+10],[m+10,-10]]),e=d3.geom.voronoi(n).map(function(t,e){return{data:r.clip(t),series:n[e][2],point:n[e][3]}}),o=l.select(".nv-point-paths").selectAll("path").data(e);o.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),o.exit().remove(),o.attr("d",function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"});var a=function(t,e){if(q)return 0;var n=i[t.series];if(void 0!==n){var r=n.values[t.point];e({point:r,series:n,pos:[k(S(r,t.point))+v.left,w(C(r,t.point))+v.top],seriesIndex:t.series,pointIndex:t.point})}};o.on("click",function(t){a(t,K.elementClick)}).on("mouseover",function(t){a(t,K.elementMouseover)}).on("mouseout",function(t,e){a(t,K.elementMouseout)})}else l.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(q||!i[t.series])return 0;var n=i[t.series],r=n.values[e];K.elementClick({point:r,series:n,pos:[k(S(r,e))+v.left,w(C(r,e))+v.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(q||!i[t.series])return 0;var n=i[t.series],r=n.values[e];K.elementMouseover({point:r,series:n,pos:[k(S(r,e))+v.left,w(C(r,e))+v.top],seriesIndex:t.series,pointIndex:e})}).on("mouseout",function(t,e){if(q||!i[t.series])return 0;var n=i[t.series],r=n.values[e];K.elementMouseout({point:r,series:n,seriesIndex:t.series,pointIndex:e})});q=!1},300),p=k.copy(),f=w.copy(),h=A.copy()}),e}return e.clearHighlights=function(){d3.selectAll(".nv-chart-"+b+" .nv-point.hover").classed("hover",!1)},e.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+b+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)},K.on("elementMouseover.point",function(t){N&&e.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),K.on("elementMouseout.point",function(t){N&&e.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e.dispatch=K,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(S=d3.functor(t),e):S},e.y=function(t){return arguments.length?(C=d3.functor(t),e):C},e.size=function(t){return arguments.length?(M=d3.functor(t),e):M},e.margin=function(t){return arguments.length?(v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left,e):v},e.width=function(t){return arguments.length?(m=t,e):m},e.height=function(t){return arguments.length?(x=t,e):x},e.xScale=function(t){return arguments.length?(k=t,e):k},e.yScale=function(t){return arguments.length?(w=t,e):w},e.zScale=function(t){return arguments.length?(A=t,e):A},e.xDomain=function(t){return arguments.length?(R=t,e):R},e.yDomain=function(t){return arguments.length?(V=t,e):V},e.sizeDomain=function(t){return arguments.length?(Z=t,e):Z},e.xRange=function(t){return arguments.length?(_=t,e):_},e.yRange=function(t){return arguments.length?(X=t,e):X},e.sizeRange=function(t){return arguments.length?(G=t,e):G},e.forceX=function(t){return arguments.length?(W=t,e):W},e.forceY=function(t){return arguments.length?(z=t,e):z},e.forceSize=function(t){return arguments.length?(F=t,e):F},e.interactive=function(t){return arguments.length?(N=t,e):N},e.pointKey=function(t){return arguments.length?(L=t,e):L},e.pointActive=function(t){return arguments.length?(B=t,e):B},e.padData=function(t){return arguments.length?(H=t,e):H},e.padDataOuter=function(t){return arguments.length?(P=t,e):P},e.clipEdge=function(t){return arguments.length?(T=t,e):T},e.clipVoronoi=function(t){return arguments.length?(E=t,e):E},e.useVoronoi=function(t){return arguments.length?(!1===(j=t)&&(E=!1),e):j},e.clipRadius=function(t){return arguments.length?(Y=t,e):Y},e.color=function(t){return arguments.length?(y=rt.utils.getColor(t),e):y},e.shape=function(t){return arguments.length?(D=t,e):D},e.onlyCircles=function(t){return arguments.length?(I=t,e):I},e.id=function(t){return arguments.length?(b=t,e):b},e.singlePoint=function(t){return arguments.length?(O=t,e):O},e},rt.models.scatterChart=function(){"use strict";var f,h,g=rt.models.scatter(),v=rt.models.axis(),m=rt.models.axis(),x=rt.models.legend(),y=rt.models.legend(),b=rt.models.distribution(),k=rt.models.distribution(),w={top:30,right:20,bottom:50,left:75},A=null,S=null,C=rt.utils.defaultColor(),M=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):g.xScale(),D=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):g.yScale(),I=0,W=0,z=!1,F=!1,N=!0,L=!0,B=!0,H=!1,P=!!d3.fisheye,T=0,E=!1,Y=!0,u=function(t,e,n){return"<strong>"+e+"</strong>"},d=function(t,e,n){return"<strong>"+n+"</strong>"},p=null,R={},V=null,_=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),X="No Data Available.",Z=250;g.xScale(M).yScale(D),v.orient("bottom").tickPadding(10),m.orient(H?"right":"left").tickPadding(10),b.axis("x"),k.axis("y"),y.updateState(!1);var G=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=t.pos[0]+(e.offsetLeft||0),a=D.range()[0]+w.top+(e.offsetTop||0),i=M.range()[0]+w.left+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=v.tickFormat()(g.x()(t.point,t.pointIndex)),c=m.tickFormat()(g.y()(t.point,t.pointIndex));null!=u&&rt.tooltip.show([o,a],u(t.series.key,s,c,t,K),"n",1,e,"x-nvtooltip"),null!=d&&rt.tooltip.show([i,l],d(t.series.key,s,c,t,K),"e",1,e,"y-nvtooltip"),null!=p&&rt.tooltip.show([n,r],p(t.series.key,s,c,t,K),t.value<0?"n":"s",null,e)},O=[{key:"Magnify",disabled:!0}];function K(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(A||parseInt(e.style("width"))||960)-w.left-w.right,a=(S||parseInt(e.style("height"))||400)-w.top-w.bottom;if(K.update=function(){e.transition().duration(Z).call(K)},K.container=this,R.disabled=r.map(function(t){return!!t.disabled}),!V)for(t in V={},R)R[t]instanceof Array?V[t]=R[t].slice(0):V[t]=R[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([X]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",w.left+o/2).attr("y",w.top+a/2).text(function(t){return t}),K}e.selectAll(".nv-noData").remove(),f=f||M,h=h||D;var l=e.selectAll("g.nv-wrap.nv-scatterChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+g.id()).append("g"),c=l.select("g");if(s.append("rect").attr("class","nvd3 nv-background"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-scatterWrap"),s.append("g").attr("class","nv-distWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),N){var u=P?o/2:o;x.width(u),l.select(".nv-legendWrap").datum(r).call(x),w.top!=x.height()&&(w.top=x.height(),a=(S||parseInt(e.style("height"))||400)-w.top-w.bottom),l.select(".nv-legendWrap").attr("transform","translate("+(o-u)+","+-w.top+")")}if(P&&(y.width(180).color(["#444"]),c.select(".nv-controlsWrap").datum(O).attr("transform","translate(0,"+-w.top+")").call(y)),l.attr("transform","translate("+w.left+","+w.top+")"),H&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),g.width(o).height(a).color(r.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!r[e].disabled})),0!==I&&g.xDomain(null),0!==W&&g.yDomain(null),l.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(g),0!==I){var d=M.domain()[1]-M.domain()[0];g.xDomain([M.domain()[0]-I*d,M.domain()[1]+I*d])}if(0!==W){var p=D.domain()[1]-D.domain()[0];g.yDomain([D.domain()[0]-W*p,D.domain()[1]+W*p])}0===W&&0===I||l.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(g),L&&(v.scale(M).ticks(v.ticks()&&v.ticks().length?v.ticks():o/100).tickSize(-a,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")").call(v)),B&&(m.scale(D).ticks(m.ticks()&&m.ticks().length?m.ticks():a/36).tickSize(-o,0),c.select(".nv-y.nv-axis").call(m)),z&&(b.getData(g.x()).scale(M).width(o).color(r.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),c.select(".nv-distributionX").attr("transform","translate(0,"+D.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(b)),F&&(k.getData(g.y()).scale(D).width(a).color(r.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),c.select(".nv-distributionY").attr("transform","translate("+(H?o:-k.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(k)),d3.fisheye&&(c.select(".nv-background").attr("width",o).attr("height",a),c.select(".nv-background").on("mousemove",function(){if(E)return c.select(".nv-point-paths").style("pointer-events","all"),!1;c.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);M.distortion(T).focus(t[0]),D.distortion(T).focus(t[1]),c.select(".nv-scatterWrap").call(g),L&&c.select(".nv-x.nv-axis").call(v);B&&c.select(".nv-y.nv-axis").call(m);c.select(".nv-distributionX").datum(r.filter(function(t){return!t.disabled})).call(b),c.select(".nv-distributionY").datum(r.filter(function(t){return!t.disabled})).call(k)}),c.select(".nv-background").on("click",function(){E=!E}),g.dispatch.on("elementClick.freezeFisheye",function(){E=!E})),y.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,T=t.disabled?0:2.5,c.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),c.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(M.distortion(T).focus(0),D.distortion(T).focus(0),c.select(".nv-scatterWrap").call(g),c.select(".nv-x.nv-axis").call(v),c.select(".nv-y.nv-axis").call(m)):E=!1,K.update()}),x.dispatch.on("stateChange",function(t){R.disabled=t.disabled,_.stateChange(R),K.update()}),g.dispatch.on("elementMouseover.tooltip",function(n){d3.select(".nv-chart-"+g.id()+" .nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",function(t,e){return n.pos[1]-a}),d3.select(".nv-chart-"+g.id()+" .nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",n.pos[0]+b.size()),n.pos=[n.pos[0]+w.left,n.pos[1]+w.top],_.tooltipShow(n)}),_.on("tooltipShow",function(t){Y&&G(t,n.parentNode)}),_.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),R.disabled=n.disabled),K.update()}),f=M.copy(),h=D.copy()}),K}return g.dispatch.on("elementMouseout.tooltip",function(t){_.tooltipHide(t),d3.select(".nv-chart-"+g.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+g.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",k.size())}),_.on("tooltipHide",function(){Y&&rt.tooltip.cleanup()}),K.dispatch=_,K.scatter=g,K.legend=x,K.controls=y,K.xAxis=v,K.yAxis=m,K.distX=b,K.distY=k,d3.rebind(K,g,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),K.options=rt.utils.optionsFunc.bind(K),K.margin=function(t){return arguments.length?(w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left,K):w},K.width=function(t){return arguments.length?(A=t,K):A},K.height=function(t){return arguments.length?(S=t,K):S},K.color=function(t){return arguments.length?(C=rt.utils.getColor(t),x.color(C),b.color(C),k.color(C),K):C},K.showDistX=function(t){return arguments.length?(z=t,K):z},K.showDistY=function(t){return arguments.length?(F=t,K):F},K.showControls=function(t){return arguments.length?(P=t,K):P},K.showLegend=function(t){return arguments.length?(N=t,K):N},K.showXAxis=function(t){return arguments.length?(L=t,K):L},K.showYAxis=function(t){return arguments.length?(B=t,K):B},K.rightAlignYAxis=function(t){return arguments.length?(H=t,m.orient(t?"right":"left"),K):H},K.fisheye=function(t){return arguments.length?(T=t,K):T},K.xPadding=function(t){return arguments.length?(I=t,K):I},K.yPadding=function(t){return arguments.length?(W=t,K):W},K.tooltips=function(t){return arguments.length?(Y=t,K):Y},K.tooltipContent=function(t){return arguments.length?(p=t,K):p},K.tooltipXContent=function(t){return arguments.length?(u=t,K):u},K.tooltipYContent=function(t){return arguments.length?(d=t,K):d},K.state=function(t){return arguments.length?(R=t,K):R},K.defaultState=function(t){return arguments.length?(V=t,K):V},K.noData=function(t){return arguments.length?(X=t,K):X},K.transitionDuration=function(t){return arguments.length?(Z=t,K):Z},K},rt.models.scatterPlusLineChart=function(){"use strict";var p,f,h=rt.models.scatter(),g=rt.models.axis(),v=rt.models.axis(),m=rt.models.legend(),x=rt.models.legend(),y=rt.models.distribution(),b=rt.models.distribution(),k={top:30,right:20,bottom:50,left:75},w=null,A=null,S=rt.utils.defaultColor(),C=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):h.xScale(),M=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):h.yScale(),D=!1,I=!1,W=!0,z=!0,F=!0,N=!1,L=!!d3.fisheye,B=0,H=!1,P=!0,u=function(t,e,n){return"<strong>"+e+"</strong>"},d=function(t,e,n){return"<strong>"+n+"</strong>"},T=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+r+"</p>"},E={},Y=null,R=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),V="No Data Available.",_=250;h.xScale(C).yScale(M),g.orient("bottom").tickPadding(10),v.orient(N?"right":"left").tickPadding(10),y.axis("x"),b.axis("y"),x.updateState(!1);var X=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=t.pos[0]+(e.offsetLeft||0),a=M.range()[0]+k.top+(e.offsetTop||0),i=C.range()[0]+k.left+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=g.tickFormat()(h.x()(t.point,t.pointIndex)),c=v.tickFormat()(h.y()(t.point,t.pointIndex));null!=u&&rt.tooltip.show([o,a],u(t.series.key,s,c,t,G),"n",1,e,"x-nvtooltip"),null!=d&&rt.tooltip.show([i,l],d(t.series.key,s,c,t,G),"e",1,e,"y-nvtooltip"),null!=T&&rt.tooltip.show([n,r],T(t.series.key,s,c,t.point.tooltip,t,G),t.value<0?"n":"s",null,e)},Z=[{key:"Magnify",disabled:!0}];function G(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(w||parseInt(e.style("width"))||960)-k.left-k.right,a=(A||parseInt(e.style("height"))||400)-k.top-k.bottom;if(G.update=function(){e.transition().duration(_).call(G)},G.container=this,E.disabled=r.map(function(t){return!!t.disabled}),!Y)for(t in Y={},E)E[t]instanceof Array?Y[t]=E[t].slice(0):Y[t]=E[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([V]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",k.left+o/2).attr("y",k.top+a/2).text(function(t){return t}),G}e.selectAll(".nv-noData").remove(),C=h.xScale(),M=h.yScale(),p=p||C,f=f||M;var l=e.selectAll("g.nv-wrap.nv-scatterChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+h.id()).append("g"),c=l.select("g");s.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-scatterWrap"),s.append("g").attr("class","nv-regressionLinesWrap"),s.append("g").attr("class","nv-distWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),l.attr("transform","translate("+k.left+","+k.top+")"),N&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),W&&(m.width(o/2),l.select(".nv-legendWrap").datum(r).call(m),k.top!=m.height()&&(k.top=m.height(),a=(A||parseInt(e.style("height"))||400)-k.top-k.bottom),l.select(".nv-legendWrap").attr("transform","translate("+o/2+","+-k.top+")")),L&&(x.width(180).color(["#444"]),c.select(".nv-controlsWrap").datum(Z).attr("transform","translate(0,"+-k.top+")").call(x)),h.width(o).height(a).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),l.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(h),l.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+h.id()+")");var u=l.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});u.enter().append("g").attr("class","nv-regLines");var d=u.selectAll(".nv-regLine").data(function(t){return[t]});d.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);d.transition().attr("x1",C.range()[0]).attr("x2",C.range()[1]).attr("y1",function(t,e){return M(C.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return M(C.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return S(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),z&&(g.scale(C).ticks(g.ticks()?g.ticks():o/100).tickSize(-a,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")").call(g)),F&&(v.scale(M).ticks(v.ticks()?v.ticks():a/36).tickSize(-o,0),c.select(".nv-y.nv-axis").call(v)),D&&(y.getData(h.x()).scale(C).width(o).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),c.select(".nv-distributionX").attr("transform","translate(0,"+M.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(y)),I&&(b.getData(h.y()).scale(M).width(a).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),c.select(".nv-distributionY").attr("transform","translate("+(N?o:-b.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(b)),d3.fisheye&&(c.select(".nv-background").attr("width",o).attr("height",a),c.select(".nv-background").on("mousemove",function(){if(H)return c.select(".nv-point-paths").style("pointer-events","all"),!1;c.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);C.distortion(B).focus(t[0]),M.distortion(B).focus(t[1]),c.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(h),z&&c.select(".nv-x.nv-axis").call(g);F&&c.select(".nv-y.nv-axis").call(v);c.select(".nv-distributionX").datum(r.filter(function(t){return!t.disabled})).call(y),c.select(".nv-distributionY").datum(r.filter(function(t){return!t.disabled})).call(b)}),c.select(".nv-background").on("click",function(){H=!H}),h.dispatch.on("elementClick.freezeFisheye",function(){H=!H})),x.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,B=t.disabled?0:2.5,c.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),c.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(C.distortion(B).focus(0),M.distortion(B).focus(0),c.select(".nv-scatterWrap").call(h),c.select(".nv-x.nv-axis").call(g),c.select(".nv-y.nv-axis").call(v)):H=!1,G.update()}),m.dispatch.on("stateChange",function(t){E=t,R.stateChange(E),G.update()}),h.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-a),d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+y.size()),t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],R.tooltipShow(t)}),R.on("tooltipShow",function(t){P&&X(t,n.parentNode)}),R.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),E.disabled=n.disabled),G.update()}),p=C.copy(),f=M.copy()}),G}return h.dispatch.on("elementMouseout.tooltip",function(t){R.tooltipHide(t),d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",b.size())}),R.on("tooltipHide",function(){P&&rt.tooltip.cleanup()}),G.dispatch=R,G.scatter=h,G.legend=m,G.controls=x,G.xAxis=g,G.yAxis=v,G.distX=y,G.distY=b,d3.rebind(G,h,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),G.options=rt.utils.optionsFunc.bind(G),G.margin=function(t){return arguments.length?(k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left,G):k},G.width=function(t){return arguments.length?(w=t,G):w},G.height=function(t){return arguments.length?(A=t,G):A},G.color=function(t){return arguments.length?(S=rt.utils.getColor(t),m.color(S),y.color(S),b.color(S),G):S},G.showDistX=function(t){return arguments.length?(D=t,G):D},G.showDistY=function(t){return arguments.length?(I=t,G):I},G.showControls=function(t){return arguments.length?(L=t,G):L},G.showLegend=function(t){return arguments.length?(W=t,G):W},G.showXAxis=function(t){return arguments.length?(z=t,G):z},G.showYAxis=function(t){return arguments.length?(F=t,G):F},G.rightAlignYAxis=function(t){return arguments.length?(N=t,v.orient(t?"right":"left"),G):N},G.fisheye=function(t){return arguments.length?(B=t,G):B},G.tooltips=function(t){return arguments.length?(P=t,G):P},G.tooltipContent=function(t){return arguments.length?(T=t,G):T},G.tooltipXContent=function(t){return arguments.length?(u=t,G):u},G.tooltipYContent=function(t){return arguments.length?(d=t,G):d},G.state=function(t){return arguments.length?(E=t,G):E},G.defaultState=function(t){return arguments.length?(Y=t,G):Y},G.noData=function(t){return arguments.length?(V=t,G):V},G.transitionDuration=function(t){return arguments.length?(_=t,G):_},G},rt.models.sparkline=function(){"use strict";var l,s,c,u,d={top:2,right:0,bottom:2,left:0},p=400,f=32,e=!0,h=d3.scale.linear(),g=d3.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},x=rt.utils.getColor(["#000"]);function n(t){return t.each(function(t){var e=p-d.left-d.right,n=f-d.top-d.bottom,r=d3.select(this);h.domain(l||d3.extent(t,v)).range(c||[0,e]),g.domain(s||d3.extent(t,m)).range(u||[n,0]);var o=r.selectAll("g.nv-wrap.nv-sparkline").data([t]);o.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),o.select("g");o.attr("transform","translate("+d.left+","+d.top+")");var a=o.selectAll("path").data(function(t){return[t]});a.enter().append("path"),a.exit().remove(),a.style("stroke",function(t,e){return t.color||x(t,e)}).attr("d",d3.svg.line().x(function(t,e){return h(v(t,e))}).y(function(t,e){return g(m(t,e))}));var i=o.selectAll("circle.nv-point").data(function(n){var t=n.map(function(t,e){return m(t,e)});function e(t){if(-1==t)return null;var e=n[t];return e.pointIndex=t,e}var r=e(t.lastIndexOf(g.domain()[1]));return[e(t.indexOf(g.domain()[0])),r,e(t.length-1)].filter(function(t){return null!=t})});i.enter().append("circle"),i.exit().remove(),i.attr("cx",function(t,e){return h(v(t,t.pointIndex))}).attr("cy",function(t,e){return g(m(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return v(t,t.pointIndex)==h.domain()[1]?"nv-point nv-currentValue":m(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),n}return n.options=rt.utils.optionsFunc.bind(n),n.margin=function(t){return arguments.length?(d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left,n):d},n.width=function(t){return arguments.length?(p=t,n):p},n.height=function(t){return arguments.length?(f=t,n):f},n.x=function(t){return arguments.length?(v=d3.functor(t),n):v},n.y=function(t){return arguments.length?(m=d3.functor(t),n):m},n.xScale=function(t){return arguments.length?(h=t,n):h},n.yScale=function(t){return arguments.length?(g=t,n):g},n.xDomain=function(t){return arguments.length?(l=t,n):l},n.yDomain=function(t){return arguments.length?(s=t,n):s},n.xRange=function(t){return arguments.length?(c=t,n):c},n.yRange=function(t){return arguments.length?(u=t,n):u},n.animate=function(t){return arguments.length?(e=t,n):e},n.color=function(t){return arguments.length?(x=rt.utils.getColor(t),n):x},n},rt.models.sparklinePlus=function(){"use strict";var f,h,g=rt.models.sparkline(),v={top:15,right:100,bottom:10,left:50},m=null,x=null,y=[],b=!1,k=d3.format(",r"),w=d3.format(",.2f"),e=!0,A=!0,S=!1,C="No Data Available.";function M(p){return p.each(function(n){var t=d3.select(this),e=(m||parseInt(t.style("width"))||960)-v.left-v.right,r=(x||parseInt(t.style("height"))||400)-v.top-v.bottom;if(M.update=function(){M(p)},M.container=this,!n||!n.length){var o=t.selectAll(".nv-noData").data([C]);return o.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),o.attr("x",v.left+e/2).attr("y",v.top+r/2).text(function(t){return t}),M}t.selectAll(".nv-noData").remove();var a=g.y()(n[n.length-1],n.length-1);f=g.xScale(),h=g.yScale();var i=t.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),l=i.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),s=i.select("g");l.append("g").attr("class","nv-sparklineWrap"),l.append("g").attr("class","nv-valueWrap"),l.append("g").attr("class","nv-hoverArea"),i.attr("transform","translate("+v.left+","+v.top+")");var c=s.select(".nv-sparklineWrap");g.width(e).height(r),c.call(g);var u=s.select(".nv-valueWrap").selectAll(".nv-currentValue").data([a]);function d(){if(!b){var t=s.selectAll(".nv-hoverValue").data(y),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+f(g.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),y.length&&(e.append("line").attr("x1",0).attr("y1",-v.top).attr("x2",0).attr("y2",r),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-v.top).attr("text-anchor","end").attr("dy",".9em"),s.select(".nv-hoverValue .nv-xValue").text(k(g.x()(n[y[0]],y[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-v.top).attr("text-anchor","start").attr("dy",".9em"),s.select(".nv-hoverValue .nv-yValue").text(w(g.y()(n[y[0]],y[0]))))}}u.enter().append("text").attr("class","nv-currentValue").attr("dx",S?-8:8).attr("dy",".9em").style("text-anchor",S?"end":"start"),u.attr("x",e+(S?v.right:0)).attr("y",A?function(t){return h(t)}:0).style("fill",g.color()(n[n.length-1],n.length-1)).text(w(a)),l.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(b)return;var t=d3.mouse(this)[0]-v.left;y=[function(t,e){for(var n=Math.abs(g.x()(t[0],0)-e),r=0,o=0;o<t.length;o++)Math.abs(g.x()(t[o],o)-e)<n&&(n=Math.abs(g.x()(t[o],o)-e),r=o);return r}(n,Math.round(f.invert(t)))],d()}).on("click",function(){b=!b}).on("mouseout",function(){y=[],d()}),s.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-v.left+","+-v.top+")"}).attr("width",e+v.left+v.right).attr("height",r+v.top)}),M}return M.sparkline=g,d3.rebind(M,g,"x","y","xScale","yScale","color"),M.options=rt.utils.optionsFunc.bind(M),M.margin=function(t){return arguments.length?(v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left,M):v},M.width=function(t){return arguments.length?(m=t,M):m},M.height=function(t){return arguments.length?(x=t,M):x},M.xTickFormat=function(t){return arguments.length?(k=t,M):k},M.yTickFormat=function(t){return arguments.length?(w=t,M):w},M.showValue=function(t){return arguments.length?(e=t,M):e},M.alignValue=function(t){return arguments.length?(A=t,M):A},M.rightAlignValue=function(t){return arguments.length?(S=t,M):S},M.noData=function(t){return arguments.length?(C=t,M):C},M},rt.models.stackedArea=function(){"use strict";var h,g,v={top:0,right:0,bottom:0,left:0},m=960,x=500,y=rt.utils.defaultColor(),b=Math.floor(1e5*Math.random()),k=function(t){return t.x},w=function(t){return t.y},e="stack",A="zero",S="default",C="linear",M=!1,D=rt.models.scatter(),I=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");function W(t){return t.each(function(t){var e=m-v.left-v.right,n=x-v.top-v.bottom,r=d3.select(this);h=D.xScale(),g=D.yScale();var s=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var o=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(S).offset(A).values(function(t){return t.values}).x(k).y(w).out(function(t,e,n){var r=0===w(t)?0:n;t.display={y:r,y0:e}})(o);var a=r.selectAll("g.nv-wrap.nv-stackedarea").data([t]),i=a.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),l=i.append("defs"),c=i.append("g"),u=a.select("g");c.append("g").attr("class","nv-areaWrap"),c.append("g").attr("class","nv-scatterWrap"),a.attr("transform","translate("+v.left+","+v.top+")"),D.width(e).height(n).x(k).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(t.map(function(t,e){return t.color||y(t,t.seriesIndex)})),u.select(".nv-scatterWrap").datum(t).call(D),l.append("clipPath").attr("id","nv-edge-clip-"+b).append("rect"),a.select("#nv-edge-clip-"+b+" rect").attr("width",e).attr("height",n),u.attr("clip-path",M?"url(#nv-edge-clip-"+b+")":"");var d=d3.svg.area().x(function(t,e){return h(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y+t.display.y0)}).interpolate(C),p=d3.svg.area().x(function(t,e){return h(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y0)}),f=u.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});f.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return p(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),I.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),I.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),I.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),f.exit().remove(),f.style("fill",function(t,e){return t.color||y(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||y(t,t.seriesIndex)}),f.transition().attr("d",function(t,e){return d(t.values,e)}),D.dispatch.on("elementMouseover.area",function(t){u.select(".nv-chart-"+b+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),D.dispatch.on("elementMouseout.area",function(t){u.select(".nv-chart-"+b+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),W.d3_stackedOffset_stackPercent=function(t){var e,n,r,o=t.length,a=t[0].length,i=1/o,l=[];for(n=0;n<a;++n){for(r=e=0;e<s.length;e++)r+=w(s[e].values[n]);if(r)for(e=0;e<o;e++)t[e][n][1]/=r;else for(e=0;e<o;e++)t[e][n][1]=i}for(n=0;n<a;++n)l[n]=0;return l}}),W}return D.size(2.2).sizeDomain([2.2,2.2]),D.dispatch.on("elementClick.area",function(t){I.areaClick(t)}),D.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+v.left,t.pos[1]+v.top],I.tooltipShow(t)}),D.dispatch.on("elementMouseout.tooltip",function(t){I.tooltipHide(t)}),W.dispatch=I,W.scatter=D,d3.rebind(W,D,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),W.options=rt.utils.optionsFunc.bind(W),W.x=function(t){return arguments.length?(k=d3.functor(t),W):k},W.y=function(t){return arguments.length?(w=d3.functor(t),W):w},W.margin=function(t){return arguments.length?(v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left,W):v},W.width=function(t){return arguments.length?(m=t,W):m},W.height=function(t){return arguments.length?(x=t,W):x},W.clipEdge=function(t){return arguments.length?(M=t,W):M},W.color=function(t){return arguments.length?(y=rt.utils.getColor(t),W):y},W.offset=function(t){return arguments.length?(A=t,W):A},W.order=function(t){return arguments.length?(S=t,W):S},W.style=function(t){if(!arguments.length)return e;switch(e=t){case"stack":W.offset("zero"),W.order("default");break;case"stream":W.offset("wiggle"),W.order("inside-out");break;case"stream-center":W.offset("silhouette"),W.order("inside-out");break;case"expand":W.offset("expand"),W.order("default");break;case"stack_percent":W.offset(W.d3_stackedOffset_stackPercent),W.order("default")}return W},W.interpolate=function(t){return arguments.length?(C=t,W):C},W},rt.models.stackedAreaChart=function(){"use strict";var p,f,h=rt.models.stackedArea(),g=rt.models.axis(),v=rt.models.axis(),m=rt.models.legend(),x=rt.models.legend(),y=rt.interactiveGuideline(),b={top:30,right:25,bottom:50,left:60},k=null,w=null,A=rt.utils.defaultColor(),S=!0,C=!0,M=!0,D=!0,I=!1,W=!1,z=!0,l=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},F=d3.format(",.2f"),N={style:h.style()},L=null,B="No Data Available.",H=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),P=250,T=["Stacked","Stream","Expanded"],E={},Y=250;g.orient("bottom").tickPadding(7),v.orient(I?"right":"left"),x.updateState(!1);var R=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=g.tickFormat()(h.x()(t.point,t.pointIndex)),a=v.tickFormat()(h.y()(t.point,t.pointIndex)),i=l(t.series.key,o,a,t,V);rt.tooltip.show([n,r],i,t.value<0?"n":"s",null,e)};function V(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(k||parseInt(e.style("width"))||960)-b.left-b.right,a=(w||parseInt(e.style("height"))||400)-b.top-b.bottom;if(V.update=function(){e.transition().duration(Y).call(V)},V.container=this,N.disabled=r.map(function(t){return!!t.disabled}),!L)for(t in L={},N)N[t]instanceof Array?L[t]=N[t].slice(0):L[t]=N[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([B]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",b.left+o/2).attr("y",b.top+a/2).text(function(t){return t}),V}e.selectAll(".nv-noData").remove(),p=h.xScale(),f=h.yScale();var l=e.selectAll("g.nv-wrap.nv-stackedAreaChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),c=l.select("g");if(s.append("rect").style("opacity",0),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-stackedWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),s.append("g").attr("class","nv-interactive"),c.select("rect").attr("width",o).attr("height",a),C){var u=S?o-P:o;m.width(u),c.select(".nv-legendWrap").datum(r).call(m),b.top!=m.height()&&(b.top=m.height(),a=(w||parseInt(e.style("height"))||400)-b.top-b.bottom),c.select(".nv-legendWrap").attr("transform","translate("+(o-u)+","+-b.top+")")}if(S){var d=[{key:E.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=h.style(),style:"stack"},{key:E.stream||"Stream",metaKey:"Stream",disabled:"stream"!=h.style(),style:"stream"},{key:E.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=h.style(),style:"expand"},{key:E.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=h.style(),style:"stack_percent"}];P=T.length/3*260,d=d.filter(function(t){return-1!==T.indexOf(t.metaKey)}),x.width(P).color(["#444","#444","#444"]),c.select(".nv-controlsWrap").datum(d).call(x),b.top!=Math.max(x.height(),m.height())&&(b.top=Math.max(x.height(),m.height()),a=(w||parseInt(e.style("height"))||400)-b.top-b.bottom),c.select(".nv-controlsWrap").attr("transform","translate(0,"+-b.top+")")}l.attr("transform","translate("+b.left+","+b.top+")"),I&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),W&&(y.width(o).height(a).margin({left:b.left,top:b.top}).svgContainer(e).xScale(p),l.select(".nv-interactive").call(y)),h.width(o).height(a),c.select(".nv-stackedWrap").datum(r).transition().call(h),M&&(g.scale(p).ticks(o/100).tickSize(-a,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+a+")"),c.select(".nv-x.nv-axis").transition().duration(0).call(g)),D&&(v.scale(f).ticks("wiggle"==h.offset()?0:a/36).tickSize(-o,0).setTickFormat("expand"==h.style()||"stack_percent"==h.style()?d3.format("%"):F),c.select(".nv-y.nv-axis").transition().duration(0).call(v)),h.dispatch.on("areaClick.toggle",function(n){1===r.filter(function(t){return!t.disabled}).length?r.forEach(function(t){t.disabled=!1}):r.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),N.disabled=r.map(function(t){return!!t.disabled}),H.stateChange(N),V.update()}),m.dispatch.on("stateChange",function(t){N.disabled=t.disabled,H.stateChange(N),V.update()}),x.dispatch.on("legendClick",function(t,e){t.disabled&&(d=d.map(function(t){return t.disabled=!0,t}),t.disabled=!1,h.style(t.style),N.style=h.style(),H.stateChange(N),V.update())}),y.dispatch.on("elementMousemove",function(o){h.clearHighlights();var a,i,l,s=[];if(r.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){i=rt.interactiveBisect(t.values,o.pointXValue,V.x()),h.highlightPoint(e,i,!0);var n=t.values[i];if(void 0!==n){void 0===a&&(a=n),void 0===l&&(l=V.xScale()(V.x()(n,i)));var r="expand"==h.style()?n.display.y:V.y()(n,i);s.push({key:t.key,value:r,color:A(t,t.seriesIndex),stackedValue:n.display})}}),s.reverse(),2<s.length){var c=V.yScale().invert(o.mouseY),u=null;s.forEach(function(t,e){c=Math.abs(c);var n=Math.abs(t.stackedValue.y0),r=Math.abs(t.stackedValue.y);n<=c&&c<=r+n&&(u=e)}),null!=u&&(s[u].highlight=!0)}var t=g.tickFormat()(V.x()(a,i)),e="expand"==h.style()?function(t,e){return d3.format(".1%")(t)}:function(t,e){return v.tickFormat()(t)};y.tooltip.position({left:l+b.left,top:o.mouseY+b.top}).chartContainer(n.parentNode).enabled(z).valueFormatter(e).data({value:t,series:s})(),y.renderGuideLine(l)}),y.dispatch.on("elementMouseout",function(t){H.tooltipHide(),h.clearHighlights()}),H.on("tooltipShow",function(t){z&&R(t,n.parentNode)}),H.on("changeState",function(n){void 0!==n.disabled&&r.length===n.disabled.length&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),N.disabled=n.disabled),void 0!==n.style&&h.style(n.style),V.update()})}),V}return h.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+b.left,t.pos[1]+b.top],H.tooltipShow(t)}),h.dispatch.on("tooltipHide",function(t){H.tooltipHide(t)}),H.on("tooltipHide",function(){z&&rt.tooltip.cleanup()}),V.dispatch=H,V.stacked=h,V.legend=m,V.controls=x,V.xAxis=g,V.yAxis=v,V.interactiveLayer=y,d3.rebind(V,h,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),V.options=rt.utils.optionsFunc.bind(V),V.margin=function(t){return arguments.length?(b.top=void 0!==t.top?t.top:b.top,b.right=void 0!==t.right?t.right:b.right,b.bottom=void 0!==t.bottom?t.bottom:b.bottom,b.left=void 0!==t.left?t.left:b.left,V):b},V.width=function(t){return arguments.length?(k=t,V):k},V.height=function(t){return arguments.length?(w=t,V):w},V.color=function(t){return arguments.length?(A=rt.utils.getColor(t),m.color(A),h.color(A),V):A},V.showControls=function(t){return arguments.length?(S=t,V):S},V.showLegend=function(t){return arguments.length?(C=t,V):C},V.showXAxis=function(t){return arguments.length?(M=t,V):M},V.showYAxis=function(t){return arguments.length?(D=t,V):D},V.rightAlignYAxis=function(t){return arguments.length?(I=t,v.orient(t?"right":"left"),V):I},V.useInteractiveGuideline=function(t){return arguments.length?(!0===(W=t)&&(V.interactive(!1),V.useVoronoi(!1)),V):W},V.tooltip=function(t){return arguments.length?(l=t,V):l},V.tooltips=function(t){return arguments.length?(z=t,V):z},V.tooltipContent=function(t){return arguments.length?(l=t,V):l},V.state=function(t){return arguments.length?(N=t,V):N},V.defaultState=function(t){return arguments.length?(L=t,V):L},V.noData=function(t){return arguments.length?(B=t,V):B},V.transitionDuration=function(t){return arguments.length?(Y=t,V):Y},V.controlsData=function(t){return arguments.length?(T=t,V):T},V.controlLabels=function(t){return arguments.length?"object"!=typeof t?E:(E=t,V):E},v.setTickFormat=v.tickFormat,v.tickFormat=function(t){return arguments.length?(F=t,v):F},V}}();