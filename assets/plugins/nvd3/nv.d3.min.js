!function(){var a,l,s,rt=window.nv||{};rt.version="1.1.11b",rt.dev=!0,(window.nv=rt).tooltip={},rt.utils={},rt.models={},rt.charts={},rt.graphs=[],rt.logs={},rt.dispatch=d3.dispatch("render_start","render_end"),rt.dev&&(rt.dispatch.on("render_start",function(){rt.logs.startTime=+new Date}),rt.dispatch.on("render_end",function(){rt.logs.endTime=+new Date,rt.logs.totalTime=rt.logs.endTime-rt.logs.startTime,rt.log("total",rt.logs.totalTime)})),rt.log=function(){if(rt.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(rt.dev&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},rt.render=function(r){r=r||1,rt.render.active=!0,rt.dispatch.render_start(),setTimeout(function(){for(var t,e,n=0;n<r&&(e=rt.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t),rt.graphs.push(t);rt.render.queue.splice(0,n),rt.render.queue.length?setTimeout(arguments.callee,0):(rt.render.active=!1,rt.dispatch.render_end())},0)},rt.render.active=!1,rt.render.queue=[],rt.addGraph=function(t){typeof t==typeof Function&&(t={generate:t,callback:arguments[1]}),rt.render.queue.push(t),rt.render.active||rt.render()},rt.identity=function(t){return t},rt.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=(a=d3.time.monthEnd,l=function(t){var e,n;t.setUTCDate(t.getUTCDate()+1),t.setDate((e=t.getMonth()+1,n=t.getFullYear(),new Date(n,e+1,0).getDate()))},s=function(t){return t.getMonth()},function(t,e,n){var r=a(t),o=[];if(r<t&&l(r),1<n)for(;r<e;){var i=new Date(+r);s(i)%n==0&&o.push(i),l(r)}else for(;r<e;)o.push(new Date(+r)),l(r);return o}),rt.interactiveGuideline=function(){"use strict";function s(t){t.each(function(t){function e(){var t=d3.mouse(this),e=t[0],n=t[1],r=!0,o=!1;if(g&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(o=!0)),r&&(e-=u.left,n-=u.top),e<0||n<0||a<e||l<n||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||o){if(g&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(c.nvPointerEventsClass))return;return p.elementMouseout({mouseX:e,mouseY:n}),void s.renderGuideLine(null)}var i=d.invert(e);p.elementMousemove({mouseX:e,mouseY:n,pointXValue:i}),"dblclick"===d3.event.type&&p.elementDblclick({mouseX:e,mouseY:n,pointXValue:i})}var n=d3.select(this),a=o||960,l=i||400,r=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);r.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),h&&(h.on("mousemove",e,!0).on("mouseout",e,!0).on("dblclick",e),s.renderGuideLine=function(t){if(f){var e=r.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[rt.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",l).attr("y2",0),e.exit().remove()}})})}var c=rt.models.tooltip(),o=null,i=null,u={left:0,top:0},d=d3.scale.linear(),p=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),f=!0,h=null,g=-1!==navigator.userAgent.indexOf("MSIE");return s.dispatch=p,s.tooltip=c,s.margin=function(t){return arguments.length?(u.top=void 0!==t.top?t.top:u.top,u.left=void 0!==t.left?t.left:u.left,s):u},s.width=function(t){return arguments.length?(o=t,s):o},s.height=function(t){return arguments.length?(i=t,s):i},s.xScale=function(t){return arguments.length?(d=t,s):d},s.showGuideLine=function(t){return arguments.length?(f=t,s):f},s.svgContainer=function(t){return arguments.length?(h=t,s):h},s},rt.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t){return t.x});var r=d3.bisector(n).left,o=d3.max([0,r(t,e)-1]),i=n(t[o],o);if(void 0===i&&(i=o),i===e)return o;var a=d3.min([o+1,t.length-1]),l=n(t[a],a);return void 0===l&&(l=a),Math.abs(l-e)>=Math.abs(i-e)?o:a},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function p(){if(w&&M(f)){!function(){if(y){var t=d3.select(y);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];k.left=k.left*n,k.top=k.top*n}}}();var t=k.left,e=null!=m?m:k.top,n=(c=C(f),null===(d=(u=d3.select(y||"body")).select(".nvtooltip")).node()&&(d=u.append("div").attr("class","nvtooltip "+(x||"xy-tooltip")).attr("id",A)),d.node().innerHTML=c,d.style("top",0).style("left",0).style("opacity",0),d.selectAll("div, table, td, tr").classed(S,!0),d.classed(S,!0),d.node());if(b=n,y){var r=y.getElementsByTagName("svg")[0],o=(r?r.getBoundingClientRect():y.getBoundingClientRect(),{left:0,top:0});if(r){var i=r.getBoundingClientRect(),a=y.getBoundingClientRect(),l=i.top;if(l<0){var s=y.getBoundingClientRect();l=Math.abs(l)>s.height?0:l}o.top=Math.abs(l-a.top),o.left=Math.abs(i.left-a.left)}t+=y.offsetLeft+o.left-2*y.scrollLeft,e+=y.offsetTop+o.top-2*y.scrollTop}return v&&0<v&&(e=Math.floor(e/v)*v),rt.tooltip.calcTooltipPosition([t,e],h,g,n),p}var c,u,d}var o=null,f=null,h="w",g=50,v=25,m=null,x=null,y=null,b=null,k={left:null,top:null},w=!0,A="nvtooltip-"+Math.floor(1e5*Math.random()),S="nv-pointer-events-none",i=function(t){return t},a=function(t){return t},C=function(t){if(null!=o)return o;if(null==t)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).text(a(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).text(function(t){return t.key}),n.append("td").classed("value",!0).text(function(t,e){return i(t.value,e)}),n.selectAll("td").each(function(t){t.highlight&&d3.select(this).style("border-bottom","solid 1px "+t.color).style("border-top","solid 1px "+t.color)});var r=e.node().outerHTML;return void 0!==t.footer&&(r+="<div class='footer'>"+t.footer+"</div>"),r},M=function(t){return!!(t&&t.series&&0<t.series.length)};return p.nvPointerEventsClass=S,p.content=function(t){return arguments.length?(o=t,p):o},p.tooltipElem=function(){return b},p.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(C=t),p):C},p.data=function(t){return arguments.length?(f=t,p):f},p.gravity=function(t){return arguments.length?(h=t,p):h},p.distance=function(t){return arguments.length?(g=t,p):g},p.snapDistance=function(t){return arguments.length?(v=t,p):v},p.classes=function(t){return arguments.length?(x=t,p):x},p.chartContainer=function(t){return arguments.length?(y=t,p):y},p.position=function(t){return arguments.length?(k.left=void 0!==t.left?t.left:k.left,k.top=void 0!==t.top?t.top:k.top,p):k},p.fixedTop=function(t){return arguments.length?(m=t,p):m},p.enabled=function(t){return arguments.length?(w=t,p):w},p.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(i=t),p):i},p.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(a=t),p):a},p.id=function(){return A},p},rt.tooltip.show=function(t,e,n,r,o,i){var a=document.createElement("div");a.className="nvtooltip "+(i||"xy-tooltip");var l=o;(!o||o.tagName.match(/g|svg/i))&&(l=document.getElementsByTagName("body")[0]),a.style.left=0,a.style.top=0,a.style.opacity=0,a.innerHTML=e,l.appendChild(a),o&&(t[0]=t[0]-o.scrollLeft,t[1]=t[1]-o.scrollTop),rt.tooltip.calcTooltipPosition(t,n,r,a)},rt.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},rt.tooltip.findTotalOffsetTop=function(t,e){for(var n=e;isNaN(t.offsetTop)||(n+=t.offsetTop),t=t.offsetParent;);return n},rt.tooltip.findTotalOffsetLeft=function(t,e){for(var n=e;isNaN(t.offsetLeft)||(n+=t.offsetLeft),t=t.offsetParent;);return n},rt.tooltip.calcTooltipPosition=function(t,e,n,r){var o,i,a=parseInt(r.offsetHeight),l=parseInt(r.offsetWidth),s=rt.utils.windowSize().width,c=rt.utils.windowSize().height,u=window.pageYOffset,d=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,s=window.innerHeight>=document.body.scrollHeight?s:s-16,n=n||20;var p=function(t){return rt.tooltip.findTotalOffsetTop(t,i)},f=function(t){return rt.tooltip.findTotalOffsetLeft(t,o)};switch(e=e||"s"){case"e":o=t[0]-l-n,i=t[1]-a/2;var h=f(r),g=p(r);h<d&&(o=t[0]+n>d?t[0]+n:d-h+o),g<u&&(i=u-g+i),u+c<g+a&&(i=u+c-g+i-a);break;case"w":o=t[0]+n,i=t[1]-a/2;h=f(r),g=p(r);s<h+l&&(o=t[0]-l-n),g<u&&(i=u+5),u+c<g+a&&(i=u+c-g+i-a);break;case"n":o=t[0]-l/2-5,i=t[1]+n;h=f(r),g=p(r);h<d&&(o=d+5),s<h+l&&(o=o-l/2+5),u+c<g+a&&(i=u+c-g+i-a);break;case"s":o=t[0]-l/2,i=t[1]-a-n;h=f(r),g=p(r);h<d&&(o=d+5),s<h+l&&(o=o-l/2+5),g<u&&(i=u);break;case"none":o=t[0],i=t[1]-n;h=f(r),g=p(r)}return r.style.left=o+"px",r.style.top=i+"px",r.style.opacity=1,r.style.position="absolute",r},rt.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),rt.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},rt.utils.windowResize=function(e){if(void 0!==e){var n=window.onresize;window.onresize=function(t){"function"==typeof n&&n(t),e(t)}}},rt.utils.getColor=function(n){return arguments.length?"[object Array]"===Object.prototype.toString.call(n)?function(t,e){return t.color||n[e%n.length]}:n:rt.utils.defaultColor()},rt.utils.defaultColor=function(){var n=d3.scale.category20().range();return function(t,e){return t.color||n[e%n.length]}},rt.utils.customTheme=function(n,r,o){r=r||function(t){return t.key};var i=(o=o||d3.scale.category20().range()).length;return function(t){var e=r(t);return i||(i=o.length),void 0!==n[e]?"function"==typeof n[e]?n[e]():n[e]:o[--i]}},rt.utils.pjax=function(n,r){function t(t){d3.html(t,function(t){var e=d3.select(r).node();e.parentNode.replaceChild(d3.select(t).select(r).node(),e),rt.utils.pjax(n,r)})}d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},rt.utils.calcApproxTextWidth=function(t){if(t instanceof d3.selection){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},rt.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||1/0===t?0:t},rt.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},rt.models.axis=function(){"use strict";function e(t){return t.each(function(t){var e=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([t]),n=(e.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),e.select("g"));null!==S?f.ticks(S):("top"==f.orient()||"bottom"==f.orient())&&f.ticks(Math.abs(v.range()[1]-v.range()[0])/100),n.transition().call(f),p=p||f.scale();var r=f.tickFormat();null==r&&(r=p.tickFormat());var o=n.selectAll("text.nv-axislabel").data([m||null]);switch(o.exit().remove(),f.orient()){case"top":o.enter().append("text").attr("class","nv-axislabel");var i=2==v.range().length?v.range()[1]:v.range()[v.range().length-1]+(v.range()[1]-v.range()[0]);if(o.attr("text-anchor","middle").attr("y",0).attr("x",i/2),x)(u=e.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),u.exit().remove(),u.attr("transform",function(t){return"translate("+v(t)+",0)"}).select("text").attr("dy","0em").attr("y",-f.tickPadding()).attr("text-anchor","middle").text(function(t){var e=r(t);return(""+e).match("NaN")?"":e}),u.transition().attr("transform",function(t,e){return"translate("+v.range()[e]+",0)"});break;case"bottom":var a=36,l=30,s=n.selectAll("g").select("text");if(b%360){s.each(function(){var t=this.getBBox().width;l<t&&(l=t)});var c=Math.abs(Math.sin(b*Math.PI/180));a=(c?c*l:l)+30;s.attr("transform",function(){return"rotate("+b+" 0,0)"}).style("text-anchor",0<b%360?"start":"end")}o.enter().append("text").attr("class","nv-axislabel");i=2==v.range().length?v.range()[1]:v.range()[v.range().length-1]+(v.range()[1]-v.range()[0]);if(o.attr("text-anchor","middle").attr("y",a).attr("x",i/2),x)(u=e.selectAll("g.nv-axisMaxMin").data([v.domain()[0],v.domain()[v.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),u.exit().remove(),u.attr("transform",function(t){return"translate("+(v(t)+(A?v.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",f.tickPadding()).attr("transform",function(){return"rotate("+b+" 0,0)"}).style("text-anchor",b?0<b%360?"start":"end":"middle").text(function(t){var e=r(t);return(""+e).match("NaN")?"":e}),u.transition().attr("transform",function(t){return"translate("+(v(t)+(A?v.rangeBand()/2:0))+",0)"});w&&s.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(o.enter().append("text").attr("class","nv-axislabel"),o.style("text-anchor",k?"middle":"begin").attr("transform",k?"rotate(90)":"").attr("y",k?12-Math.max(h.right,g):-10).attr("x",k?v.range()[0]/2:f.tickPadding()),x)(u=e.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),u.exit().remove(),u.attr("transform",function(t){return"translate(0,"+v(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",f.tickPadding()).style("text-anchor","start").text(function(t){var e=r(t);return(""+e).match("NaN")?"":e}),u.transition().attr("transform",function(t,e){return"translate(0,"+v.range()[e]+")"}).select("text").style("opacity",1);break;case"left":var u;if(o.enter().append("text").attr("class","nv-axislabel"),o.style("text-anchor",k?"middle":"end").attr("transform",k?"rotate(-90)":"").attr("y",k?-Math.max(h.left,g)+C:-10).attr("x",k?-v.range()[0]/2:-f.tickPadding()),x)(u=e.selectAll("g.nv-axisMaxMin").data(v.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),u.exit().remove(),u.attr("transform",function(t){return"translate(0,"+p(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-f.tickPadding()).attr("text-anchor","end").text(function(t){var e=r(t);return(""+e).match("NaN")?"":e}),u.transition().attr("transform",function(t,e){return"translate(0,"+v.range()[e]+")"}).select("text").style("opacity",1)}if(o.text(function(t){return t}),!x||"left"!==f.orient()&&"right"!==f.orient()||(n.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(v(t)<v.range()[1]+10||v(t)>v.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),v.domain()[0]==v.domain()[1]&&0==v.domain()[0]&&e.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),x&&("top"===f.orient()||"bottom"===f.orient())){var d=[];e.selectAll("g.nv-axisMaxMin").each(function(e,n){try{d.push(n?v(e)-this.getBBox().width-4:v(e)+this.getBBox().width+4)}catch(t){d.push(n?v(e)-4:v(e)+4)}}),n.selectAll("g").each(function(t){(v(t)<d[0]||v(t)>d[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}y&&n.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),p=v.copy()}),e}var p,f=d3.svg.axis(),h={top:0,right:0,bottom:0,left:0},g=75,n=60,v=d3.scale.linear(),m=null,x=!0,y=!0,b=0,k=!0,w=!1,A=!1,S=null,C=12;return f.scale(v).orient("bottom").tickFormat(function(t){return t}),e.axis=f,d3.rebind(e,f,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(e,v,"domain","range","rangeBand","rangeBands"),e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left,e):h},e.width=function(t){return arguments.length?(g=t,e):g},e.ticks=function(t){return arguments.length?(S=t,e):S},e.height=function(t){return arguments.length?(n=t,e):n},e.axisLabel=function(t){return arguments.length?(m=t,e):m},e.showMaxMin=function(t){return arguments.length?(x=t,e):x},e.highlightZero=function(t){return arguments.length?(y=t,e):y},e.scale=function(t){return arguments.length?(v=t,f.scale(v),A="function"==typeof v.rangeBands,d3.rebind(e,v,"domain","range","rangeBand","rangeBands"),e):v},e.rotateYLabel=function(t){return arguments.length?(k=t,e):k},e.rotateLabels=function(t){return arguments.length?(b=t,e):b},e.staggerLabels=function(t){return arguments.length?(w=t,e):w},e.axisLabelDistance=function(t){return arguments.length?(C=t,e):C},e},rt.models.bullet=function(){"use strict";function e(t){return t.each(function(t,e){var n=z-k.left-k.right,r=F-k.top-k.bottom,o=d3.select(this),i=A.call(this,t,e).slice().sort(d3.descending),a=S.call(this,t,e).slice().sort(d3.descending),l=C.call(this,t,e).slice().sort(d3.descending),s=M.call(this,t,e).slice(),c=D.call(this,t,e).slice(),u=I.call(this,t,e).slice(),d=d3.scale.linear().domain(d3.extent(d3.merge([W,i]))).range(w?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(d.range()),this.__chart__=d;var p=d3.min(i),f=d3.max(i),h=i[1],g=o.selectAll("g.nv-wrap.nv-bullet").data([t]),v=g.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),m=g.select("g");v.append("rect").attr("class","nv-range nv-rangeMax"),v.append("rect").attr("class","nv-range nv-rangeAvg"),v.append("rect").attr("class","nv-range nv-rangeMin"),v.append("rect").attr("class","nv-measure"),v.append("path").attr("class","nv-markerTriangle"),g.attr("transform","translate("+k.left+","+k.top+")");var x=function(t){return Math.abs(d(t)-d(0))},y=function(t){return d(t<0?t:0)};m.select("rect.nv-rangeMax").attr("height",r).attr("width",x(0<f?f:p)).attr("x",y(0<f?f:p)).datum(0<f?f:p),m.select("rect.nv-rangeAvg").attr("height",r).attr("width",x(h)).attr("x",y(h)).datum(h),m.select("rect.nv-rangeMin").attr("height",r).attr("width",x(f)).attr("x",y(f)).attr("width",x(0<f?p:f)).attr("x",y(0<f?p:f)).datum(0<f?p:f),m.select("rect.nv-measure").style("fill",N).attr("height",r/3).attr("y",r/3).attr("width",l<0?d(0)-d(l[0]):d(l[0])-d(0)).attr("x",y(l)).on("mouseover",function(){B.elementMouseover({value:l[0],label:u[0]||"Current",pos:[d(l[0]),r/2]})}).on("mouseout",function(){B.elementMouseout({value:l[0],label:u[0]||"Current"})});var b=r/6;a[0]?m.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+d(a[0])+","+r/2+")"}).attr("d","M0,"+b+"L"+b+","+-b+" "+-b+","+-b+"Z").on("mouseover",function(){B.elementMouseover({value:a[0],label:c[0]||"Previous",pos:[d(a[0]),r/2]})}).on("mouseout",function(){B.elementMouseout({value:a[0],label:c[0]||"Previous"})}):m.selectAll("path.nv-markerTriangle").remove(),g.selectAll(".nv-range").on("mouseover",function(t,e){var n=s[e]||(e?1==e?"Mean":"Minimum":"Maximum");B.elementMouseover({value:t,label:n,pos:[d(t),r/2]})}).on("mouseout",function(t,e){var n=s[e]||(e?1==e?"Mean":"Minimum":"Maximum");B.elementMouseout({value:t,label:n})})}),e}var k={top:0,right:0,bottom:0,left:0},n="left",w=!1,A=function(t){return t.ranges},S=function(t){return t.markers},C=function(t){return t.measures},M=function(t){return t.rangeLabels?t.rangeLabels:[]},D=function(t){return t.markerLabels?t.markerLabels:[]},I=function(t){return t.measureLabels?t.measureLabels:[]},W=[0],z=380,F=30,r=null,N=rt.utils.getColor(["#1f77b4"]),B=d3.dispatch("elementMouseover","elementMouseout");return e.dispatch=B,e.options=rt.utils.optionsFunc.bind(e),e.orient=function(t){return arguments.length?(w="right"==(n=t)||"bottom"==n,e):n},e.ranges=function(t){return arguments.length?(A=t,e):A},e.markers=function(t){return arguments.length?(S=t,e):S},e.measures=function(t){return arguments.length?(C=t,e):C},e.forceX=function(t){return arguments.length?(W=t,e):W},e.width=function(t){return arguments.length?(z=t,e):z},e.height=function(t){return arguments.length?(F=t,e):F},e.margin=function(t){return arguments.length?(k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left,e):k},e.tickFormat=function(t){return arguments.length?(r=t,e):r},e.color=function(t){return arguments.length?(N=rt.utils.getColor(t),e):N},e},rt.models.bulletChart=function(){"use strict";function w(k){return k.each(function(e,t){var n=d3.select(this),r=(W||parseInt(n.style("width"))||960)-C.left-C.right,o=z-C.top-C.bottom,i=this;if(w.update=function(){w(k)},w.container=this,!e||!M.call(this,e,t)){var a=n.selectAll(".nv-noData").data([B]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",C.left+r/2).attr("y",18+C.top+o/2).text(function(t){return t}),w}n.selectAll(".nv-noData").remove();var l=M.call(this,e,t).slice().sort(d3.descending),s=D.call(this,e,t).slice().sort(d3.descending),c=I.call(this,e,t).slice().sort(d3.descending),u=n.selectAll("g.nv-wrap.nv-bulletChart").data([e]),d=u.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),p=u.select("g");d.append("g").attr("class","nv-bulletWrap"),d.append("g").attr("class","nv-titles"),u.attr("transform","translate("+C.left+","+C.top+")");var f=d3.scale.linear().domain([0,Math.max(l[0],s[0],c[0])]).range(S?[r,0]:[0,r]),h=this.__chart__||d3.scale.linear().domain([0,1/0]).range(f.range());this.__chart__=f;var g=d.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(z-C.top-C.bottom)/2+")");g.append("text").attr("class","nv-title").text(function(t){return t.title}),g.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),A.width(r).height(o);var v=p.select(".nv-bulletWrap");d3.transition(v).call(A);var m=F||f.tickFormat(r/100),x=p.selectAll("g.nv-tick").data(f.ticks(r/50),function(t){return this.textContent||m(t)}),y=x.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+h(t)+",0)"}).style("opacity",1e-6);y.append("line").attr("y1",o).attr("y2",7*o/6),y.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*o/6).text(m);var b=d3.transition(x).attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1);b.select("line").attr("y1",o).attr("y2",7*o/6),b.select("text").attr("y",7*o/6),d3.transition(x.exit()).attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1e-6).remove(),L.on("tooltipShow",function(t){t.key=e.title,N&&H(t,i.parentNode)})}),d3.timer.flush(),w}var A=rt.models.bullet(),e="left",S=!1,C={top:5,right:40,bottom:20,left:120},M=function(t){return t.ranges},D=function(t){return t.markers},I=function(t){return t.measures},W=null,z=55,F=null,N=!0,i=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},B="No Data Available.",L=d3.dispatch("tooltipShow","tooltipHide"),H=function(t,e){var n=t.pos[0]+(e.offsetLeft||0)+C.left,r=t.pos[1]+(e.offsetTop||0)+C.top,o=i(t.key,t.label,t.value,t,w);rt.tooltip.show([n,r],o,t.value<0?"e":"w",null,e)};return A.dispatch.on("elementMouseover.tooltip",function(t){L.tooltipShow(t)}),A.dispatch.on("elementMouseout.tooltip",function(t){L.tooltipHide(t)}),L.on("tooltipHide",function(){N&&rt.tooltip.cleanup()}),w.dispatch=L,w.bullet=A,d3.rebind(w,A,"color"),w.options=rt.utils.optionsFunc.bind(w),w.orient=function(t){return arguments.length?(S="right"==(e=t)||"bottom"==e,w):e},w.ranges=function(t){return arguments.length?(M=t,w):M},w.markers=function(t){return arguments.length?(D=t,w):D},w.measures=function(t){return arguments.length?(I=t,w):I},w.width=function(t){return arguments.length?(W=t,w):W},w.height=function(t){return arguments.length?(z=t,w):z},w.margin=function(t){return arguments.length?(C.top=void 0!==t.top?t.top:C.top,C.right=void 0!==t.right?t.right:C.right,C.bottom=void 0!==t.bottom?t.bottom:C.bottom,C.left=void 0!==t.left?t.left:C.left,w):C},w.tickFormat=function(t){return arguments.length?(F=t,w):F},w.tooltips=function(t){return arguments.length?(N=t,w):N},w.tooltipContent=function(t){return arguments.length?(i=t,w):i},w.noData=function(t){return arguments.length?(B=t,w):B},w},rt.models.cumulativeLineChart=function(){"use strict";function A(t){return t.each(function(d){function e(){w.data([J]);var t=A.transitionDuration();A.transitionDuration(0),A.update(),A.transitionDuration(t)}var t,n=d3.select(this).classed("nv-chart-"+Z,!0),p=this,r=(L||parseInt(n.style("width"))||960)-N.left-N.right,o=(H||parseInt(n.style("height"))||400)-N.top-N.bottom;if(A.update=function(){n.transition().duration(U).call(A)},A.container=this,G.disabled=d.map(function(t){return!!t.disabled}),!O)for(t in O={},G)O[t]=G[t]instanceof Array?G[t].slice(0):G[t];var i=d3.behavior.drag().on("dragstart",function(){d3.select(A.container).style("cursor","ew-resize")}).on("drag",function(){J.x=d3.event.x,J.i=Math.round($.invert(J.x)),e()}).on("dragend",function(){d3.select(A.container).style("cursor","auto"),G.index=J.i,j.stateChange(G)});if(!(d&&d.length&&d.filter(function(t){return t.values.length}).length)){var a=n.selectAll(".nv-noData").data([K]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",N.left+r/2).attr("y",N.top+o/2).text(function(t){return t}),A}if(n.selectAll(".nv-noData").remove(),S=M.xScale(),C=M.yScale(),_)M.yDomain(null);else{var l=d.filter(function(t){return!t.disabled}).map(function(t){var e=d3.extent(t.values,M.y());return e[0]<-.95&&(e[0]=-.95),[(e[0]-e[1])/(1+e[1]),(e[1]-e[0])/(1+e[0])]}),s=[d3.min(l,function(t){return t[0]}),d3.max(l,function(t){return t[1]})];M.yDomain(s)}$.domain([0,d[0].values.length-1]).range([0,r]).clamp(!0);c=J.i,d=d.map(function(t){if(!t.values)return t;var n=M.y()(t.values[c],c);return n<-.95?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(M.y()(t,e)-n)/(1+n)},t})),t});var c,u=X?"none":"all",f=n.selectAll("g.nv-wrap.nv-cumulativeLine").data([d]),h=f.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),g=f.select("g");if(h.append("g").attr("class","nv-interactive"),h.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),h.append("g").attr("class","nv-y nv-axis"),h.append("g").attr("class","nv-background"),h.append("g").attr("class","nv-linesWrap").style("pointer-events",u),h.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),h.append("g").attr("class","nv-legendWrap"),h.append("g").attr("class","nv-controlsWrap"),P&&(W.width(r),g.select(".nv-legendWrap").datum(d).call(W),N.top!=W.height()&&(N.top=W.height(),o=(H||parseInt(n.style("height"))||400)-N.top-N.bottom),g.select(".nv-legendWrap").attr("transform","translate(0,"+-N.top+")")),V){var v=[{key:"Re-scale y-axis",disabled:!_}];z.width(140).color(["#444","#444","#444"]),g.select(".nv-controlsWrap").datum(v).attr("transform","translate(0,"+-N.top+")").call(z)}f.attr("transform","translate("+N.left+","+N.top+")"),R&&g.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)");var m=d.filter(function(t){return t.tempDisabled});f.select(".tempDisabled").remove(),m.length&&f.append("text").attr("class","tempDisabled").attr("x",r/2).attr("y","-.71em").style("text-anchor","end").text(m.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),X&&(F.width(r).height(o).margin({left:N.left,top:N.top}).svgContainer(n).xScale(S),f.select(".nv-interactive").call(F)),h.select(".nv-background").append("rect"),g.select(".nv-background rect").attr("width",r).attr("height",o),M.y(function(t){return t.display.y}).width(r).height(o).color(d.map(function(t,e){return t.color||B(t,e)}).filter(function(t,e){return!d[e].disabled&&!d[e].tempDisabled}));var x=g.select(".nv-linesWrap").datum(d.filter(function(t){return!t.disabled&&!t.tempDisabled}));x.call(M),d.forEach(function(t,e){t.seriesIndex=e});var y=d.filter(function(t){return!t.disabled&&!!q(t)}),b=g.select(".nv-avgLinesWrap").selectAll("line").data(y,function(t){return t.key}),k=function(t){var e=C(q(t));return e<0?0:o<e?o:e};b.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t){return M.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",r).attr("y1",k).attr("y2",k),b.style("stroke-opacity",function(t){var e=C(q(t));return e<0||o<e?0:1}).attr("x1",0).attr("x2",r).attr("y1",k).attr("y2",k),b.exit().remove();var w=x.selectAll(".nv-indexLine").data([J]);w.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(i),w.attr("transform",function(t){return"translate("+$(t.i)+",0)"}).attr("height",o),T&&(D.scale(S).ticks(Math.min(d[0].values.length,r/70)).tickSize(-o,0),g.select(".nv-x.nv-axis").attr("transform","translate(0,"+C.range()[0]+")"),d3.transition(g.select(".nv-x.nv-axis")).call(D)),Y&&(I.scale(C).ticks(o/36).tickSize(-r,0),d3.transition(g.select(".nv-y.nv-axis")).call(I)),g.select(".nv-background rect").on("click",function(){J.x=d3.mouse(this)[0],J.i=Math.round($.invert(J.x)),G.index=J.i,j.stateChange(G),e()}),M.dispatch.on("elementClick",function(t){J.i=t.pointIndex,J.x=$(J.i),G.index=J.i,j.stateChange(G),e()}),z.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,_=!t.disabled,G.rescaleY=_,j.stateChange(G),A.update()}),W.dispatch.on("stateChange",function(t){G.disabled=t.disabled,j.stateChange(G),A.update()}),F.dispatch.on("elementMousemove",function(r){M.clearHighlights();var o,i,a,l=[];if(d.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){i=rt.interactiveBisect(t.values,r.pointXValue,A.x()),M.highlightPoint(e,i,!0);var n=t.values[i];void 0!==n&&(void 0===o&&(o=n),void 0===a&&(a=A.xScale()(A.x()(n,i))),l.push({key:t.key,value:A.y()(n,i),color:B(t,t.seriesIndex)}))}),2<l.length){var s=A.yScale().invert(r.mouseY),c=1/0,u=null;l.forEach(function(t,e){var n=Math.abs(s-t.value);n<c&&(c=n,u=e)}),l[u].highlight=!0}var t=D.tickFormat()(A.x()(o,i),i);F.tooltip.position({left:a+N.left,top:r.mouseY+N.top}).chartContainer(p.parentNode).enabled(E).valueFormatter(function(t){return I.tickFormat()(t)}).data({value:t,series:l})(),F.renderGuideLine(a)}),F.dispatch.on("elementMouseout",function(){j.tooltipHide(),M.clearHighlights()}),j.on("tooltipShow",function(t){E&&Q(t,p.parentNode)}),j.on("changeState",function(n){void 0!==n.disabled&&(d.forEach(function(t,e){t.disabled=n.disabled[e]}),G.disabled=n.disabled),void 0!==n.index&&(J.i=n.index,J.x=$(J.i),G.index=n.index,w.data([J])),void 0!==n.rescaleY&&(_=n.rescaleY),A.update()})}),A}var S,C,M=rt.models.line(),D=rt.models.axis(),I=rt.models.axis(),W=rt.models.legend(),z=rt.models.legend(),F=rt.interactiveGuideline(),N={top:30,right:30,bottom:50,left:60},B=rt.utils.defaultColor(),L=null,H=null,P=!0,T=!0,Y=!0,R=!1,E=!0,V=!0,X=!1,_=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},Z=M.id(),G={index:0,rescaleY:_},O=null,K="No Data Available.",q=function(t){return t.average},j=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),U=250;D.orient("bottom").tickPadding(7),I.orient(R?"right":"left"),z.updateState(!1);var $=d3.scale.linear(),J={i:0,x:0},Q=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=D.tickFormat()(M.x()(t.point,t.pointIndex)),i=I.tickFormat()(M.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,A);rt.tooltip.show([n,r],a,null,null,e)};return M.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+N.left,t.pos[1]+N.top],j.tooltipShow(t)}),M.dispatch.on("elementMouseout.tooltip",function(t){j.tooltipHide(t)}),j.on("tooltipHide",function(){E&&rt.tooltip.cleanup()}),A.dispatch=j,A.lines=M,A.legend=W,A.xAxis=D,A.yAxis=I,A.interactiveLayer=F,d3.rebind(A,M,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),A.options=rt.utils.optionsFunc.bind(A),A.margin=function(t){return arguments.length?(N.top=void 0!==t.top?t.top:N.top,N.right=void 0!==t.right?t.right:N.right,N.bottom=void 0!==t.bottom?t.bottom:N.bottom,N.left=void 0!==t.left?t.left:N.left,A):N},A.width=function(t){return arguments.length?(L=t,A):L},A.height=function(t){return arguments.length?(H=t,A):H},A.color=function(t){return arguments.length?(B=rt.utils.getColor(t),W.color(B),A):B},A.rescaleY=function(t){return arguments.length?_=t:_},A.showControls=function(t){return arguments.length?(V=t,A):V},A.useInteractiveGuideline=function(t){return arguments.length?(!0===(X=t)&&(A.interactive(!1),A.useVoronoi(!1)),A):X},A.showLegend=function(t){return arguments.length?(P=t,A):P},A.showXAxis=function(t){return arguments.length?(T=t,A):T},A.showYAxis=function(t){return arguments.length?(Y=t,A):Y},A.rightAlignYAxis=function(t){return arguments.length?(R=t,I.orient(t?"right":"left"),A):R},A.tooltips=function(t){return arguments.length?(E=t,A):E},A.tooltipContent=function(t){return arguments.length?(l=t,A):l},A.state=function(t){return arguments.length?(G=t,A):G},A.defaultState=function(t){return arguments.length?(O=t,A):O},A.noData=function(t){return arguments.length?(K=t,A):K},A.average=function(t){return arguments.length?(q=t,A):q},A.transitionDuration=function(t){return arguments.length?(U=t,A):U},A},rt.models.discreteBar=function(){"use strict";function e(t){return t.each(function(n){var t=m-v.left-v.right,e=x-v.top-v.bottom,r=d3.select(this);n=n.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t});var o=u&&d?[]:n.map(function(t){return t.values.map(function(t,e){return{x:k(t,e),y:w(t,e),y0:t.y0}})});y.domain(u||d3.merge(o).map(function(t){return t.x})).rangeBands(p||[0,t],.1),b.domain(d||d3.extent(d3.merge(o).map(function(t){return t.y}).concat(A))),b.range(C?f||[e-(b.domain()[0]<0?12:0),0<b.domain()[1]?12:0]:f||[e,0]),h=h||y,g=g||b.copy().range([b(0),b(0)]);var i=r.selectAll("g.nv-wrap.nv-discretebar").data([n]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");i.select("g"),a.append("g").attr("class","nv-groups"),i.attr("transform","translate("+v.left+","+v.top+")");var l=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});l.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),l.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),l.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),l.transition().style("stroke-opacity",1).style("fill-opacity",.75);var s=l.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var c=s.enter().append("g").attr("transform",function(t,e){return"translate("+(y(k(t,e))+.05*y.rangeBand())+", "+b(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),D.elementMouseover({value:w(t,e),point:t,series:n[t.series],pos:[y(k(t,e))+y.rangeBand()*(t.series+.5)/n.length,b(w(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),D.elementMouseout({value:w(t,e),point:t,series:n[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("click",function(t,e){D.elementClick({value:w(t,e),point:t,series:n[t.series],pos:[y(k(t,e))+y.rangeBand()*(t.series+.5)/n.length,b(w(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,e){D.elementDblClick({value:w(t,e),point:t,series:n[t.series],pos:[y(k(t,e))+y.rangeBand()*(t.series+.5)/n.length,b(w(t,e))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()});c.append("rect").attr("height",0).attr("width",.9*y.rangeBand()/n.length),C?(c.append("text").attr("text-anchor","middle"),s.select("text").text(function(t,e){return M(w(t,e))}).transition().attr("x",.9*y.rangeBand()/2).attr("y",function(t,e){return w(t,e)<0?b(w(t,e))-b(0)+12:-4})):s.selectAll("text").remove(),s.attr("class",function(t,e){return w(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||S(t,e)}).style("stroke",function(t,e){return t.color||S(t,e)}).select("rect").attr("class",I).transition().attr("width",.9*y.rangeBand()/n.length),s.transition().attr("transform",function(t,e){return"translate("+(y(k(t,e))+.05*y.rangeBand())+", "+(w(t,e)<0?b(0):b(0)-b(w(t,e))<1?b(0)-1:b(w(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(b(w(t,e))-b(d&&d[0]||0))||1)}),h=y.copy(),g=b.copy()}),e}var u,d,p,f,h,g,v={top:0,right:0,bottom:0,left:0},m=960,x=500,n=Math.floor(1e4*Math.random()),y=d3.scale.ordinal(),b=d3.scale.linear(),k=function(t){return t.x},w=function(t){return t.y},A=[0],S=rt.utils.defaultColor(),C=!1,M=d3.format(",.2f"),D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),I="discreteBar";return e.dispatch=D,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(k=t,e):k},e.y=function(t){return arguments.length?(w=t,e):w},e.margin=function(t){return arguments.length?(v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left,e):v},e.width=function(t){return arguments.length?(m=t,e):m},e.height=function(t){return arguments.length?(x=t,e):x},e.xScale=function(t){return arguments.length?(y=t,e):y},e.yScale=function(t){return arguments.length?(b=t,e):b},e.xDomain=function(t){return arguments.length?(u=t,e):u},e.yDomain=function(t){return arguments.length?(d=t,e):d},e.xRange=function(t){return arguments.length?(p=t,e):p},e.yRange=function(t){return arguments.length?(f=t,e):f},e.forceY=function(t){return arguments.length?(A=t,e):A},e.color=function(t){return arguments.length?(S=rt.utils.getColor(t),e):S},e.id=function(t){return arguments.length?(n=t,e):n},e.showValues=function(t){return arguments.length?(C=t,e):C},e.valueFormat=function(t){return arguments.length?(M=t,e):M},e.rectClass=function(t){return arguments.length?(I=t,e):I},e},rt.models.discreteBarChart=function(){"use strict";function d(t){return t.each(function(t){var e=d3.select(this),n=this,r=(x||parseInt(e.style("width"))||960)-m.left-m.right,o=(y||parseInt(e.style("height"))||400)-m.top-m.bottom;if(d.update=function(){M.beforeUpdate(),e.transition().duration(D).call(d)},d.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([C]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",m.left+r/2).attr("y",m.top+o/2).text(function(t){return t}),d}e.selectAll(".nv-noData").remove(),p=h.xScale(),f=h.yScale().clamp(!0);var a=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),s=l.append("defs"),c=a.select("g");if(l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-barsWrap"),c.attr("transform","translate("+m.left+","+m.top+")"),w&&c.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),h.width(r).height(o),c.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(h),s.append("clipPath").attr("id","nv-x-label-clip-"+h.id()).append("rect"),c.select("#nv-x-label-clip-"+h.id()+" rect").attr("width",p.rangeBand()*(A?2:1)).attr("height",16).attr("x",-p.rangeBand()/(A?1:2)),b){g.scale(p).ticks(r/100).tickSize(-o,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+(f.range()[0]+(h.showValues()&&f.domain()[0]<0?16:0))+")"),c.select(".nv-x.nv-axis").transition().call(g);var u=c.select(".nv-x.nv-axis").selectAll("g");A&&u.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}k&&(v.scale(f).ticks(o/36).tickSize(-r,0),c.select(".nv-y.nv-axis").transition().call(v)),M.on("tooltipShow",function(t){S&&I(t,n.parentNode)})}),d}var p,f,h=rt.models.discreteBar(),g=rt.models.axis(),v=rt.models.axis(),m={top:15,right:10,bottom:50,left:60},x=null,y=null,e=rt.utils.getColor(),b=!0,k=!0,w=!1,A=!1,S=!0,l=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},C="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),D=250;g.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),v.orient(w?"right":"left").tickFormat(d3.format(",.1f"));var I=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=g.tickFormat()(h.x()(t.point,t.pointIndex)),i=v.tickFormat()(h.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,d);rt.tooltip.show([n,r],a,t.value<0?"n":"s",null,e)};return h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+m.left,t.pos[1]+m.top],M.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){S&&rt.tooltip.cleanup()}),d.dispatch=M,d.discretebar=h,d.xAxis=g,d.yAxis=v,d3.rebind(d,h,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),d.options=rt.utils.optionsFunc.bind(d),d.margin=function(t){return arguments.length?(m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left,d):m},d.width=function(t){return arguments.length?(x=t,d):x},d.height=function(t){return arguments.length?(y=t,d):y},d.color=function(t){return arguments.length?(e=rt.utils.getColor(t),h.color(e),d):e},d.showXAxis=function(t){return arguments.length?(b=t,d):b},d.showYAxis=function(t){return arguments.length?(k=t,d):k},d.rightAlignYAxis=function(t){return arguments.length?(w=t,v.orient(t?"right":"left"),d):w},d.staggerLabels=function(t){return arguments.length?(A=t,d):A},d.tooltips=function(t){return arguments.length?(S=t,d):S},d.tooltipContent=function(t){return arguments.length?(l=t,d):l},d.noData=function(t){return arguments.length?(C=t,d):C},d.transitionDuration=function(t){return arguments.length?(D=t,d):D},d},rt.models.distribution=function(){"use strict";function e(t){return t.each(function(t){var e=("x"===u?(s.left,s.right):(s.top,s.bottom),"x"==u?"y":"x"),n=d3.select(this);l=l||f;var r=n.selectAll("g.nv-distribution").data([t]),o=(r.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),r.select("g"));r.attr("transform","translate("+s.left+","+s.top+")");var i=o.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});i.enter().append("g"),i.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return p(t,e)});var a=i.selectAll("line.nv-dist"+u).data(function(t){return t.values});a.enter().append("line").attr(u+"1",function(t,e){return l(d(t,e))}).attr(u+"2",function(t,e){return l(d(t,e))}),i.exit().selectAll("line.nv-dist"+u).transition().attr(u+"1",function(t,e){return f(d(t,e))}).attr(u+"2",function(t,e){return f(d(t,e))}).style("stroke-opacity",0).remove(),a.attr("class",function(t,e){return"nv-dist"+u+" nv-dist"+u+"-"+e}).attr(e+"1",0).attr(e+"2",c),a.transition().attr(u+"1",function(t,e){return f(d(t,e))}).attr(u+"2",function(t,e){return f(d(t,e))}),l=f.copy()}),e}var l,s={top:0,right:0,bottom:0,left:0},n=400,c=8,u="x",d=function(t){return t[u]},p=rt.utils.defaultColor(),f=d3.scale.linear();return e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left,e):s},e.width=function(t){return arguments.length?(n=t,e):n},e.axis=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(c=t,e):c},e.getData=function(t){return arguments.length?(d=d3.functor(t),e):d},e.scale=function(t){return arguments.length?(f=t,e):f},e.color=function(t){return arguments.length?(p=rt.utils.getColor(t),e):p},e},rt.models.historicalBar=function(){"use strict";function e(t){return t.each(function(n){var r=g-h.left-h.right,t=v-h.top-h.bottom,e=d3.select(this);x.domain(u||d3.extent(n[0].values.map(b).concat(w))),x.range(S?p||[.5*r/n[0].values.length,r*(n[0].values.length-.5)/n[0].values.length]:p||[0,r]),y.domain(d||d3.extent(n[0].values.map(k).concat(A))).range(f||[t,0]),x.domain()[0]===x.domain()[1]&&x.domain(x.domain()[0]?[x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]:[-1,1]),y.domain()[0]===y.domain()[1]&&y.domain(y.domain()[0]?[y.domain()[0]+.01*y.domain()[0],y.domain()[1]-.01*y.domain()[1]]:[-1,1]);var o=e.selectAll("g.nv-wrap.nv-historicalBar-"+m).data([n[0].values]),i=o.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+m),a=i.append("defs"),l=i.append("g"),s=o.select("g");l.append("g").attr("class","nv-bars"),o.attr("transform","translate("+h.left+","+h.top+")"),e.on("click",function(t,e){D.chartClick({data:t,index:e,pos:d3.event,id:m})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),o.select("#nv-chart-clip-path-"+m+" rect").attr("width",r).attr("height",t),s.attr("clip-path",C?"url(#nv-chart-clip-path-"+m+")":"");var c=o.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return b(t,e)});c.exit().remove(),c.enter().append("rect").attr("x",0).attr("y",function(t,e){return rt.utils.NaNtoZero(y(Math.max(0,k(t,e))))}).attr("height",function(t,e){return rt.utils.NaNtoZero(Math.abs(y(k(t,e))-y(0)))}).attr("transform",function(t,e){return"translate("+(x(b(t,e))-r/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){I&&(d3.select(this).classed("hover",!0),D.elementMouseover({point:t,series:n[0],pos:[x(b(t,e)),y(k(t,e))],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("mouseout",function(t,e){I&&(d3.select(this).classed("hover",!1),D.elementMouseout({point:t,series:n[0],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){I&&(D.elementClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation())}).on("dblclick",function(t,e){I&&(D.elementDblClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation())}),c.attr("fill",function(t,e){return M(t,e)}).attr("class",function(t,e,n){return(k(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).transition().attr("transform",function(t,e){return"translate("+(x(b(t,e))-r/n[0].values.length*.45)+",0)"}).attr("width",r/n[0].values.length*.9),c.transition().attr("y",function(t,e){var n=k(t,e)<0?y(0):y(0)-y(k(t,e))<1?y(0)-1:y(k(t,e));return rt.utils.NaNtoZero(n)}).attr("height",function(t,e){return rt.utils.NaNtoZero(Math.max(Math.abs(y(k(t,e))-y(0)),1))})}),e}var u,d,p,f,h={top:0,right:0,bottom:0,left:0},g=960,v=500,m=Math.floor(1e4*Math.random()),x=d3.scale.linear(),y=d3.scale.linear(),b=function(t){return t.x},k=function(t){return t.y},w=[],A=[0],S=!1,C=!0,M=rt.utils.defaultColor(),D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),I=!0;return e.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+m).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){d3.select(".nv-historicalBar-"+m).select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=D,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(b=t,e):b},e.y=function(t){return arguments.length?(k=t,e):k},e.margin=function(t){return arguments.length?(h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left,e):h},e.width=function(t){return arguments.length?(g=t,e):g},e.height=function(t){return arguments.length?(v=t,e):v},e.xScale=function(t){return arguments.length?(x=t,e):x},e.yScale=function(t){return arguments.length?(y=t,e):y},e.xDomain=function(t){return arguments.length?(u=t,e):u},e.yDomain=function(t){return arguments.length?(d=t,e):d},e.xRange=function(t){return arguments.length?(p=t,e):p},e.yRange=function(t){return arguments.length?(f=t,e):f},e.forceX=function(t){return arguments.length?(w=t,e):w},e.forceY=function(t){return arguments.length?(A=t,e):A},e.padData=function(t){return arguments.length?(S=t,e):S},e.clipEdge=function(t){return arguments.length?(C=t,e):C},e.color=function(t){return arguments.length?(M=rt.utils.getColor(t),e):M},e.id=function(t){return arguments.length?(m=t,e):m},e.interactive=function(){return arguments.length?(I=!1,e):I},e},rt.models.historicalBarChart=function(){"use strict";function d(u){return u.each(function(r){var t,e=d3.select(this),n=this,o=(b||parseInt(e.style("width"))||960)-x.left-x.right,i=(k||parseInt(e.style("height"))||400)-x.top-x.bottom;if(d.update=function(){e.transition().duration(F).call(d)},d.container=this,D.disabled=r.map(function(t){return!!t.disabled}),!I)for(t in I={},D)I[t]=D[t]instanceof Array?D[t].slice(0):D[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([W]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",x.left+o/2).attr("y",x.top+i/2).text(function(t){return t}),d}e.selectAll(".nv-noData").remove(),p=h.xScale(),f=h.yScale();var l=e.selectAll("g.nv-wrap.nv-historicalBarChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),c=l.select("g");s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),w&&(m.width(o),c.select(".nv-legendWrap").datum(r).call(m),x.top!=m.height()&&(x.top=m.height(),i=(k||parseInt(e.style("height"))||400)-x.top-x.bottom),l.select(".nv-legendWrap").attr("transform","translate(0,"+-x.top+")")),l.attr("transform","translate("+x.left+","+x.top+")"),C&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),h.width(o).height(i).color(r.map(function(t,e){return t.color||y(t,e)}).filter(function(t,e){return!r[e].disabled})),c.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(h),A&&(g.scale(p).tickSize(-i,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),c.select(".nv-x.nv-axis").transition().call(g)),S&&(v.scale(f).ticks(i/36).tickSize(-o,0),c.select(".nv-y.nv-axis").transition().call(v)),m.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,r.filter(function(t){return!t.disabled}).length||r.map(function(t){return t.disabled=!1,l.selectAll(".nv-series").classed("disabled",!1),t}),D.disabled=r.map(function(t){return!!t.disabled}),z.stateChange(D),u.transition().call(d)}),m.dispatch.on("legendDblclick",function(t){r.forEach(function(t){t.disabled=!0}),t.disabled=!1,D.disabled=r.map(function(t){return!!t.disabled}),z.stateChange(D),d.update()}),z.on("tooltipShow",function(t){M&&N(t,n.parentNode)}),z.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),D.disabled=n.disabled),u.call(d)})}),d}var p,f,h=rt.models.historicalBar(),g=rt.models.axis(),v=rt.models.axis(),m=rt.models.legend(),x={top:30,right:90,bottom:50,left:90},y=rt.utils.defaultColor(),b=null,k=null,w=!1,A=!0,S=!0,C=!1,M=!0,u=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},D={},I=null,W="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),F=250;g.orient("bottom").tickPadding(7),v.orient(C?"right":"left");var N=function(t,e){if(e){var n=d3.select(e).select("svg"),r=n.node()?n.attr("viewBox"):null;if(r){r=r.split(" ");var o=parseInt(n.style("width"))/r[2];t.pos[0]=t.pos[0]*o,t.pos[1]=t.pos[1]*o}}var i=t.pos[0]+(e.offsetLeft||0),a=t.pos[1]+(e.offsetTop||0),l=g.tickFormat()(h.x()(t.point,t.pointIndex)),s=v.tickFormat()(h.y()(t.point,t.pointIndex)),c=u(t.series.key,l,s,t,d);rt.tooltip.show([i,a],c,null,null,e)};return h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],z.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){z.tooltipHide(t)}),z.on("tooltipHide",function(){M&&rt.tooltip.cleanup()}),d.dispatch=z,d.bars=h,d.legend=m,d.xAxis=g,d.yAxis=v,d3.rebind(d,h,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),d.options=rt.utils.optionsFunc.bind(d),d.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,d):x},d.width=function(t){return arguments.length?(b=t,d):b},d.height=function(t){return arguments.length?(k=t,d):k},d.color=function(t){return arguments.length?(y=rt.utils.getColor(t),m.color(y),d):y},d.showLegend=function(t){return arguments.length?(w=t,d):w},d.showXAxis=function(t){return arguments.length?(A=t,d):A},d.showYAxis=function(t){return arguments.length?(S=t,d):S},d.rightAlignYAxis=function(t){return arguments.length?(C=t,v.orient(t?"right":"left"),d):C},d.tooltips=function(t){return arguments.length?(M=t,d):M},d.tooltipContent=function(t){return arguments.length?(u=t,d):u},d.state=function(t){return arguments.length?(D=t,d):D},d.defaultState=function(t){return arguments.length?(I=t,d):I},d.noData=function(t){return arguments.length?(W=t,d):W},d.transitionDuration=function(t){return arguments.length?(F=t,d):F},d},rt.models.indentedTree=function(){"use strict";function g(t){return t.each(function(t){function i(t,e,n){return d3.event.stopPropagation(),d3.event.shiftKey&&!n?(d3.event.shiftKey=!1,t.values&&t.values.forEach(function(t){(t.values||t._values)&&i(t,0,!0)}),!0):!(o=(r=t).values||r._values)||!o.length||(t.values?(t._values=t.values,t.values=null):(t.values=t._values,t._values=null),void g.update());var r,o}function r(t){return t._values&&t._values.length?A:t.values&&t.values.length?S:""}function o(t){return t._values&&t._values.length}var e,n=d3.select(this),a=d3.layout.tree().children(function(t){return t.values}).size([v,b]);g.update=function(){n.transition().duration(600).call(g)},t[0]||(t[0]={key:y});var l=a.nodes(t[0]),s=d3.select(this).selectAll("div").data([[l]]),c=s.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),u=s.select("table").attr("width","100%").attr("class",w);if(m){var d=c.append("thead").append("tr");k.forEach(function(t){d.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var p=u.selectAll("tbody").data(function(t){return t});p.enter().append("tbody"),e=d3.max(l,function(t){return t.depth}),a.size([v,e*b]);var f=p.selectAll("tr").data(function(t){return t.filter(function(t){return!(x&&!t.children)||x(t)})},function(t){return t.id||t.id||++D});f.exit().remove(),f.select("img.nv-treeicon").attr("src",r).classed("folded",o);var h=f.enter().append("tr");k.forEach(function(e,n){var t=h.append("td").style("padding-left",function(t){return(n?0:t.depth*b+12+(r(t)?0:16))+"px"},"important").style("text-align","numeric"==e.type?"right":"left");0==n&&t.append("img").classed("nv-treeicon",!0).classed("nv-folded",o).attr("src",r).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return r(t)?"inline-block":"none"}).on("click",i),t.each(function(t){!n&&M(t)?d3.select(this).append("a").attr("href",M).attr("class",d3.functor(e.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(e.classes)).text(function(t){return e.format?e.format(t):t[e.key]||"-"})}),e.showCount&&(t.append("span").attr("class","nv-childrenCount"),f.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return!x||x(t)}).length||t._values&&t._values.filter(function(t){return!x||x(t)}).length||0)+")":""}))}),f.order().on("click",function(t){C.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){C.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){C.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){C.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),g}var e={top:0,right:0,bottom:0,left:0},n=960,v=500,r=rt.utils.defaultColor(),o=Math.floor(1e4*Math.random()),m=!0,x=!1,y="No Data Available.",b=20,k=[{key:"key",label:"Name",type:"text"}],w=null,A="images/grey-plus.png",S="images/grey-minus.png",C=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),M=function(t){return t.url},D=0;return g.options=rt.utils.optionsFunc.bind(g),g.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,g):e},g.width=function(t){return arguments.length?(n=t,g):n},g.height=function(t){return arguments.length?(v=t,g):v},g.color=function(t){return arguments.length?(r=rt.utils.getColor(t),scatter.color(r),g):r},g.id=function(t){return arguments.length?(o=t,g):o},g.header=function(t){return arguments.length?(m=t,g):m},g.noData=function(t){return arguments.length?(y=t,g):y},g.filterZero=function(t){return arguments.length?(x=t,g):x},g.columns=function(t){return arguments.length?(k=t,g):k},g.tableClass=function(t){return arguments.length?(w=t,g):w},g.iconOpen=function(t){return arguments.length?(A=t,g):A},g.iconClose=function(t){return arguments.length?(S=t,g):S},g.getUrl=function(t){return arguments.length?(M=t,g):M},g},rt.models.legend=function(){"use strict";function e(t){return t.each(function(n){var t=y-x.left-x.right,e=d3.select(this).selectAll("g.nv-legend").data([n]),r=(e.enter().append("g").attr("class","nvd3 nv-legend").append("g"),e.select("g"));e.attr("transform","translate("+x.left+","+x.top+")");var o=r.selectAll(".nv-series").data(function(t){return t}),i=o.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){D.legendMouseover(t,e)}).on("mouseout",function(t,e){D.legendMouseout(t,e)}).on("click",function(t,e){D.legendClick(t,e),C&&(M?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})),D.stateChange({disabled:n.map(function(t){return!!t.disabled})}))}).on("dblclick",function(t,e){D.legendDblclick(t,e),C&&(n.forEach(function(t){t.disabled=!0}),t.disabled=!1,D.stateChange({disabled:n.map(function(t){return!!t.disabled})}))});if(i.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),i.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),o.classed("disabled",function(t){return t.disabled}),o.exit().remove(),o.select("circle").style("fill",function(t,e){return t.color||w(t,e)}).style("stroke",function(t,e){return t.color||w(t,e)}),o.select("text").text(k),A){var a=[];o.each(function(){var e,n=d3.select(this).select("text");try{e=n.node().getComputedTextLength()}catch(t){e=rt.utils.calcApproxTextWidth(n)}a.push(e+28)});for(var l=0,s=0,c=[];s<t&&l<a.length;)c[l]=a[l],s+=a[l++];for(0===l&&(l=1);t<s&&1<l;){c=[],l--;for(var u=0;u<a.length;u++)a[u]>(c[u%l]||0)&&(c[u%l]=a[u]);s=c.reduce(function(t,e){return t+e})}for(var d=[],p=0,f=0;p<l;p++)d[p]=f,f+=c[p];o.attr("transform",function(t,e){return"translate("+d[e%l]+","+(5+20*Math.floor(e/l))+")"}),S?r.attr("transform","translate("+(y-x.right-s)+","+x.top+")"):r.attr("transform","translate(0,"+x.top+")"),b=x.top+x.bottom+20*Math.ceil(a.length/l)}else{var h,g=5,v=5,m=0;o.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+28;return h=v,y<x.left+x.right+h+t&&(v=h=5,g+=20),m<(v+=t)&&(m=v),"translate("+h+","+g+")"}),r.attr("transform","translate("+(y-x.right-m)+","+x.top+")"),b=x.top+x.bottom+g+15}}),e}var x={top:5,right:0,bottom:5,left:0},y=400,b=20,k=function(t){return t.key},w=rt.utils.defaultColor(),A=!0,S=!0,C=!0,M=!1,D=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return e.dispatch=D,e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,e):x},e.width=function(t){return arguments.length?(y=t,e):y},e.height=function(t){return arguments.length?(b=t,e):b},e.key=function(t){return arguments.length?(k=t,e):k},e.color=function(t){return arguments.length?(w=rt.utils.getColor(t),e):w},e.align=function(t){return arguments.length?(A=t,e):A},e.rightAlign=function(t){return arguments.length?(S=t,e):S},e.updateState=function(t){return arguments.length?(C=t,e):C},e.radioButtonMode=function(t){return arguments.length?(M=t,e):M},e},rt.models.line=function(){"use strict";function e(t){return t.each(function(t){var e=y-x.left-x.right,n=b-x.top-x.bottom,r=d3.select(this);f=m.xScale(),h=m.yScale(),g=g||f,v=v||h;var o=r.selectAll("g.nv-wrap.nv-line").data([t]),i=o.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),a=i.append("defs"),l=i.append("g"),s=o.select("g");l.append("g").attr("class","nv-groups"),l.append("g").attr("class","nv-scatterWrap"),o.attr("transform","translate("+x.left+","+x.top+")"),m.width(e).height(n);var c=o.select(".nv-scatterWrap");c.transition().call(m),a.append("clipPath").attr("id","nv-edge-clip-"+m.id()).append("rect"),o.select("#nv-edge-clip-"+m.id()+" rect").attr("width",e).attr("height",n),s.attr("clip-path",M?"url(#nv-edge-clip-"+m.id()+")":""),c.attr("clip-path",M?"url(#nv-edge-clip-"+m.id()+")":"");var u=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});u.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),u.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),u.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),u.transition().style("stroke-opacity",1).style("fill-opacity",.5);var d=u.selectAll("path.nv-area").data(function(t){return C(t)?[t]:[]});d.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(g(w(t,e)))}).y0(function(t,e){return rt.utils.NaNtoZero(v(A(t,e)))}).y1(function(){return v(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])}),u.exit().selectAll("path.nv-area").remove(),d.transition().attr("d",function(t){return d3.svg.area().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(f(w(t,e)))}).y0(function(t,e){return rt.utils.NaNtoZero(h(A(t,e)))}).y1(function(){return h(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])});var p=u.selectAll("path.nv-line").data(function(t){return[t.values]});p.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(g(w(t,e)))}).y(function(t,e){return rt.utils.NaNtoZero(v(A(t,e)))})),u.exit().selectAll("path.nv-line").transition().attr("d",d3.svg.line().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(f(w(t,e)))}).y(function(t,e){return rt.utils.NaNtoZero(h(A(t,e)))})),p.transition().attr("d",d3.svg.line().interpolate(D).defined(S).x(function(t,e){return rt.utils.NaNtoZero(f(w(t,e)))}).y(function(t,e){return rt.utils.NaNtoZero(h(A(t,e)))})),g=f.copy(),v=h.copy()}),e}var f,h,g,v,m=rt.models.scatter(),x={top:0,right:0,bottom:0,left:0},y=960,b=500,k=rt.utils.defaultColor(),w=function(t){return t.x},A=function(t){return t.y},S=function(t,e){return!isNaN(A(t,e))&&null!==A(t,e)},C=function(t){return t.area},M=!1,D="linear";return m.size(16).sizeDomain([16,256]),e.dispatch=m.dispatch,e.scatter=m,d3.rebind(e,m,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,e):x},e.width=function(t){return arguments.length?(y=t,e):y},e.height=function(t){return arguments.length?(b=t,e):b},e.x=function(t){return arguments.length?(w=t,m.x(t),e):w},e.y=function(t){return arguments.length?(A=t,m.y(t),e):A},e.clipEdge=function(t){return arguments.length?(M=t,e):M},e.color=function(t){return arguments.length?(k=rt.utils.getColor(t),m.color(k),e):k},e.interpolate=function(t){return arguments.length?(D=t,e):D},e.defined=function(t){return arguments.length?(S=t,e):S},e.isArea=function(t){return arguments.length?(C=d3.functor(t),e):C},e},rt.models.lineChart=function(){"use strict";function p(t){return t.each(function(d){var t,e=d3.select(this),n=this,r=(b||parseInt(e.style("width"))||960)-x.left-x.right,o=(k||parseInt(e.style("height"))||400)-x.top-x.bottom;if(p.update=function(){e.transition().duration(N).call(p)},p.container=this,I.disabled=d.map(function(t){return!!t.disabled}),!W)for(t in W={},I)W[t]=I[t]instanceof Array?I[t].slice(0):I[t];if(!(d&&d.length&&d.filter(function(t){return t.values.length}).length)){var i=e.selectAll(".nv-noData").data([z]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",x.left+r/2).attr("y",x.top+o/2).text(function(t){return t}),p}e.selectAll(".nv-noData").remove(),c=f.xScale(),u=f.yScale();var a=e.selectAll("g.nv-wrap.nv-lineChart").data([d]),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),s=a.select("g");l.append("rect").style("opacity",0),l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-linesWrap"),l.append("g").attr("class","nv-legendWrap"),l.append("g").attr("class","nv-interactive"),s.select("rect").attr("width",r).attr("height",o),w&&(v.width(r),s.select(".nv-legendWrap").datum(d).call(v),x.top!=v.height()&&(x.top=v.height(),o=(k||parseInt(e.style("height"))||400)-x.top-x.bottom),a.select(".nv-legendWrap").attr("transform","translate(0,"+-x.top+")")),a.attr("transform","translate("+x.left+","+x.top+")"),C&&s.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),M&&(m.width(r).height(o).margin({left:x.left,top:x.top}).svgContainer(e).xScale(c),a.select(".nv-interactive").call(m)),f.width(r).height(o).color(d.map(function(t,e){return t.color||y(t,e)}).filter(function(t,e){return!d[e].disabled})),s.select(".nv-linesWrap").datum(d.filter(function(t){return!t.disabled})).transition().call(f),A&&(h.scale(c).ticks(r/100).tickSize(-o,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+u.range()[0]+")"),s.select(".nv-x.nv-axis").transition().call(h)),S&&(g.scale(u).ticks(o/36).tickSize(-r,0),s.select(".nv-y.nv-axis").transition().call(g)),v.dispatch.on("stateChange",function(t){I=t,F.stateChange(I),p.update()}),m.dispatch.on("elementMousemove",function(r){f.clearHighlights();var o,i,a,l=[];if(d.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){i=rt.interactiveBisect(t.values,r.pointXValue,p.x()),f.highlightPoint(e,i,!0);var n=t.values[i];void 0!==n&&(void 0===o&&(o=n),void 0===a&&(a=p.xScale()(p.x()(n,i))),l.push({key:t.key,value:p.y()(n,i),color:y(t,t.seriesIndex)}))}),2<l.length){var s=p.yScale().invert(r.mouseY),c=1/0,u=null;l.forEach(function(t,e){var n=Math.abs(s-t.value);n<c&&(c=n,u=e)}),l[u].highlight=!0}var t=h.tickFormat()(p.x()(o,i));m.tooltip.position({left:a+x.left,top:r.mouseY+x.top}).chartContainer(n.parentNode).enabled(D).valueFormatter(function(t){return g.tickFormat()(t)}).data({value:t,series:l})(),m.renderGuideLine(a)}),m.dispatch.on("elementMouseout",function(){F.tooltipHide(),f.clearHighlights()}),F.on("tooltipShow",function(t){D&&B(t,n.parentNode)}),F.on("changeState",function(n){void 0!==n.disabled&&(d.forEach(function(t,e){t.disabled=n.disabled[e]}),I.disabled=n.disabled),p.update()})}),p}var c,u,f=rt.models.line(),h=rt.models.axis(),g=rt.models.axis(),v=rt.models.legend(),m=rt.interactiveGuideline(),x={top:30,right:20,bottom:50,left:60},y=rt.utils.defaultColor(),b=null,k=null,w=!0,A=!0,S=!0,C=!1,M=!1,D=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},I={},W=null,z="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),N=250;h.orient("bottom").tickPadding(7),g.orient(C?"right":"left");var B=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=h.tickFormat()(f.x()(t.point,t.pointIndex)),i=g.tickFormat()(f.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,p);rt.tooltip.show([n,r],a,null,null,e)};return f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],F.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){F.tooltipHide(t)}),F.on("tooltipHide",function(){D&&rt.tooltip.cleanup()}),p.dispatch=F,p.lines=f,p.legend=v,p.xAxis=h,p.yAxis=g,p.interactiveLayer=m,d3.rebind(p,f,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),p.options=rt.utils.optionsFunc.bind(p),p.margin=function(t){return arguments.length?(x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left,p):x},p.width=function(t){return arguments.length?(b=t,p):b},p.height=function(t){return arguments.length?(k=t,p):k},p.color=function(t){return arguments.length?(y=rt.utils.getColor(t),v.color(y),p):y},p.showLegend=function(t){return arguments.length?(w=t,p):w},p.showXAxis=function(t){return arguments.length?(A=t,p):A},p.showYAxis=function(t){return arguments.length?(S=t,p):S},p.rightAlignYAxis=function(t){return arguments.length?(C=t,g.orient(t?"right":"left"),p):C},p.useInteractiveGuideline=function(t){return arguments.length?(!0===(M=t)&&(p.interactive(!1),p.useVoronoi(!1)),p):M},p.tooltips=function(t){return arguments.length?(D=t,p):D},p.tooltipContent=function(t){return arguments.length?(l=t,p):l},p.state=function(t){return arguments.length?(I=t,p):I},p.defaultState=function(t){return arguments.length?(W=t,p):W},p.noData=function(t){return arguments.length?(z=t,p):z},p.transitionDuration=function(t){return arguments.length?(N=t,p):N},p},rt.models.linePlusBarChart=function(){"use strict";function h(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(C||parseInt(e.style("width"))||960)-S.left-S.right,i=(M||parseInt(e.style("height"))||400)-S.top-S.bottom;if(h.update=function(){e.transition().call(h)},z.disabled=r.map(function(t){return!!t.disabled}),!F)for(t in F={},z)F[t]=z[t]instanceof Array?z[t].slice(0):z[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([N]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",S.left+o/2).attr("y",S.top+i/2).text(function(t){return t}),h}e.selectAll(".nv-noData").remove();var l=r.filter(function(t){return!t.disabled&&t.bar}),s=r.filter(function(t){return!t.bar});g=s.filter(function(t){return!t.disabled}).length&&s.filter(function(t){return!t.disabled})[0].values.length?x.xScale():y.xScale(),v=y.yScale(),m=x.yScale();var c=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([r]),u=c.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),d=c.select("g");u.append("g").attr("class","nv-x nv-axis"),u.append("g").attr("class","nv-y1 nv-axis"),u.append("g").attr("class","nv-y2 nv-axis"),u.append("g").attr("class","nv-barsWrap"),u.append("g").attr("class","nv-linesWrap"),u.append("g").attr("class","nv-legendWrap"),I&&(A.width(o/2),d.select(".nv-legendWrap").datum(r.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(A),S.top!=A.height()&&(S.top=A.height(),i=(M||parseInt(e.style("height"))||400)-S.top-S.bottom),d.select(".nv-legendWrap").attr("transform","translate("+o/2+","+-S.top+")")),c.attr("transform","translate("+S.left+","+S.top+")"),x.width(o).height(i).color(r.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!r[e].disabled&&!r[e].bar})),y.width(o).height(i).color(r.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!r[e].disabled&&r[e].bar}));var p=d.select(".nv-barsWrap").datum(l.length?l:[{values:[]}]),f=d.select(".nv-linesWrap").datum(s[0]&&!s[0].disabled?s:[{values:[]}]);d3.transition(p).call(y),d3.transition(f).call(x),b.scale(g).ticks(o/100).tickSize(-i,0),d.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")"),d3.transition(d.select(".nv-x.nv-axis")).call(b),k.scale(v).ticks(i/36).tickSize(-o,0),d3.transition(d.select(".nv-y1.nv-axis")).style("opacity",l.length?1:0).call(k),w.scale(m).ticks(i/36).tickSize(l.length?0:-o,0),d.select(".nv-y2.nv-axis").style("opacity",s.length?1:0).attr("transform","translate("+o+",0)"),d3.transition(d.select(".nv-y2.nv-axis")).call(w),A.dispatch.on("stateChange",function(t){z=t,B.stateChange(z),h.update()}),B.on("tooltipShow",function(t){W&&L(t,n.parentNode)}),B.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),z.disabled=n.disabled),h.update()})}),h}var g,v,m,x=rt.models.line(),y=rt.models.historicalBar(),b=rt.models.axis(),k=rt.models.axis(),w=rt.models.axis(),A=rt.models.legend(),S={top:30,right:60,bottom:50,left:60},C=null,M=null,e=function(t){return t.x},n=function(t){return t.y},D=rt.utils.defaultColor(),I=!0,W=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},z={},F=null,N="No Data Available.",B=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");y.padData(!0),x.clipEdge(!1).padData(!0),b.orient("bottom").tickPadding(7).highlightZero(!1),k.orient("left"),w.orient("right");var L=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=b.tickFormat()(x.x()(t.point,t.pointIndex)),i=(t.series.bar?k:w).tickFormat()(x.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,h);rt.tooltip.show([n,r],a,t.value<0?"n":"s",null,e)};return x.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+S.left,t.pos[1]+S.top],B.tooltipShow(t)}),x.dispatch.on("elementMouseout.tooltip",function(t){B.tooltipHide(t)}),y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+S.left,t.pos[1]+S.top],B.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){B.tooltipHide(t)}),B.on("tooltipHide",function(){W&&rt.tooltip.cleanup()}),h.dispatch=B,h.legend=A,h.lines=x,h.bars=y,h.xAxis=b,h.y1Axis=k,h.y2Axis=w,d3.rebind(h,x,"defined","size","clipVoronoi","interpolate"),h.options=rt.utils.optionsFunc.bind(h),h.x=function(t){return arguments.length?(e=t,x.x(t),y.x(t),h):e},h.y=function(t){return arguments.length?(n=t,x.y(t),y.y(t),h):n},h.margin=function(t){return arguments.length?(S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left,h):S},h.width=function(t){return arguments.length?(C=t,h):C},h.height=function(t){return arguments.length?(M=t,h):M},h.color=function(t){return arguments.length?(D=rt.utils.getColor(t),A.color(D),h):D},h.showLegend=function(t){return arguments.length?(I=t,h):I},h.tooltips=function(t){return arguments.length?(W=t,h):W},h.tooltipContent=function(t){return arguments.length?(l=t,h):l},h.state=function(t){return arguments.length?(z=t,h):z},h.defaultState=function(t){return arguments.length?(F=t,h):F},h.noData=function(t){return arguments.length?(N=t,h):N},h},rt.models.lineWithFocusChart=function(){"use strict";function m(t){return t.each(function(r){function e(){T=W.empty()?null:W.extent();var n=W.empty()?b.domain():W.extent();Math.abs(n[0]-n[1])<=1||(E.brush({extent:n,brush:W}),W.empty()||W.extent(T),h.data([W.empty()?b.domain():T]).each(function(t){var e=b(t[0])-x.range()[0],n=x.range()[1]-b(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",b(t[1])).attr("width",n<0?0:n)}),u.select(".nv-focus .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}).map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return w.x()(t,e)>=n[0]&&w.x()(t,e)<=n[1]})}})).transition().duration(V).call(w),u.select(".nv-focus .nv-x.nv-axis").transition().duration(V).call(S),u.select(".nv-focus .nv-y.nv-axis").transition().duration(V).call(C))}var t=d3.select(this),n=this,o=(B||parseInt(t.style("width"))||960)-z.left-z.right,i=(L||parseInt(t.style("height"))||400)-z.top-z.bottom-H,a=H-F.top-F.bottom;if(m.update=function(){t.transition().duration(V).call(m)},m.container=this,!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var l=t.selectAll(".nv-noData").data([R]);return l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",z.left+o/2).attr("y",z.top+i/2).text(function(t){return t}),m}t.selectAll(".nv-noData").remove(),x=w.xScale(),y=w.yScale(),b=A.xScale(),k=A.yScale();var s=t.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([r]),c=s.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),u=s.select("g");c.append("g").attr("class","nv-legendWrap");var d=c.append("g").attr("class","nv-focus");d.append("g").attr("class","nv-x nv-axis"),d.append("g").attr("class","nv-y nv-axis"),d.append("g").attr("class","nv-linesWrap");var p=c.append("g").attr("class","nv-context");p.append("g").attr("class","nv-x nv-axis"),p.append("g").attr("class","nv-y nv-axis"),p.append("g").attr("class","nv-linesWrap"),p.append("g").attr("class","nv-brushBackground"),p.append("g").attr("class","nv-x nv-brush"),P&&(I.width(o),u.select(".nv-legendWrap").datum(r).call(I),z.top!=I.height()&&(z.top=I.height(),i=(L||parseInt(t.style("height"))||400)-z.top-z.bottom-H),u.select(".nv-legendWrap").attr("transform","translate(0,"+-z.top+")")),s.attr("transform","translate("+z.left+","+z.top+")"),w.width(o).height(i).color(r.map(function(t,e){return t.color||N(t,e)}).filter(function(t,e){return!r[e].disabled})),A.defined(w.defined()).width(o).height(a).color(r.map(function(t,e){return t.color||N(t,e)}).filter(function(t,e){return!r[e].disabled})),u.select(".nv-context").attr("transform","translate(0,"+(i+z.bottom+F.top)+")");var f=u.select(".nv-context .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}));d3.transition(f).call(A),S.scale(x).ticks(o/100).tickSize(-i,0),C.scale(y).ticks(i/36).tickSize(-o,0),u.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i+")"),W.x(b).on("brush",function(){var t=m.transitionDuration();m.transitionDuration(0),e(),m.transitionDuration(t)}),T&&W.extent(T);var h=u.select(".nv-brushBackground").selectAll("g").data([T||W.extent()]),g=h.enter().append("g");g.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",a),g.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",a);var v=u.select(".nv-x.nv-brush").call(W);v.selectAll("rect").attr("height",a),v.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=a/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),e(),M.scale(b).ticks(o/100).tickSize(-a,0),u.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+k.range()[0]+")"),d3.transition(u.select(".nv-context .nv-x.nv-axis")).call(M),D.scale(k).ticks(a/36).tickSize(-o,0),d3.transition(u.select(".nv-context .nv-y.nv-axis")).call(D),u.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+k.range()[0]+")"),I.dispatch.on("stateChange",function(){m.update()}),E.on("tooltipShow",function(t){Y&&X(t,n.parentNode)})}),m}var x,y,b,k,w=rt.models.line(),A=rt.models.line(),S=rt.models.axis(),C=rt.models.axis(),M=rt.models.axis(),D=rt.models.axis(),I=rt.models.legend(),W=d3.svg.brush(),z={top:30,right:30,bottom:30,left:60},F={top:0,right:30,bottom:20,left:60},N=rt.utils.defaultColor(),B=null,L=null,H=100,P=!0,T=null,Y=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},R="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","brush"),V=250;w.clipEdge(!0),A.interactive(!1),S.orient("bottom").tickPadding(5),C.orient("left"),M.orient("bottom").tickPadding(5),D.orient("left");var X=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=S.tickFormat()(w.x()(t.point,t.pointIndex)),i=C.tickFormat()(w.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,m);rt.tooltip.show([n,r],a,null,null,e)};return w.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+z.left,t.pos[1]+z.top],E.tooltipShow(t)}),w.dispatch.on("elementMouseout.tooltip",function(t){E.tooltipHide(t)}),E.on("tooltipHide",function(){Y&&rt.tooltip.cleanup()}),m.dispatch=E,m.legend=I,m.lines=w,m.lines2=A,m.xAxis=S,m.yAxis=C,m.x2Axis=M,m.y2Axis=D,d3.rebind(m,w,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),m.options=rt.utils.optionsFunc.bind(m),m.x=function(t){return arguments.length?(w.x(t),A.x(t),m):w.x},m.y=function(t){return arguments.length?(w.y(t),A.y(t),m):w.y},m.margin=function(t){return arguments.length?(z.top=void 0!==t.top?t.top:z.top,z.right=void 0!==t.right?t.right:z.right,z.bottom=void 0!==t.bottom?t.bottom:z.bottom,z.left=void 0!==t.left?t.left:z.left,m):z},m.margin2=function(t){return arguments.length?(F=t,m):F},m.width=function(t){return arguments.length?(B=t,m):B},m.height=function(t){return arguments.length?(L=t,m):L},m.height2=function(t){return arguments.length?(H=t,m):H},m.color=function(t){return arguments.length?(N=rt.utils.getColor(t),I.color(N),m):N},m.showLegend=function(t){return arguments.length?(P=t,m):P},m.tooltips=function(t){return arguments.length?(Y=t,m):Y},m.tooltipContent=function(t){return arguments.length?(l=t,m):l},m.interpolate=function(t){return arguments.length?(w.interpolate(t),A.interpolate(t),m):w.interpolate()},m.noData=function(t){return arguments.length?(R=t,m):R},m.xTickFormat=function(t){return arguments.length?(S.tickFormat(t),M.tickFormat(t),m):S.tickFormat()},m.yTickFormat=function(t){return arguments.length?(C.tickFormat(t),D.tickFormat(t),m):C.tickFormat()},m.brushExtent=function(t){return arguments.length?(T=t,m):T},m.transitionDuration=function(t){return arguments.length?(V=t,m):V},m},rt.models.linePlusBarWithFocusChart=function(){"use strict";function w(t){return t.each(function(n){function t(){$=V.empty()?null:V.extent(),A=V.empty()?C.domain():V.extent(),tt.brush({extent:A,brush:V}),V.empty()||V.extent($),y.data([V.empty()?C.domain():$]).each(function(t){var e=C(t[0])-C.range()[0],n=C.range()[1]-C(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",C(t[1])).attr("width",n<0?0:n)}),N.width(o).height(i).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&n[e].bar})),z.width(o).height(i).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&!n[e].bar}));var t=h.select(".nv-focus .nv-barsWrap").datum(s.length?s.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return N.x()(t,e)>=A[0]&&N.x()(t,e)<=A[1]})}}):[{values:[]}]),e=h.select(".nv-focus .nv-linesWrap").datum(c[0].disabled?[{values:[]}]:c.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return z.x()(t,e)>=A[0]&&z.x()(t,e)<=A[1]})}}));S=s.length?N.xScale():z.xScale(),L.scale(S).ticks(o/100).tickSize(-i,0),L.domain([Math.ceil(A[0]),Math.floor(A[1])]),h.select(".nv-x.nv-axis").transition().duration(et).call(L),t.transition().duration(et).call(N),e.transition().duration(et).call(z),h.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),P.scale(M).ticks(i/36).tickSize(-o,0),h.select(".nv-focus .nv-y1.nv-axis").style("opacity",s.length?1:0),T.scale(D).ticks(i/36).tickSize(s.length?0:-o,0),h.select(".nv-focus .nv-y2.nv-axis").style("opacity",c.length?1:0).attr("transform","translate("+S.range()[1]+",0)"),h.select(".nv-focus .nv-y1.nv-axis").transition().duration(et).call(P),h.select(".nv-focus .nv-y2.nv-axis").transition().duration(et).call(T)}var e=d3.select(this),r=this,o=(Z||parseInt(e.style("width"))||960)-X.left-X.right,i=(G||parseInt(e.style("height"))||400)-X.top-X.bottom-O,a=O-_.top-_.bottom;if(w.update=function(){e.transition().duration(et).call(w)},w.container=this,!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var l=e.selectAll(".nv-noData").data([Q]);return l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",X.left+o/2).attr("y",X.top+i/2).text(function(t){return t}),w}e.selectAll(".nv-noData").remove();var s=n.filter(function(t){return!t.disabled&&t.bar}),c=n.filter(function(t){return!t.bar});S=N.xScale(),C=H.scale(),M=N.yScale(),D=z.yScale(),I=B.yScale(),W=F.yScale();var u=n.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:K(t,e),y:q(t,e)}})}),d=n.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:K(t,e),y:q(t,e)}})});S.range([0,o]),C.domain(d3.extent(d3.merge(u.concat(d)),function(t){return t.x})).range([0,o]);var p=e.selectAll("g.nv-wrap.nv-linePlusBar").data([n]),f=p.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),h=p.select("g");f.append("g").attr("class","nv-legendWrap");var g=f.append("g").attr("class","nv-focus");g.append("g").attr("class","nv-x nv-axis"),g.append("g").attr("class","nv-y1 nv-axis"),g.append("g").attr("class","nv-y2 nv-axis"),g.append("g").attr("class","nv-barsWrap"),g.append("g").attr("class","nv-linesWrap");var v=f.append("g").attr("class","nv-context");v.append("g").attr("class","nv-x nv-axis"),v.append("g").attr("class","nv-y1 nv-axis"),v.append("g").attr("class","nv-y2 nv-axis"),v.append("g").attr("class","nv-barsWrap"),v.append("g").attr("class","nv-linesWrap"),v.append("g").attr("class","nv-brushBackground"),v.append("g").attr("class","nv-x nv-brush"),U&&(E.width(o/2),h.select(".nv-legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(E),X.top!=E.height()&&(X.top=E.height(),i=(G||parseInt(e.style("height"))||400)-X.top-X.bottom-O),h.select(".nv-legendWrap").attr("transform","translate("+o/2+","+-X.top+")")),p.attr("transform","translate("+X.left+","+X.top+")"),B.width(o).height(a).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&n[e].bar})),F.width(o).height(a).color(n.map(function(t,e){return t.color||j(t,e)}).filter(function(t,e){return!n[e].disabled&&!n[e].bar}));var m=h.select(".nv-context .nv-barsWrap").datum(s.length?s:[{values:[]}]),x=h.select(".nv-context .nv-linesWrap").datum(c[0].disabled?[{values:[]}]:c);h.select(".nv-context").attr("transform","translate(0,"+(i+X.bottom+_.top)+")"),m.transition().call(B),x.transition().call(F),V.x(C).on("brush",t),$&&V.extent($);var y=h.select(".nv-brushBackground").selectAll("g").data([$||V.extent()]),b=y.enter().append("g");b.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",a),b.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",a);var k=h.select(".nv-x.nv-brush").call(V);k.selectAll("rect").attr("height",a),k.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=a/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),H.ticks(o/100).tickSize(-a,0),h.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+I.range()[0]+")"),h.select(".nv-context .nv-x.nv-axis").transition().call(H),Y.scale(I).ticks(a/36).tickSize(-o,0),h.select(".nv-context .nv-y1.nv-axis").style("opacity",s.length?1:0).attr("transform","translate(0,"+C.range()[0]+")"),h.select(".nv-context .nv-y1.nv-axis").transition().call(Y),R.scale(W).ticks(a/36).tickSize(s.length?0:-o,0),h.select(".nv-context .nv-y2.nv-axis").style("opacity",c.length?1:0).attr("transform","translate("+C.range()[1]+",0)"),h.select(".nv-context .nv-y2.nv-axis").transition().call(R),E.dispatch.on("stateChange",function(){w.update()}),tt.on("tooltipShow",function(t){J&&nt(t,r.parentNode)}),t()}),w}var A,S,C,M,D,I,W,z=rt.models.line(),F=rt.models.line(),N=rt.models.historicalBar(),B=rt.models.historicalBar(),L=rt.models.axis(),H=rt.models.axis(),P=rt.models.axis(),T=rt.models.axis(),Y=rt.models.axis(),R=rt.models.axis(),E=rt.models.legend(),V=d3.svg.brush(),X={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},Z=null,G=null,O=100,K=function(t){return t.x},q=function(t){return t.y},j=rt.utils.defaultColor(),U=!0,$=null,J=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},Q="No Data Available.",tt=d3.dispatch("tooltipShow","tooltipHide","brush"),et=0;z.clipEdge(!0),F.interactive(!1),L.orient("bottom").tickPadding(5),P.orient("left"),T.orient("right"),H.orient("bottom").tickPadding(5),Y.orient("left"),R.orient("right");var nt=function(t,e){A&&(t.pointIndex+=Math.ceil(A[0]));var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=L.tickFormat()(z.x()(t.point,t.pointIndex)),i=(t.series.bar?P:T).tickFormat()(z.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,w);rt.tooltip.show([n,r],a,t.value<0?"n":"s",null,e)};return z.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+X.left,t.pos[1]+X.top],tt.tooltipShow(t)}),z.dispatch.on("elementMouseout.tooltip",function(t){tt.tooltipHide(t)}),N.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+X.left,t.pos[1]+X.top],tt.tooltipShow(t)}),N.dispatch.on("elementMouseout.tooltip",function(t){tt.tooltipHide(t)}),tt.on("tooltipHide",function(){J&&rt.tooltip.cleanup()}),w.dispatch=tt,w.legend=E,w.lines=z,w.lines2=F,w.bars=N,w.bars2=B,w.xAxis=L,w.x2Axis=H,w.y1Axis=P,w.y2Axis=T,w.y3Axis=Y,w.y4Axis=R,d3.rebind(w,z,"defined","size","clipVoronoi","interpolate"),w.options=rt.utils.optionsFunc.bind(w),w.x=function(t){return arguments.length?(K=t,z.x(t),N.x(t),w):K},w.y=function(t){return arguments.length?(q=t,z.y(t),N.y(t),w):q},w.margin=function(t){return arguments.length?(X.top=void 0!==t.top?t.top:X.top,X.right=void 0!==t.right?t.right:X.right,X.bottom=void 0!==t.bottom?t.bottom:X.bottom,X.left=void 0!==t.left?t.left:X.left,w):X},w.width=function(t){return arguments.length?(Z=t,w):Z},w.height=function(t){return arguments.length?(G=t,w):G},w.color=function(t){return arguments.length?(j=rt.utils.getColor(t),E.color(j),w):j},w.showLegend=function(t){return arguments.length?(U=t,w):U},w.tooltips=function(t){return arguments.length?(J=t,w):J},w.tooltipContent=function(t){return arguments.length?(l=t,w):l},w.noData=function(t){return arguments.length?(Q=t,w):Q},w.brushExtent=function(t){return arguments.length?($=t,w):$},w},rt.models.multiBar=function(){"use strict";function e(t){return t.each(function(i){var t=b-y.left-y.right,e=k-y.top-y.bottom,n=d3.select(this);F&&i.length&&(F=[{values:i[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),W&&(i=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(M)(!i.length&&F?F:i)),i=i.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t}),W&&i[0].values.map(function(t,n){var r=0,o=0;i.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=o,o-=e.size):(e.y1=e.size+r,r+=e.size)})});var r=f&&h?[]:i.map(function(t){return t.values.map(function(t,e){return{x:C(t,e),y:M(t,e),y0:t.y0,y1:t.y1}})});w.domain(f||d3.merge(r).map(function(t){return t.x})).rangeBands(g||[0,t],L),A.domain(h||d3.extent(d3.merge(r).map(function(t){return W?0<t.y?t.y1:t.y1+t.y:t.y}).concat(D))).range(v||[e,0]),w.domain()[0]===w.domain()[1]&&w.domain(w.domain()[0]?[w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]:[-1,1]),A.domain()[0]===A.domain()[1]&&A.domain(A.domain()[0]?[A.domain()[0]+.01*A.domain()[0],A.domain()[1]-.01*A.domain()[1]]:[-1,1]),m=m||w,x=x||A;var o=n.selectAll("g.nv-wrap.nv-multibar").data([i]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=a.append("defs"),s=a.append("g"),c=o.select("g");s.append("g").attr("class","nv-groups"),o.attr("transform","translate("+y.left+","+y.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+S).append("rect"),o.select("#nv-edge-clip-"+S+" rect").attr("width",t).attr("height",e),c.attr("clip-path",I?"url(#nv-edge-clip-"+S+")":"");var u=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});u.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),u.exit().transition().selectAll("rect.nv-bar").delay(function(t,e){return e*B/i[0].values.length}).attr("y",function(t){return x(W?t.y0:0)}).attr("height",0).remove(),u.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return z(t,e)}).style("stroke",function(t,e){return z(t,e)}),u.transition().style("stroke-opacity",1).style("fill-opacity",.75);var d=u.selectAll("rect.nv-bar").data(function(t){return F&&!i.length?F.values:t.values});d.exit().remove(),d.enter().append("rect").attr("class",function(t,e){return M(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return W?0:n*w.rangeBand()/i.length}).attr("y",function(t){return x(W?t.y0:0)}).attr("height",0).attr("width",w.rangeBand()/(W?1:i.length)).attr("transform",function(t,e){return"translate("+w(C(t,e))+",0)"}),d.style("fill",function(t,e,n){return z(t,n,e)}).style("stroke",function(t,e,n){return z(t,n,e)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),H.elementMouseover({value:M(t,e),point:t,series:i[t.series],pos:[w(C(t,e))+w.rangeBand()*(W?i.length/2:t.series+.5)/i.length,A(M(t,e)+(W?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),H.elementMouseout({value:M(t,e),point:t,series:i[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("click",function(t,e){H.elementClick({value:M(t,e),point:t,series:i[t.series],pos:[w(C(t,e))+w.rangeBand()*(W?i.length/2:t.series+.5)/i.length,A(M(t,e)+(W?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,e){H.elementDblClick({value:M(t,e),point:t,series:i[t.series],pos:[w(C(t,e))+w.rangeBand()*(W?i.length/2:t.series+.5)/i.length,A(M(t,e)+(W?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),d.attr("class",function(t,e){return M(t,e)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(t,e){return"translate("+w(C(t,e))+",0)"}),N&&(p||(p=i.map(function(){return!0})),d.style("fill",function(t,e,n){return d3.rgb(N(t,e)).darker(p.map(function(t,e){return e}).filter(function(t,e){return!p[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(N(t,e)).darker(p.map(function(t,e){return e}).filter(function(t,e){return!p[e]})[n]).toString()})),W?d.transition().delay(function(t,e){return e*B/i[0].values.length}).attr("y",function(t){return A(W?t.y1:0)}).attr("height",function(t){return Math.max(Math.abs(A(t.y+(W?t.y0:0))-A(W?t.y0:0)),1)}).attr("x",function(t){return W?0:t.series*w.rangeBand()/i.length}).attr("width",w.rangeBand()/(W?1:i.length)):d.transition().delay(function(t,e){return e*B/i[0].values.length}).attr("x",function(t){return t.series*w.rangeBand()/i.length}).attr("width",w.rangeBand()/i.length).attr("y",function(t,e){return M(t,e)<0?A(0):A(0)-A(M(t,e))<1?A(0)-1:A(M(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(A(M(t,e))-A(0)),1)||0}),m=w.copy(),x=A.copy()}),e}var p,f,h,g,v,m,x,y={top:0,right:0,bottom:0,left:0},b=960,k=500,w=d3.scale.ordinal(),A=d3.scale.linear(),S=Math.floor(1e4*Math.random()),C=function(t){return t.x},M=function(t){return t.y},D=[0],I=!0,W=!1,z=rt.utils.defaultColor(),F=!1,N=null,B=1200,L=.1,H=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=H,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(C=t,e):C},e.y=function(t){return arguments.length?(M=t,e):M},e.margin=function(t){return arguments.length?(y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left,e):y},e.width=function(t){return arguments.length?(b=t,e):b},e.height=function(t){return arguments.length?(k=t,e):k},e.xScale=function(t){return arguments.length?(w=t,e):w},e.yScale=function(t){return arguments.length?(A=t,e):A},e.xDomain=function(t){return arguments.length?(f=t,e):f},e.yDomain=function(t){return arguments.length?(h=t,e):h},e.xRange=function(t){return arguments.length?(g=t,e):g},e.yRange=function(t){return arguments.length?(v=t,e):v},e.forceY=function(t){return arguments.length?(D=t,e):D},e.stacked=function(t){return arguments.length?(W=t,e):W},e.clipEdge=function(t){return arguments.length?(I=t,e):I},e.color=function(t){return arguments.length?(z=rt.utils.getColor(t),e):z},e.barColor=function(t){return arguments.length?(N=rt.utils.getColor(t),e):N},e.disabled=function(t){return arguments.length?(p=t,e):p},e.id=function(t){return arguments.length?(S=t,e):S},e.hideable=function(t){return arguments.length?(F=t,e):F},e.delay=function(t){return arguments.length?(B=t,e):B},e.groupSpacing=function(t){return arguments.length?(L=t,e):L},e},rt.models.multiBarChart=function(){"use strict";function h(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(A||parseInt(e.style("width"))||960)-w.left-w.right,i=(S||parseInt(e.style("height"))||400)-w.top-w.bottom;if(h.update=function(){e.transition().duration(E).call(h)},h.container=this,H.disabled=r.map(function(t){return!!t.disabled}),!P)for(t in P={},H)P[t]=H[t]instanceof Array?H[t].slice(0):H[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([T]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",w.left+o/2).attr("y",w.top+i/2).text(function(t){return t}),h}e.selectAll(".nv-noData").remove(),g=m.xScale(),v=m.yScale();var l=e.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),c=l.select("g");if(s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),D&&(b.width(o-R()),m.barColor()&&r.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),c.select(".nv-legendWrap").datum(r).call(b),w.top!=b.height()&&(w.top=b.height(),i=(S||parseInt(e.style("height"))||400)-w.top-w.bottom),c.select(".nv-legendWrap").attr("transform","translate("+R()+","+-w.top+")")),M){var u=[{key:"Grouped",disabled:m.stacked()},{key:"Stacked",disabled:!m.stacked()}];k.width(R()).color(["#444","#444","#444"]),c.select(".nv-controlsWrap").datum(u).attr("transform","translate(0,"+-w.top+")").call(k)}if(l.attr("transform","translate("+w.left+","+w.top+")"),z&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),m.disabled(r.map(function(t){return t.disabled})).width(o).height(i).color(r.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!r[e].disabled})),c.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(m),I){x.scale(g).ticks(o/100).tickSize(-i,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")"),c.select(".nv-x.nv-axis").transition().call(x);var d=c.select(".nv-x.nv-axis > g").selectAll("g");if(d.selectAll("line, text").style("opacity",1),N){var p=function(t,e){return"translate("+t+","+e+")"};d.selectAll("text").attr("transform",function(t,e,n){return p(0,n%2==0?5:17)});var f=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;c.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return p(0,0===e||f%2!=0?17:5)})}F&&d.filter(function(t,e){return e%Math.ceil(r[0].values.length/(o/100))!=0}).selectAll("text, line").style("opacity",0),B&&d.selectAll(".tick text").attr("transform","rotate("+B+" 0,0)").style("text-anchor",0<B?"start":"end"),c.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}W&&(y.scale(v).ticks(i/36).tickSize(-o,0),c.select(".nv-y.nv-axis").transition().call(y)),b.dispatch.on("stateChange",function(t){H=t,Y.stateChange(H),h.update()}),k.dispatch.on("legendClick",function(t){if(t.disabled){switch(u=u.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":m.stacked(!1);break;case"Stacked":m.stacked(!0)}H.stacked=m.stacked(),Y.stateChange(H),h.update()}}),Y.on("tooltipShow",function(t){L&&V(t,n.parentNode)}),Y.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),H.disabled=n.disabled),void 0!==n.stacked&&(m.stacked(n.stacked),H.stacked=n.stacked),h.update()})}),h}var g,v,m=rt.models.multiBar(),x=rt.models.axis(),y=rt.models.axis(),b=rt.models.legend(),k=rt.models.legend(),w={top:30,right:20,bottom:50,left:60},A=null,S=null,C=rt.utils.defaultColor(),M=!0,D=!0,I=!0,W=!0,z=!1,F=!0,N=!1,B=0,L=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},H={stacked:!1},P=null,T="No Data Available.",Y=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),R=function(){return M?180:0},E=250;m.stacked(!1),x.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),y.orient(z?"right":"left").tickFormat(d3.format(",.1f")),k.updateState(!1);var V=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=x.tickFormat()(m.x()(t.point,t.pointIndex)),i=y.tickFormat()(m.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,h);rt.tooltip.show([n,r],a,t.value<0?"n":"s",null,e)};return m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],Y.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){Y.tooltipHide(t)}),Y.on("tooltipHide",function(){L&&rt.tooltip.cleanup()}),h.dispatch=Y,h.multibar=m,h.legend=b,h.xAxis=x,h.yAxis=y,d3.rebind(h,m,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","delay","barColor","groupSpacing"),h.options=rt.utils.optionsFunc.bind(h),h.margin=function(t){return arguments.length?(w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left,h):w},h.width=function(t){return arguments.length?(A=t,h):A},h.height=function(t){return arguments.length?(S=t,h):S},h.color=function(t){return arguments.length?(C=rt.utils.getColor(t),b.color(C),h):C},h.showControls=function(t){return arguments.length?(M=t,h):M},h.showLegend=function(t){return arguments.length?(D=t,h):D},h.showXAxis=function(t){return arguments.length?(I=t,h):I},h.showYAxis=function(t){return arguments.length?(W=t,h):W},h.rightAlignYAxis=function(t){return arguments.length?(z=t,y.orient(t?"right":"left"),h):z},h.reduceXTicks=function(t){return arguments.length?(F=t,h):F},h.rotateLabels=function(t){return arguments.length?(B=t,h):B},h.staggerLabels=function(t){return arguments.length?(N=t,h):N},h.tooltip=function(t){return arguments.length?(l=t,h):l},h.tooltips=function(t){return arguments.length?(L=t,h):L},h.tooltipContent=function(t){return arguments.length?(l=t,h):l},h.state=function(t){return arguments.length?(H=t,h):H},h.defaultState=function(t){return arguments.length?(P=t,h):P},h.noData=function(t){return arguments.length?(T=t,h):T},h.transitionDuration=function(t){return arguments.length?(E=t,h):E},h},rt.models.multiBarHorizontal=function(){"use strict";function e(t){return t.each(function(i){var t=x-m.left-m.right,e=y-m.top-m.bottom;d3.select(this),D&&(i=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(A)(i)),i=i.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t}),D&&i[0].values.map(function(t,n){var r=0,o=0;i.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=o-e.size,o-=e.size):(e.y1=r,r+=e.size)})});var n=d&&p?[]:i.map(function(t){return t.values.map(function(t,e){return{x:w(t,e),y:A(t,e),y0:t.y0,y1:t.y1}})});b.domain(d||d3.merge(n).map(function(t){return t.x})).rangeBands(f||[0,e],.1),k.domain(p||d3.extent(d3.merge(n).map(function(t){return D?0<t.y?t.y1+t.y:t.y1:t.y}).concat(S))),k.range(I&&!D?h||[k.domain()[0]<0?W:0,t-(0<k.domain()[1]?W:0)]:h||[0,t]),g=g||b,v=v||d3.scale.linear().domain(k.domain()).range([k(0),k(0)]);var r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([i]),o=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),a=(o.append("defs"),o.append("g"));r.select("g"),a.append("g").attr("class","nv-groups"),r.attr("transform","translate("+m.left+","+m.top+")");var l=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});l.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),l.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),l.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return C(t,e)}).style("stroke",function(t,e){return C(t,e)}),l.transition().style("stroke-opacity",1).style("fill-opacity",.75);var s=l.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var c=s.enter().append("g").attr("transform",function(t,e,n){return"translate("+v(D?t.y0:0)+","+(D?0:n*b.rangeBand()/i.length+b(w(t,e)))+")"});c.append("rect").attr("width",0).attr("height",b.rangeBand()/(D?1:i.length)),s.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),F.elementMouseover({value:A(t,e),point:t,series:i[t.series],pos:[k(A(t,e)+(D?t.y0:0)),b(w(t,e))+b.rangeBand()*(D?i.length/2:t.series+.5)/i.length],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),F.elementMouseout({value:A(t,e),point:t,series:i[t.series],pointIndex:e,seriesIndex:t.series,e:d3.event})}).on("click",function(t,e){F.elementClick({value:A(t,e),point:t,series:i[t.series],pos:[b(w(t,e))+b.rangeBand()*(D?i.length/2:t.series+.5)/i.length,k(A(t,e)+(D?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(t,e){F.elementDblClick({value:A(t,e),point:t,series:i[t.series],pos:[b(w(t,e))+b.rangeBand()*(D?i.length/2:t.series+.5)/i.length,k(A(t,e)+(D?t.y0:0))],pointIndex:e,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),c.append("text"),I&&!D?(s.select("text").attr("text-anchor",function(t,e){return A(t,e)<0?"end":"start"}).attr("y",b.rangeBand()/(2*i.length)).attr("dy",".32em").text(function(t,e){return z(A(t,e))}),s.transition().select("text").attr("x",function(t,e){return A(t,e)<0?-4:k(A(t,e))-k(0)+4})):s.selectAll("text").text(""),s.attr("class",function(t,e){return A(t,e)<0?"nv-bar negative":"nv-bar positive"}),M&&(u||(u=i.map(function(){return!0})),s.style("fill",function(t,e,n){return d3.rgb(M(t,e)).darker(u.map(function(t,e){return e}).filter(function(t,e){return!u[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(M(t,e)).darker(u.map(function(t,e){return e}).filter(function(t,e){return!u[e]})[n]).toString()})),D?s.transition().attr("transform",function(t,e){return"translate("+k(t.y1)+","+b(w(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(k(A(t,e)+t.y0)-k(t.y0))}).attr("height",b.rangeBand()):s.transition().attr("transform",function(t,e){return"translate("+k(A(t,e)<0?A(t,e):0)+","+(t.series*b.rangeBand()/i.length+b(w(t,e)))+")"}).select("rect").attr("height",b.rangeBand()/i.length).attr("width",function(t,e){return Math.max(Math.abs(k(A(t,e))-k(0)),1)}),g=b.copy(),v=k.copy()}),e}var u,d,p,f,h,g,v,m={top:0,right:0,bottom:0,left:0},x=960,y=500,n=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),k=d3.scale.linear(),w=function(t){return t.x},A=function(t){return t.y},S=[0],C=rt.utils.defaultColor(),M=null,D=!1,I=!1,W=60,z=d3.format(",.2f"),r=1200,F=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=F,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(w=t,e):w},e.y=function(t){return arguments.length?(A=t,e):A},e.margin=function(t){return arguments.length?(m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left,e):m},e.width=function(t){return arguments.length?(x=t,e):x},e.height=function(t){return arguments.length?(y=t,e):y},e.xScale=function(t){return arguments.length?(b=t,e):b},e.yScale=function(t){return arguments.length?(k=t,e):k},e.xDomain=function(t){return arguments.length?(d=t,e):d},e.yDomain=function(t){return arguments.length?(p=t,e):p},e.xRange=function(t){return arguments.length?(f=t,e):f},e.yRange=function(t){return arguments.length?(h=t,e):h},e.forceY=function(t){return arguments.length?(S=t,e):S},e.stacked=function(t){return arguments.length?(D=t,e):D},e.color=function(t){return arguments.length?(C=rt.utils.getColor(t),e):C},e.barColor=function(t){return arguments.length?(M=rt.utils.getColor(t),e):M},e.disabled=function(t){return arguments.length?(u=t,e):u},e.id=function(t){return arguments.length?(n=t,e):n},e.delay=function(t){return arguments.length?(r=t,e):r},e.showValues=function(t){return arguments.length?(I=t,e):I},e.valueFormat=function(t){return arguments.length?(z=t,e):z},e.valuePadding=function(t){return arguments.length?(W=t,e):W},e},rt.models.multiBarHorizontalChart=function(){"use strict";function p(d){return d.each(function(r){var t,e=d3.select(this),n=this,o=(k||parseInt(e.style("width"))||960)-b.left-b.right,i=(w||parseInt(e.style("height"))||400)-b.top-b.bottom;if(p.update=function(){e.transition().duration(N).call(p)},p.container=this,D.disabled=r.map(function(t){return!!t.disabled}),!I)for(t in I={},D)I[t]=D[t]instanceof Array?D[t].slice(0):D[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([W]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",b.left+o/2).attr("y",b.top+i/2).text(function(t){return t}),p}e.selectAll(".nv-noData").remove(),f=g.xScale(),h=g.yScale();var l=e.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),c=l.select("g");if(s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),C&&(x.width(o-F()),g.barColor()&&r.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),c.select(".nv-legendWrap").datum(r).call(x),b.top!=x.height()&&(b.top=x.height(),i=(w||parseInt(e.style("height"))||400)-b.top-b.bottom),c.select(".nv-legendWrap").attr("transform","translate("+F()+","+-b.top+")")),S){var u=[{key:"Grouped",disabled:g.stacked()},{key:"Stacked",disabled:!g.stacked()}];y.width(F()).color(["#444","#444","#444"]),c.select(".nv-controlsWrap").datum(u).attr("transform","translate(0,"+-b.top+")").call(y)}l.attr("transform","translate("+b.left+","+b.top+")"),g.disabled(r.map(function(t){return t.disabled})).width(o).height(i).color(r.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!r[e].disabled})),c.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(g),v.scale(f).ticks(i/24).tickSize(-o,0),c.select(".nv-x.nv-axis").transition().call(v),c.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text").style("opacity",1),m.scale(h).ticks(o/100).tickSize(-i,0),c.select(".nv-y.nv-axis").attr("transform","translate(0,"+i+")"),c.select(".nv-y.nv-axis").transition().call(m),x.dispatch.on("stateChange",function(t){D=t,z.stateChange(D),p.update()}),y.dispatch.on("legendClick",function(t){if(t.disabled){switch(u=u.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":g.stacked(!1);break;case"Stacked":g.stacked(!0)}D.stacked=g.stacked(),z.stateChange(D),p.update()}}),z.on("tooltipShow",function(t){M&&B(t,n.parentNode)}),z.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),D.disabled=n.disabled),void 0!==n.stacked&&(g.stacked(n.stacked),D.stacked=n.stacked),d.call(p)})}),p}var f,h,g=rt.models.multiBarHorizontal(),v=rt.models.axis(),m=rt.models.axis(),x=rt.models.legend().height(30),y=rt.models.legend().height(30),b={top:30,right:20,bottom:50,left:60},k=null,w=null,A=rt.utils.defaultColor(),S=!0,C=!0,M=!0,l=function(t,e,n){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},D={stacked:!1},I=null,W="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),F=function(){return S?180:0},N=250;g.stacked(!1),v.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),m.orient("bottom").tickFormat(d3.format(",.1f")),y.updateState(!1);var B=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=v.tickFormat()(g.x()(t.point,t.pointIndex)),i=m.tickFormat()(g.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,p);rt.tooltip.show([n,r],a,t.value<0?"e":"w",null,e)};return g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+b.left,t.pos[1]+b.top],z.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){z.tooltipHide(t)}),z.on("tooltipHide",function(){M&&rt.tooltip.cleanup()}),p.dispatch=z,p.multibar=g,p.legend=x,p.xAxis=v,p.yAxis=m,d3.rebind(p,g,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked","barColor"),p.options=rt.utils.optionsFunc.bind(p),p.margin=function(t){return arguments.length?(b.top=void 0!==t.top?t.top:b.top,b.right=void 0!==t.right?t.right:b.right,b.bottom=void 0!==t.bottom?t.bottom:b.bottom,b.left=void 0!==t.left?t.left:b.left,p):b},p.width=function(t){return arguments.length?(k=t,p):k},p.height=function(t){return arguments.length?(w=t,p):w},p.color=function(t){return arguments.length?(A=rt.utils.getColor(t),x.color(A),p):A},p.showControls=function(t){return arguments.length?(S=t,p):S},p.showLegend=function(t){return arguments.length?(C=t,p):C},p.tooltip=function(t){return arguments.length?(l=t,p):l},p.tooltips=function(t){return arguments.length?(M=t,p):M},p.tooltipContent=function(t){return arguments.length?(l=t,p):l},p.state=function(t){return arguments.length?(D=t,p):D},p.defaultState=function(t){return arguments.length?(I=t,p):I},p.noData=function(t){return arguments.length?(W=t,p):W},p.transitionDuration=function(t){return arguments.length?(N=t,p):N},p},rt.models.multiChart=function(){"use strict";function S(t){return t.each(function(n){var t=d3.select(this),e=this;S.update=function(){t.transition().call(S)},S.container=this;var r=(W||parseInt(t.style("width"))||960)-D.left-D.right,o=(z||parseInt(t.style("height"))||400)-D.top-D.bottom,i=n.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),a=n.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),l=n.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),s=n.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),c=n.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),u=n.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),d=n.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})}),p=n.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})});B.domain(d3.extent(d3.merge(d.concat(p)),function(t){return t.x})).range([0,r]);var f=t.selectAll("g.wrap.multiChart").data([n]),h=f.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");h.append("g").attr("class","x axis"),h.append("g").attr("class","y1 axis"),h.append("g").attr("class","y2 axis"),h.append("g").attr("class","lines1Wrap"),h.append("g").attr("class","lines2Wrap"),h.append("g").attr("class","bars1Wrap"),h.append("g").attr("class","bars2Wrap"),h.append("g").attr("class","stack1Wrap"),h.append("g").attr("class","stack2Wrap"),h.append("g").attr("class","legendWrap");var g=f.select("g");F&&(G.width(r/2),g.select(".legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(G),D.top!=G.height()&&(D.top=G.height(),o=(z||parseInt(t.style("height"))||400)-D.top-D.bottom),g.select(".legendWrap").attr("transform","translate("+r/2+","+-D.top+")")),P.width(r).height(o).interpolate("monotone").color(n.map(function(t,e){return t.color||I[e%I.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"line"==n[e].type})),T.width(r).height(o).interpolate("monotone").color(n.map(function(t,e){return t.color||I[e%I.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"line"==n[e].type})),Y.width(r).height(o).color(n.map(function(t,e){return t.color||I[e%I.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"bar"==n[e].type})),R.width(r).height(o).color(n.map(function(t,e){return t.color||I[e%I.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"bar"==n[e].type})),E.width(r).height(o).color(n.map(function(t,e){return t.color||I[e%I.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"area"==n[e].type})),V.width(r).height(o).color(n.map(function(t,e){return t.color||I[e%I.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"area"==n[e].type})),g.attr("transform","translate("+D.left+","+D.top+")");var v=g.select(".lines1Wrap").datum(i),m=g.select(".bars1Wrap").datum(l),x=g.select(".stack1Wrap").datum(c),y=g.select(".lines2Wrap").datum(a),b=g.select(".bars2Wrap").datum(s),k=g.select(".stack2Wrap").datum(u),w=c.length?c.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[],A=u.length?u.map(function(t){return t.values}).reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})}).concat([{x:0,y:0}]):[];L.domain(C||d3.extent(d3.merge(d).concat(w),function(t){return t.y})).range([0,o]),H.domain(M||d3.extent(d3.merge(p).concat(A),function(t){return t.y})).range([0,o]),P.yDomain(L.domain()),Y.yDomain(L.domain()),E.yDomain(L.domain()),T.yDomain(H.domain()),R.yDomain(H.domain()),V.yDomain(H.domain()),c.length&&d3.transition(x).call(E),u.length&&d3.transition(k).call(V),l.length&&d3.transition(m).call(Y),s.length&&d3.transition(b).call(R),i.length&&d3.transition(v).call(P),a.length&&d3.transition(y).call(T),X.ticks(r/100).tickSize(-o,0),g.select(".x.axis").attr("transform","translate(0,"+o+")"),d3.transition(g.select(".x.axis")).call(X),_.ticks(o/36).tickSize(-r,0),d3.transition(g.select(".y1.axis")).call(_),Z.ticks(o/36).tickSize(-r,0),d3.transition(g.select(".y2.axis")).call(Z),g.select(".y2.axis").style("opacity",p.length?1:0).attr("transform","translate("+B.range()[1]+",0)"),G.dispatch.on("stateChange",function(){S.update()}),O.on("tooltipShow",function(t){N&&K(t,e.parentNode)})}),S}var C,M,D={top:30,right:20,bottom:50,left:60},I=d3.scale.category20().range(),W=null,z=null,F=!0,N=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},B=d3.scale.linear(),L=d3.scale.linear(),H=d3.scale.linear(),P=rt.models.line().yScale(L),T=rt.models.line().yScale(H),Y=rt.models.multiBar().stacked(!1).yScale(L),R=rt.models.multiBar().stacked(!1).yScale(H),E=rt.models.stackedArea().yScale(L),V=rt.models.stackedArea().yScale(H),X=rt.models.axis().scale(B).orient("bottom").tickPadding(5),_=rt.models.axis().scale(L).orient("left"),Z=rt.models.axis().scale(H).orient("right"),G=rt.models.legend().height(30),O=d3.dispatch("tooltipShow","tooltipHide"),K=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=X.tickFormat()(P.x()(t.point,t.pointIndex)),i=(2==t.series.yAxis?Z:_).tickFormat()(P.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,S);rt.tooltip.show([n,r],a,void 0,void 0,e.offsetParent)};return P.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],O.tooltipShow(t)}),P.dispatch.on("elementMouseout.tooltip",function(t){O.tooltipHide(t)}),T.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],O.tooltipShow(t)}),T.dispatch.on("elementMouseout.tooltip",function(t){O.tooltipHide(t)}),Y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],O.tooltipShow(t)}),Y.dispatch.on("elementMouseout.tooltip",function(t){O.tooltipHide(t)}),R.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],O.tooltipShow(t)}),R.dispatch.on("elementMouseout.tooltip",function(t){O.tooltipHide(t)}),E.dispatch.on("tooltipShow",function(t){return Math.round(100*E.y()(t.point))?(t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],void O.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),E.dispatch.on("tooltipHide",function(t){O.tooltipHide(t)}),V.dispatch.on("tooltipShow",function(t){return Math.round(100*V.y()(t.point))?(t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],void O.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),V.dispatch.on("tooltipHide",function(t){O.tooltipHide(t)}),P.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],O.tooltipShow(t)}),P.dispatch.on("elementMouseout.tooltip",function(t){O.tooltipHide(t)}),T.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+D.left,t.pos[1]+D.top],O.tooltipShow(t)}),T.dispatch.on("elementMouseout.tooltip",function(t){O.tooltipHide(t)}),O.on("tooltipHide",function(){N&&rt.tooltip.cleanup()}),S.dispatch=O,S.lines1=P,S.lines2=T,S.bars1=Y,S.bars2=R,S.stack1=E,S.stack2=V,S.xAxis=X,S.yAxis1=_,S.yAxis2=Z,S.options=rt.utils.optionsFunc.bind(S),S.x=function(t){return arguments.length?(getX=t,P.x(t),Y.x(t),S):getX},S.y=function(t){return arguments.length?(getY=t,P.y(t),Y.y(t),S):getY},S.yDomain1=function(t){return arguments.length?(C=t,S):C},S.yDomain2=function(t){return arguments.length?(M=t,S):M},S.margin=function(t){return arguments.length?(D=t,S):D},S.width=function(t){return arguments.length?(W=t,S):W},S.height=function(t){return arguments.length?(z=t,S):z},S.color=function(t){return arguments.length?(I=t,G.color(t),S):I},S.showLegend=function(t){return arguments.length?(F=t,S):F},S.tooltips=function(t){return arguments.length?(N=t,S):N},S.tooltipContent=function(t){return arguments.length?(l=t,S):l},S},rt.models.ohlcBar=function(){"use strict";function e(t){return t.each(function(r){var o=g-h.left-h.right,t=v-h.top-h.bottom,e=d3.select(this);x.domain(u||d3.extent(r[0].values.map(b).concat(M))),x.range(I?p||[.5*o/r[0].values.length,o*(r[0].values.length-.5)/r[0].values.length]:p||[0,o]),y.domain(d||[d3.min(r[0].values.map(C).concat(D)),d3.max(r[0].values.map(S).concat(D))]).range(f||[t,0]),(x.domain()[0]===x.domain()[1]||y.domain()[0]===y.domain()[1])&&(singlePoint=!0),x.domain()[0]===x.domain()[1]&&x.domain(x.domain()[0]?[x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]:[-1,1]),y.domain()[0]===y.domain()[1]&&y.domain(y.domain()[0]?[y.domain()[0]+.01*y.domain()[0],y.domain()[1]-.01*y.domain()[1]]:[-1,1]);var n=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([r[0].values]),i=n.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),a=i.append("defs"),l=i.append("g"),s=n.select("g");l.append("g").attr("class","nv-ticks"),n.attr("transform","translate("+h.left+","+h.top+")"),e.on("click",function(t,e){z.chartClick({data:t,index:e,pos:d3.event,id:m})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),n.select("#nv-chart-clip-path-"+m+" rect").attr("width",o).attr("height",t),s.attr("clip-path",W?"url(#nv-chart-clip-path-"+m+")":"");var c=n.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});c.exit().remove(),c.enter().append("path").attr("class",function(t,e,n){return(w(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){var n=o/r[0].values.length*.9;return"m0,0l0,"+(y(w(t,e))-y(S(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(y(C(t,e))-y(w(t,e)))+"l0,"+(y(A(t,e))-y(C(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+x(b(t,e))+","+y(S(t,e))+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),z.elementMouseover({point:t,series:r[0],pos:[x(b(t,e)),y(k(t,e))],pointIndex:e,seriesIndex:0,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),z.elementMouseout({point:t,series:r[0],pointIndex:e,seriesIndex:0,e:d3.event})}).on("click",function(t,e){z.elementClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation()}).on("dblclick",function(t,e){z.elementDblClick({value:k(t,e),data:t,index:e,pos:[x(b(t,e)),y(k(t,e))],e:d3.event,id:m}),d3.event.stopPropagation()}),c.attr("class",function(t,e,n){return(w(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(c).attr("transform",function(t,e){return"translate("+x(b(t,e))+","+y(S(t,e))+")"}).attr("d",function(t,e){var n=o/r[0].values.length*.9;return"m0,0l0,"+(y(w(t,e))-y(S(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(y(C(t,e))-y(w(t,e)))+"l0,"+(y(A(t,e))-y(C(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),e}var u,d,p,f,h={top:0,right:0,bottom:0,left:0},g=960,v=500,m=Math.floor(1e4*Math.random()),x=d3.scale.linear(),y=d3.scale.linear(),b=function(t){return t.x},k=function(t){return t.y},w=function(t){return t.open},A=function(t){return t.close},S=function(t){return t.high},C=function(t){return t.low},M=[],D=[],I=!1,W=!0,n=rt.utils.defaultColor(),z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=z,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(b=t,e):b},e.y=function(t){return arguments.length?(k=t,e):k},e.open=function(t){return arguments.length?(w=t,e):w},e.close=function(t){return arguments.length?(A=t,e):A},e.high=function(t){return arguments.length?(S=t,e):S},e.low=function(t){return arguments.length?(C=t,e):C},e.margin=function(t){return arguments.length?(h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left,e):h},e.width=function(t){return arguments.length?(g=t,e):g},e.height=function(t){return arguments.length?(v=t,e):v},e.xScale=function(t){return arguments.length?(x=t,e):x},e.yScale=function(t){return arguments.length?(y=t,e):y},e.xDomain=function(t){return arguments.length?(u=t,e):u},e.yDomain=function(t){return arguments.length?(d=t,e):d},e.xRange=function(t){return arguments.length?(p=t,e):p},e.yRange=function(t){return arguments.length?(f=t,e):f},e.forceX=function(t){return arguments.length?(M=t,e):M},e.forceY=function(t){return arguments.length?(D=t,e):D},e.padData=function(t){return arguments.length?(I=t,e):I},e.clipEdge=function(t){return arguments.length?(W=t,e):W},e.color=function(t){return arguments.length?(n=rt.utils.getColor(t),e):n},e.id=function(t){return arguments.length?(m=t,e):m},e},rt.models.pie=function(){"use strict";function e(t){return t.each(function(t){var e=g-h.left-h.right,n=v-h.top-h.bottom,r=Math.min(e,n)/2,o=r-r/5,i=d3.select(this),a=i.selectAll(".nv-wrap.nv-pie").data(t),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+y).append("g"),s=a.select("g");l.append("g").attr("class","nv-pie"),a.attr("transform","translate("+h.left+","+h.top+")"),s.select(".nv-pie").attr("transform","translate("+e/2+","+n/2+")"),i.on("click",function(t,e){F.chartClick({data:t,index:e,pos:d3.event,id:y})});var c=d3.svg.arc().outerRadius(o);I&&c.startAngle(I),W&&c.endAngle(W),M&&c.innerRadius(r*z);var u=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:x(t)}),d=a.select(".nv-pie").selectAll(".nv-slice").data(u);d.exit().remove();var p=d.enter().append("g").attr("class","nv-slice").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),F.elementMouseover({label:m(t.data),value:x(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:y})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),F.elementMouseout({label:m(t.data),value:x(t.data),point:t.data,index:e,id:y})}).on("click",function(t,e){F.elementClick({label:m(t.data),value:x(t.data),point:t.data,index:e,pos:d3.event,id:y}),d3.event.stopPropagation()}).on("dblclick",function(t,e){F.elementDblClick({label:m(t.data),value:x(t.data),point:t.data,index:e,pos:d3.event,id:y}),d3.event.stopPropagation()});if(d.attr("fill",function(t,e){return b(t,e)}).attr("stroke",function(t,e){return b(t,e)}),p.append("path").each(function(t){this._current=t}),d3.transition(d.select("path")).attr("d",c).attrTween("d",function(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,M||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return c(e(t))}}),k){var f=d3.svg.arc().innerRadius(0);w&&(f=c),A&&(f=d3.svg.arc().outerRadius(c.outerRadius())),p.append("g").classed("nv-label",!0).each(function(t){var e=d3.select(this);e.attr("transform",function(t){if(D){t.outerRadius=o+10,t.innerRadius=o+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+f.centroid(t)+") rotate("+e+")"}return t.outerRadius=r+10,t.innerRadius=r+15,"translate("+f.centroid(t)+")"}),e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),e.append("text").style("text-anchor",D?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}),d.select(".nv-label").transition().attr("transform",function(t){if(D){t.outerRadius=o+10,t.innerRadius=o+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+f.centroid(t)+") rotate("+e+")"}return t.outerRadius=r+10,t.innerRadius=r+15,"translate("+f.centroid(t)+")"}),d.each(function(t){var e=d3.select(this);e.select(".nv-label text").style("text-anchor",D?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t){var e=(t.endAngle-t.startAngle)/(2*Math.PI),n={key:m(t.data),value:x(t.data),percent:d3.format("%")(e)};return t.value&&C<e?n[S]:""});var n=e.select("text").node().getBBox();e.select(".nv-label rect").attr("width",n.width+10).attr("height",n.height+10).attr("transform",function(){return"translate("+[n.x-5,n.y-5]+")"})})}}),e}var h={top:0,right:0,bottom:0,left:0},g=500,v=500,m=function(t){return t.x},x=function(t){return t.y},n=function(t){return t.description},y=Math.floor(1e4*Math.random()),b=rt.utils.defaultColor(),r=d3.format(",.2f"),k=!0,w=!0,A=!1,S="key",C=.02,M=!1,D=!1,I=!1,W=!1,z=.5,F=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=F,e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left,e):h},e.width=function(t){return arguments.length?(g=t,e):g},e.height=function(t){return arguments.length?(v=t,e):v},e.values=function(){return rt.log("pie.values() is no longer supported."),e},e.x=function(t){return arguments.length?(m=t,e):m},e.y=function(t){return arguments.length?(x=d3.functor(t),e):x},e.description=function(t){return arguments.length?(n=t,e):n},e.showLabels=function(t){return arguments.length?(k=t,e):k},e.labelSunbeamLayout=function(t){return arguments.length?(D=t,e):D},e.donutLabelsOutside=function(t){return arguments.length?(A=t,e):A},e.pieLabelsOutside=function(t){return arguments.length?(w=t,e):w},e.labelType=function(t){return arguments.length?(S=(S=t)||"key",e):S},e.donut=function(t){return arguments.length?(M=t,e):M},e.donutRatio=function(t){return arguments.length?(z=t,e):z},e.startAngle=function(t){return arguments.length?(I=t,e):I},e.endAngle=function(t){return arguments.length?(W=t,e):W},e.id=function(t){return arguments.length?(y=t,e):y},e.color=function(t){return arguments.length?(b=rt.utils.getColor(t),e):b},e.valueFormat=function(t){return arguments.length?(r=t,e):r},e.labelThreshold=function(t){return arguments.length?(C=t,e):C},e},rt.models.pieChart=function(){"use strict";function u(t){return t.each(function(t){var e,n=d3.select(this),r=(h||parseInt(n.style("width"))||960)-f.left-f.right,o=(g||parseInt(n.style("height"))||400)-f.top-f.bottom;if(u.update=function(){n.transition().call(u)},u.container=this,m.disabled=t.map(function(t){return!!t.disabled}),!x)for(e in x={},m)x[e]=m[e]instanceof Array?m[e].slice(0):m[e];if(!t||!t.length){var i=n.selectAll(".nv-noData").data([y]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",f.left+r/2).attr("y",f.top+o/2).text(function(t){return t}),u}n.selectAll(".nv-noData").remove();var a=n.selectAll("g.nv-wrap.nv-pieChart").data([t]),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=a.select("g");l.append("g").attr("class","nv-pieWrap"),l.append("g").attr("class","nv-legendWrap"),v&&(p.width(r).key(d.x()),a.select(".nv-legendWrap").datum(t).call(p),f.top!=p.height()&&(f.top=p.height(),o=(g||parseInt(n.style("height"))||400)-f.top-f.bottom),a.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")),a.attr("transform","translate("+f.left+","+f.top+")"),d.width(r).height(o);var c=s.select(".nv-pieWrap").datum([t]);d3.transition(c).call(d),p.dispatch.on("stateChange",function(t){m=t,b.stateChange(m),u.update()}),d.dispatch.on("elementMouseout.tooltip",function(t){b.tooltipHide(t)}),b.on("changeState",function(n){void 0!==n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),m.disabled=n.disabled),u.update()})}),u}var d=rt.models.pie(),p=rt.models.legend(),f={top:30,right:20,bottom:20,left:20},h=null,g=null,v=!0,e=rt.utils.defaultColor(),s=!0,c=function(t,e){return"<h3>"+t+"</h3><p>"+e+"</p>"},m={},x=null,y="No Data Available.",b=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");return d.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+f.left,t.pos[1]+f.top],b.tooltipShow(t)}),b.on("tooltipShow",function(t){var e,n,r,o,i,a,l;s&&(e=t,r=d.description()(e.point)||d.x()(e.point),o=e.pos[0]+(n&&n.offsetLeft||0),i=e.pos[1]+(n&&n.offsetTop||0),a=d.valueFormat()(d.y()(e.point)),l=c(r,a,e,u),rt.tooltip.show([o,i],l,e.value<0?"n":"s",null,n))}),b.on("tooltipHide",function(){s&&rt.tooltip.cleanup()}),u.legend=p,u.dispatch=b,u.pie=d,d3.rebind(u,d,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),u.options=rt.utils.optionsFunc.bind(u),u.margin=function(t){return arguments.length?(f.top=void 0!==t.top?t.top:f.top,f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left,u):f},u.width=function(t){return arguments.length?(h=t,u):h},u.height=function(t){return arguments.length?(g=t,u):g},u.color=function(t){return arguments.length?(e=rt.utils.getColor(t),p.color(e),d.color(e),u):e},u.showLegend=function(t){return arguments.length?(v=t,u):v},u.tooltips=function(t){return arguments.length?(s=t,u):s},u.tooltipContent=function(t){return arguments.length?(c=t,u):c},u.state=function(t){return arguments.length?(m=t,u):m},u.defaultState=function(t){return arguments.length?(x=t,u):x},u.noData=function(t){return arguments.length?(y=t,u):y},u},rt.models.scatter=function(){"use strict";function e(t){return t.each(function(a){var t=m-v.left-v.right,e=x-v.top-v.bottom,n=d3.select(this);a=a.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t});var r=E&&V&&Z?[]:d3.merge(a.map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:C(t,e),size:M(t,e)}})}));k.domain(E||d3.extent(r.map(function(t){return t.x}).concat(W))),k.range(H&&a[0]?X||[(t*P+t)/(2*a[0].values.length),t-t*(1+P)/(2*a[0].values.length)]:X||[0,t]),w.domain(V||d3.extent(r.map(function(t){return t.y}).concat(z))).range(_||[e,0]),A.domain(Z||d3.extent(r.map(function(t){return t.size}).concat(F))).range(G||[16,256]),(k.domain()[0]===k.domain()[1]||w.domain()[0]===w.domain()[1])&&(O=!0),k.domain()[0]===k.domain()[1]&&k.domain(k.domain()[0]?[k.domain()[0]-.01*k.domain()[0],k.domain()[1]+.01*k.domain()[1]]:[-1,1]),w.domain()[0]===w.domain()[1]&&w.domain(w.domain()[0]?[w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]:[-1,1]),isNaN(k.domain()[0])&&k.domain([-1,1]),isNaN(w.domain()[0])&&w.domain([-1,1]),p=p||k,f=f||w,h=h||A;var l=n.selectAll("g.nv-wrap.nv-scatter").data([a]),o=l.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+b+(O?" nv-single-point":"")),i=o.append("defs"),s=o.append("g"),c=l.select("g");s.append("g").attr("class","nv-groups"),s.append("g").attr("class","nv-point-paths"),l.attr("transform","translate("+v.left+","+v.top+")"),i.append("clipPath").attr("id","nv-edge-clip-"+b).append("rect"),l.select("#nv-edge-clip-"+b+" rect").attr("width",t).attr("height",e),c.attr("clip-path",T?"url(#nv-edge-clip-"+b+")":""),j=!0;var u,d=l.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});(d.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d.exit().remove(),d.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),d.transition().style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),I)?((u=d.selectAll("circle.nv-point").data(function(t){return t.values},B)).enter().append("circle").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("cx",function(t,e){return rt.utils.NaNtoZero(p(S(t,e)))}).attr("cy",function(t,e){return rt.utils.NaNtoZero(f(C(t,e)))}).attr("r",function(t,e){return Math.sqrt(A(M(t,e))/Math.PI)}),u.exit().remove(),d.exit().selectAll("path.nv-point").transition().attr("cx",function(t,e){return rt.utils.NaNtoZero(k(S(t,e)))}).attr("cy",function(t,e){return rt.utils.NaNtoZero(w(C(t,e)))}).remove(),u.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),u.transition().attr("cx",function(t,e){return rt.utils.NaNtoZero(k(S(t,e)))}).attr("cy",function(t,e){return rt.utils.NaNtoZero(w(C(t,e)))}).attr("r",function(t,e){return Math.sqrt(A(M(t,e))/Math.PI)})):((u=d.selectAll("path.nv-point").data(function(t){return t.values})).enter().append("path").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t,e){return"translate("+p(S(t,e))+","+f(C(t,e))+")"}).attr("d",d3.svg.symbol().type(D).size(function(t,e){return A(M(t,e))})),u.exit().remove(),d.exit().selectAll("path.nv-point").transition().attr("transform",function(t,e){return"translate("+k(S(t,e))+","+w(C(t,e))+")"}).remove(),u.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),u.transition().attr("transform",function(t,e){return"translate("+k(S(t,e))+","+w(C(t,e))+")"}).attr("d",d3.svg.symbol().type(D).size(function(t,e){return A(M(t,e))})));clearTimeout(g),g=setTimeout(function(){if(!N)return!1;var n=d3.merge(a.map(function(t,o){return t.values.map(function(t,e){var n=S(t,e),r=C(t,e);return[k(n)+1e-7*Math.random(),w(r)+1e-7*Math.random(),o,e,t]}).filter(function(t,e){return L(t[4],e)})}));if(!0===q){if(Y){l.select("defs").selectAll(".nv-point-clips").data([b]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+b);var t=l.select("#nv-points-clip-"+b).selectAll("circle").data(n);t.enter().append("circle").attr("r",R),t.exit().remove(),t.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),l.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+b+")")}n.length&&(n.push([k.range()[0]-20,w.range()[0]-20,null,null]),n.push([k.range()[1]+20,w.range()[1]+20,null,null]),n.push([k.range()[0]-20,w.range()[0]+20,null,null]),n.push([k.range()[1]+20,w.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,x+10],[m+10,x+10],[m+10,-10]]),e=d3.geom.voronoi(n).map(function(t,e){return{data:r.clip(t),series:n[e][2],point:n[e][3]}}),o=l.select(".nv-point-paths").selectAll("path").data(e);o.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),o.exit().remove(),o.attr("d",function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"});var i=function(t,e){if(j)return 0;var n=a[t.series];if(void 0!==n){var r=n.values[t.point];e({point:r,series:n,pos:[k(S(r,t.point))+v.left,w(C(r,t.point))+v.top],seriesIndex:t.series,pointIndex:t.point})}};o.on("click",function(t){i(t,K.elementClick)}).on("mouseover",function(t){i(t,K.elementMouseover)}).on("mouseout",function(t){i(t,K.elementMouseout)})}else l.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(j||!a[t.series])return 0;var n=a[t.series],r=n.values[e];K.elementClick({point:r,series:n,pos:[k(S(r,e))+v.left,w(C(r,e))+v.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(j||!a[t.series])return 0;var n=a[t.series],r=n.values[e];K.elementMouseover({point:r,series:n,pos:[k(S(r,e))+v.left,w(C(r,e))+v.top],seriesIndex:t.series,pointIndex:e})}).on("mouseout",function(t,e){if(j||!a[t.series])return 0;var n=a[t.series],r=n.values[e];K.elementMouseout({point:r,series:n,seriesIndex:t.series,pointIndex:e})});j=!1},300),p=k.copy(),f=w.copy(),h=A.copy()}),e}var p,f,h,g,v={top:0,right:0,bottom:0,left:0},m=960,x=500,y=rt.utils.defaultColor(),b=Math.floor(1e5*Math.random()),k=d3.scale.linear(),w=d3.scale.linear(),A=d3.scale.linear(),S=function(t){return t.x},C=function(t){return t.y},M=function(t){return t.size||1},D=function(t){return t.shape||"circle"},I=!0,W=[],z=[],F=[],N=!0,B=null,L=function(t){return!t.notActive},H=!1,P=.1,T=!1,Y=!0,R=function(){return 25},E=null,V=null,X=null,_=null,Z=null,G=null,O=!1,K=d3.dispatch("elementClick","elementMouseover","elementMouseout"),q=!0,j=!1;return e.clearHighlights=function(){d3.selectAll(".nv-chart-"+b+" .nv-point.hover").classed("hover",!1)},e.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+b+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)},K.on("elementMouseover.point",function(t){N&&e.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),K.on("elementMouseout.point",function(t){N&&e.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e.dispatch=K,e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(S=d3.functor(t),e):S},e.y=function(t){return arguments.length?(C=d3.functor(t),e):C},e.size=function(t){return arguments.length?(M=d3.functor(t),e):M},e.margin=function(t){return arguments.length?(v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left,e):v},e.width=function(t){return arguments.length?(m=t,e):m},e.height=function(t){return arguments.length?(x=t,e):x},e.xScale=function(t){return arguments.length?(k=t,e):k},e.yScale=function(t){return arguments.length?(w=t,e):w},e.zScale=function(t){return arguments.length?(A=t,e):A},e.xDomain=function(t){return arguments.length?(E=t,e):E},e.yDomain=function(t){return arguments.length?(V=t,e):V},e.sizeDomain=function(t){return arguments.length?(Z=t,e):Z},e.xRange=function(t){return arguments.length?(X=t,e):X},e.yRange=function(t){return arguments.length?(_=t,e):_},e.sizeRange=function(t){return arguments.length?(G=t,e):G},e.forceX=function(t){return arguments.length?(W=t,e):W},e.forceY=function(t){return arguments.length?(z=t,e):z},e.forceSize=function(t){return arguments.length?(F=t,e):F},e.interactive=function(t){return arguments.length?(N=t,e):N},e.pointKey=function(t){return arguments.length?(B=t,e):B},e.pointActive=function(t){return arguments.length?(L=t,e):L},e.padData=function(t){return arguments.length?(H=t,e):H},e.padDataOuter=function(t){return arguments.length?(P=t,e):P},e.clipEdge=function(t){return arguments.length?(T=t,e):T},e.clipVoronoi=function(t){return arguments.length?(Y=t,e):Y},e.useVoronoi=function(t){return arguments.length?(!1===(q=t)&&(Y=!1),e):q},e.clipRadius=function(t){return arguments.length?(R=t,e):R},e.color=function(t){return arguments.length?(y=rt.utils.getColor(t),e):y},e.shape=function(t){return arguments.length?(D=t,e):D},e.onlyCircles=function(t){return arguments.length?(I=t,e):I},e.id=function(t){return arguments.length?(b=t,e):b},e.singlePoint=function(t){return arguments.length?(O=t,e):O},e},rt.models.scatterChart=function(){"use strict";function f(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(w||parseInt(e.style("width"))||960)-k.left-k.right,i=(A||parseInt(e.style("height"))||400)-k.top-k.bottom;if(f.update=function(){e.transition().duration(_).call(f)},f.container=this,R.disabled=r.map(function(t){return!!t.disabled}),!E)for(t in E={},R)E[t]=R[t]instanceof Array?R[t].slice(0):R[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([X]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",k.left+o/2).attr("y",k.top+i/2).text(function(t){return t}),f}e.selectAll(".nv-noData").remove(),Z=Z||C,G=G||M;var l=e.selectAll("g.nv-wrap.nv-scatterChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+h.id()).append("g"),c=l.select("g");if(s.append("rect").attr("class","nvd3 nv-background"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-scatterWrap"),s.append("g").attr("class","nv-distWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),F){var u=H?o/2:o;m.width(u),l.select(".nv-legendWrap").datum(r).call(m),k.top!=m.height()&&(k.top=m.height(),i=(A||parseInt(e.style("height"))||400)-k.top-k.bottom),l.select(".nv-legendWrap").attr("transform","translate("+(o-u)+","+-k.top+")")}if(H&&(x.width(180).color(["#444"]),c.select(".nv-controlsWrap").datum(K).attr("transform","translate(0,"+-k.top+")").call(x)),l.attr("transform","translate("+k.left+","+k.top+")"),L&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),h.width(o).height(i).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),0!==D&&h.xDomain(null),0!==I&&h.yDomain(null),l.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(h),0!==D){var d=C.domain()[1]-C.domain()[0];h.xDomain([C.domain()[0]-D*d,C.domain()[1]+D*d])}if(0!==I){var p=M.domain()[1]-M.domain()[0];h.yDomain([M.domain()[0]-I*p,M.domain()[1]+I*p])}(0!==I||0!==D)&&l.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(h),N&&(g.scale(C).ticks(g.ticks()&&g.ticks().length?g.ticks():o/100).tickSize(-i,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")").call(g)),B&&(v.scale(M).ticks(v.ticks()&&v.ticks().length?v.ticks():i/36).tickSize(-o,0),c.select(".nv-y.nv-axis").call(v)),W&&(y.getData(h.x()).scale(C).width(o).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),c.select(".nv-distributionX").attr("transform","translate(0,"+M.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(y)),z&&(b.getData(h.y()).scale(M).width(i).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),c.select(".nv-distributionY").attr("transform","translate("+(L?o:-b.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(b)),d3.fisheye&&(c.select(".nv-background").attr("width",o).attr("height",i),c.select(".nv-background").on("mousemove",function(){if(T)return c.select(".nv-point-paths").style("pointer-events","all"),!1;c.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);C.distortion(P).focus(t[0]),M.distortion(P).focus(t[1]),c.select(".nv-scatterWrap").call(h),N&&c.select(".nv-x.nv-axis").call(g),B&&c.select(".nv-y.nv-axis").call(v),c.select(".nv-distributionX").datum(r.filter(function(t){return!t.disabled})).call(y),c.select(".nv-distributionY").datum(r.filter(function(t){return!t.disabled})).call(b)}),c.select(".nv-background").on("click",function(){T=!T}),h.dispatch.on("elementClick.freezeFisheye",function(){T=!T})),x.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,P=t.disabled?0:2.5,c.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),c.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(C.distortion(P).focus(0),M.distortion(P).focus(0),c.select(".nv-scatterWrap").call(h),c.select(".nv-x.nv-axis").call(g),c.select(".nv-y.nv-axis").call(v)):T=!1,f.update()}),m.dispatch.on("stateChange",function(t){R.disabled=t.disabled,V.stateChange(R),f.update()}),h.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",function(){return t.pos[1]-i}),d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+y.size()),t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],V.tooltipShow(t)}),V.on("tooltipShow",function(t){Y&&O(t,n.parentNode)}),V.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),R.disabled=n.disabled),f.update()}),Z=C.copy(),G=M.copy()}),f}var h=rt.models.scatter(),g=rt.models.axis(),v=rt.models.axis(),m=rt.models.legend(),x=rt.models.legend(),y=rt.models.distribution(),b=rt.models.distribution(),k={top:30,right:20,bottom:50,left:75},w=null,A=null,S=rt.utils.defaultColor(),C=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):h.xScale(),M=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):h.yScale(),D=0,I=0,W=!1,z=!1,F=!0,N=!0,B=!0,L=!1,H=!!d3.fisheye,P=0,T=!1,Y=!0,u=function(t,e){return"<strong>"+e+"</strong>"},d=function(t,e,n){return"<strong>"+n+"</strong>"},p=null,R={},E=null,V=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),X="No Data Available.",_=250;h.xScale(C).yScale(M),g.orient("bottom").tickPadding(10),v.orient(L?"right":"left").tickPadding(10),y.axis("x"),b.axis("y"),x.updateState(!1);var Z,G,O=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=t.pos[0]+(e.offsetLeft||0),i=M.range()[0]+k.top+(e.offsetTop||0),a=C.range()[0]+k.left+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=g.tickFormat()(h.x()(t.point,t.pointIndex)),c=v.tickFormat()(h.y()(t.point,t.pointIndex));null!=u&&rt.tooltip.show([o,i],u(t.series.key,s,c,t,f),"n",1,e,"x-nvtooltip"),null!=d&&rt.tooltip.show([a,l],d(t.series.key,s,c,t,f),"e",1,e,"y-nvtooltip"),null!=p&&rt.tooltip.show([n,r],p(t.series.key,s,c,t,f),t.value<0?"n":"s",null,e)},K=[{key:"Magnify",disabled:!0}];return h.dispatch.on("elementMouseout.tooltip",function(t){V.tooltipHide(t),d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+h.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",b.size())}),V.on("tooltipHide",function(){Y&&rt.tooltip.cleanup()}),f.dispatch=V,f.scatter=h,f.legend=m,f.controls=x,f.xAxis=g,f.yAxis=v,f.distX=y,f.distY=b,d3.rebind(f,h,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),f.options=rt.utils.optionsFunc.bind(f),f.margin=function(t){return arguments.length?(k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left,f):k},f.width=function(t){return arguments.length?(w=t,f):w},f.height=function(t){return arguments.length?(A=t,f):A},f.color=function(t){return arguments.length?(S=rt.utils.getColor(t),m.color(S),y.color(S),b.color(S),f):S},f.showDistX=function(t){return arguments.length?(W=t,f):W},f.showDistY=function(t){return arguments.length?(z=t,f):z},f.showControls=function(t){return arguments.length?(H=t,f):H},f.showLegend=function(t){return arguments.length?(F=t,f):F},f.showXAxis=function(t){return arguments.length?(N=t,f):N},f.showYAxis=function(t){return arguments.length?(B=t,f):B},f.rightAlignYAxis=function(t){return arguments.length?(L=t,v.orient(t?"right":"left"),f):L},f.fisheye=function(t){return arguments.length?(P=t,f):P},f.xPadding=function(t){return arguments.length?(D=t,f):D},f.yPadding=function(t){return arguments.length?(I=t,f):I},f.tooltips=function(t){return arguments.length?(Y=t,f):Y},f.tooltipContent=function(t){return arguments.length?(p=t,f):p},f.tooltipXContent=function(t){return arguments.length?(u=t,f):u},f.tooltipYContent=function(t){return arguments.length?(d=t,f):d},f.state=function(t){return arguments.length?(R=t,f):R},f.defaultState=function(t){return arguments.length?(E=t,f):E},f.noData=function(t){return arguments.length?(X=t,f):X},f.transitionDuration=function(t){return arguments.length?(_=t,f):_},f},rt.models.scatterPlusLineChart=function(){"use strict";function p(t){return t.each(function(r){var t,e=d3.select(this),n=this,o=(k||parseInt(e.style("width"))||960)-b.left-b.right,i=(w||parseInt(e.style("height"))||400)-b.top-b.bottom;if(p.update=function(){e.transition().duration(V).call(p)},p.container=this,T.disabled=r.map(function(t){return!!t.disabled}),!Y)for(t in Y={},T)Y[t]=T[t]instanceof Array?T[t].slice(0):T[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length)){var a=e.selectAll(".nv-noData").data([E]);return a.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),a.attr("x",b.left+o/2).attr("y",b.top+i/2).text(function(t){return t}),p}e.selectAll(".nv-noData").remove(),S=f.xScale(),C=f.yScale(),X=X||S,_=_||C;var l=e.selectAll("g.nv-wrap.nv-scatterChart").data([r]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+f.id()).append("g"),c=l.select("g");s.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-scatterWrap"),s.append("g").attr("class","nv-regressionLinesWrap"),s.append("g").attr("class","nv-distWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),l.attr("transform","translate("+b.left+","+b.top+")"),F&&c.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),I&&(v.width(o/2),l.select(".nv-legendWrap").datum(r).call(v),b.top!=v.height()&&(b.top=v.height(),i=(w||parseInt(e.style("height"))||400)-b.top-b.bottom),l.select(".nv-legendWrap").attr("transform","translate("+o/2+","+-b.top+")")),N&&(m.width(180).color(["#444"]),c.select(".nv-controlsWrap").datum(G).attr("transform","translate(0,"+-b.top+")").call(m)),f.width(o).height(i).color(r.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!r[e].disabled})),l.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(f),l.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+f.id()+")");var u=l.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});u.enter().append("g").attr("class","nv-regLines");var d=u.selectAll(".nv-regLine").data(function(t){return[t]});d.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),d.transition().attr("x1",S.range()[0]).attr("x2",S.range()[1]).attr("y1",function(t){return C(S.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return C(S.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return A(t,n)}).style("stroke-opacity",function(t){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),W&&(h.scale(S).ticks(h.ticks()?h.ticks():o/100).tickSize(-i,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+C.range()[0]+")").call(h)),z&&(g.scale(C).ticks(g.ticks()?g.ticks():i/36).tickSize(-o,0),c.select(".nv-y.nv-axis").call(g)),M&&(x.getData(f.x()).scale(S).width(o).color(r.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),c.select(".nv-distributionX").attr("transform","translate(0,"+C.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(x)),D&&(y.getData(f.y()).scale(C).width(i).color(r.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),c.select(".nv-distributionY").attr("transform","translate("+(F?o:-y.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(y)),d3.fisheye&&(c.select(".nv-background").attr("width",o).attr("height",i),c.select(".nv-background").on("mousemove",function(){if(L)return c.select(".nv-point-paths").style("pointer-events","all"),!1;c.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);S.distortion(B).focus(t[0]),C.distortion(B).focus(t[1]),c.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(f),W&&c.select(".nv-x.nv-axis").call(h),z&&c.select(".nv-y.nv-axis").call(g),c.select(".nv-distributionX").datum(r.filter(function(t){return!t.disabled})).call(x),c.select(".nv-distributionY").datum(r.filter(function(t){return!t.disabled})).call(y)}),c.select(".nv-background").on("click",function(){L=!L}),f.dispatch.on("elementClick.freezeFisheye",function(){L=!L})),m.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,B=t.disabled?0:2.5,c.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),c.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(S.distortion(B).focus(0),C.distortion(B).focus(0),c.select(".nv-scatterWrap").call(f),c.select(".nv-x.nv-axis").call(h),c.select(".nv-y.nv-axis").call(g)):L=!1,p.update()}),v.dispatch.on("stateChange",function(t){T=t,R.stateChange(T),p.update()}),f.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+f.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-i),d3.select(".nv-chart-"+f.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+x.size()),t.pos=[t.pos[0]+b.left,t.pos[1]+b.top],R.tooltipShow(t)}),R.on("tooltipShow",function(t){H&&Z(t,n.parentNode)}),R.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),T.disabled=n.disabled),p.update()}),X=S.copy(),_=C.copy()}),p}var f=rt.models.scatter(),h=rt.models.axis(),g=rt.models.axis(),v=rt.models.legend(),m=rt.models.legend(),x=rt.models.distribution(),y=rt.models.distribution(),b={top:30,right:20,bottom:50,left:75},k=null,w=null,A=rt.utils.defaultColor(),S=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):f.xScale(),C=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):f.yScale(),M=!1,D=!1,I=!0,W=!0,z=!0,F=!1,N=!!d3.fisheye,B=0,L=!1,H=!0,u=function(t,e){return"<strong>"+e+"</strong>"},d=function(t,e,n){return"<strong>"+n+"</strong>"},P=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+r+"</p>"},T={},Y=null,R=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),E="No Data Available.",V=250;f.xScale(S).yScale(C),h.orient("bottom").tickPadding(10),g.orient(F?"right":"left").tickPadding(10),x.axis("x"),y.axis("y"),m.updateState(!1);var X,_,Z=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=t.pos[0]+(e.offsetLeft||0),i=C.range()[0]+b.top+(e.offsetTop||0),a=S.range()[0]+b.left+(e.offsetLeft||0),l=t.pos[1]+(e.offsetTop||0),s=h.tickFormat()(f.x()(t.point,t.pointIndex)),c=g.tickFormat()(f.y()(t.point,t.pointIndex));null!=u&&rt.tooltip.show([o,i],u(t.series.key,s,c,t,p),"n",1,e,"x-nvtooltip"),null!=d&&rt.tooltip.show([a,l],d(t.series.key,s,c,t,p),"e",1,e,"y-nvtooltip"),null!=P&&rt.tooltip.show([n,r],P(t.series.key,s,c,t.point.tooltip,t,p),t.value<0?"n":"s",null,e)},G=[{key:"Magnify",disabled:!0}];return f.dispatch.on("elementMouseout.tooltip",function(t){R.tooltipHide(t),d3.select(".nv-chart-"+f.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+f.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",y.size())}),R.on("tooltipHide",function(){H&&rt.tooltip.cleanup()}),p.dispatch=R,p.scatter=f,p.legend=v,p.controls=m,p.xAxis=h,p.yAxis=g,p.distX=x,p.distY=y,d3.rebind(p,f,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),p.options=rt.utils.optionsFunc.bind(p),p.margin=function(t){return arguments.length?(b.top=void 0!==t.top?t.top:b.top,b.right=void 0!==t.right?t.right:b.right,b.bottom=void 0!==t.bottom?t.bottom:b.bottom,b.left=void 0!==t.left?t.left:b.left,p):b},p.width=function(t){return arguments.length?(k=t,p):k},p.height=function(t){return arguments.length?(w=t,p):w},p.color=function(t){return arguments.length?(A=rt.utils.getColor(t),v.color(A),x.color(A),y.color(A),p):A},p.showDistX=function(t){return arguments.length?(M=t,p):M},p.showDistY=function(t){return arguments.length?(D=t,p):D},p.showControls=function(t){return arguments.length?(N=t,p):N},p.showLegend=function(t){return arguments.length?(I=t,p):I},p.showXAxis=function(t){return arguments.length?(W=t,p):W},p.showYAxis=function(t){return arguments.length?(z=t,p):z},p.rightAlignYAxis=function(t){return arguments.length?(F=t,g.orient(t?"right":"left"),p):F},p.fisheye=function(t){return arguments.length?(B=t,p):B},p.tooltips=function(t){return arguments.length?(H=t,p):H},p.tooltipContent=function(t){return arguments.length?(P=t,p):P},p.tooltipXContent=function(t){return arguments.length?(u=t,p):u},p.tooltipYContent=function(t){return arguments.length?(d=t,p):d},p.state=function(t){return arguments.length?(T=t,p):T},p.defaultState=function(t){return arguments.length?(Y=t,p):Y},p.noData=function(t){return arguments.length?(E=t,p):E},p.transitionDuration=function(t){return arguments.length?(V=t,p):V},p},rt.models.sparkline=function(){"use strict";function e(t){return t.each(function(t){var e=p-d.left-d.right,n=f-d.top-d.bottom,r=d3.select(this);h.domain(l||d3.extent(t,v)).range(c||[0,e]),g.domain(s||d3.extent(t,m)).range(u||[n,0]);var o=r.selectAll("g.nv-wrap.nv-sparkline").data([t]);o.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),o.select("g"),o.attr("transform","translate("+d.left+","+d.top+")");var i=o.selectAll("path").data(function(t){return[t]});i.enter().append("path"),i.exit().remove(),i.style("stroke",function(t,e){return t.color||x(t,e)}).attr("d",d3.svg.line().x(function(t,e){return h(v(t,e))}).y(function(t,e){return g(m(t,e))}));var a=o.selectAll("circle.nv-point").data(function(n){function t(t){if(-1==t)return null;var e=n[t];return e.pointIndex=t,e}var e=n.map(function(t,e){return m(t,e)}),r=t(e.lastIndexOf(g.domain()[1]));return[t(e.indexOf(g.domain()[0])),r,t(e.length-1)].filter(function(t){return null!=t})});a.enter().append("circle"),a.exit().remove(),a.attr("cx",function(t){return h(v(t,t.pointIndex))}).attr("cy",function(t){return g(m(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return v(t,t.pointIndex)==h.domain()[1]?"nv-point nv-currentValue":m(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var l,s,c,u,d={top:2,right:0,bottom:2,left:0},p=400,f=32,n=!0,h=d3.scale.linear(),g=d3.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},x=rt.utils.getColor(["#000"]);return e.options=rt.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left,e):d},e.width=function(t){return arguments.length?(p=t,e):p},e.height=function(t){return arguments.length?(f=t,e):f},e.x=function(t){return arguments.length?(v=d3.functor(t),e):v},e.y=function(t){return arguments.length?(m=d3.functor(t),e):m},e.xScale=function(t){return arguments.length?(h=t,e):h},e.yScale=function(t){return arguments.length?(g=t,e):g},e.xDomain=function(t){return arguments.length?(l=t,e):l},e.yDomain=function(t){return arguments.length?(s=t,e):s},e.xRange=function(t){return arguments.length?(c=t,e):c},e.yRange=function(t){return arguments.length?(u=t,e):u},e.animate=function(t){return arguments.length?(n=t,e):n},e.color=function(t){return arguments.length?(x=rt.utils.getColor(t),e):x},e},rt.models.sparklinePlus=function(){"use strict";function f(p){return p.each(function(n){function e(){if(!k){var t=c.selectAll(".nv-hoverValue").data(b),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+h(v.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),b.length&&(e.append("line").attr("x1",0).attr("y1",-m.top).attr("x2",0).attr("y2",o),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-m.top).attr("text-anchor","end").attr("dy",".9em"),c.select(".nv-hoverValue .nv-xValue").text(w(v.x()(n[b[0]],b[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-m.top).attr("text-anchor","start").attr("dy",".9em"),c.select(".nv-hoverValue .nv-yValue").text(A(v.y()(n[b[0]],b[0]))))}}var t=d3.select(this),r=(x||parseInt(t.style("width"))||960)-m.left-m.right,o=(y||parseInt(t.style("height"))||400)-m.top-m.bottom;if(f.update=function(){f(p)},f.container=this,!n||!n.length){var i=t.selectAll(".nv-noData").data([M]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",m.left+r/2).attr("y",m.top+o/2).text(function(t){return t}),f}t.selectAll(".nv-noData").remove();var a=v.y()(n[n.length-1],n.length-1);h=v.xScale(),g=v.yScale();var l=t.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),s=l.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),c=l.select("g");s.append("g").attr("class","nv-sparklineWrap"),s.append("g").attr("class","nv-valueWrap"),s.append("g").attr("class","nv-hoverArea"),l.attr("transform","translate("+m.left+","+m.top+")");var u=c.select(".nv-sparklineWrap");v.width(r).height(o),u.call(v);var d=c.select(".nv-valueWrap").selectAll(".nv-currentValue").data([a]);d.enter().append("text").attr("class","nv-currentValue").attr("dx",C?-8:8).attr("dy",".9em").style("text-anchor",C?"end":"start"),d.attr("x",r+(C?m.right:0)).attr("y",S?function(t){return g(t)}:0).style("fill",v.color()(n[n.length-1],n.length-1)).text(A(a)),s.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!k){var t=d3.mouse(this)[0]-m.left;b=[function(t,e){for(var n=Math.abs(v.x()(t[0],0)-e),r=0,o=0;o<t.length;o++)Math.abs(v.x()(t[o],o)-e)<n&&(n=Math.abs(v.x()(t[o],o)-e),r=o);return r}(n,Math.round(h.invert(t)))],e()}}).on("click",function(){k=!k}).on("mouseout",function(){b=[],e()}),c.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-m.left+","+-m.top+")"}).attr("width",r+m.left+m.right).attr("height",o+m.top)}),f}var h,g,v=rt.models.sparkline(),m={top:15,right:100,bottom:10,left:50},x=null,y=null,b=[],k=!1,w=d3.format(",r"),A=d3.format(",.2f"),e=!0,S=!0,C=!1,M="No Data Available.";return f.sparkline=v,d3.rebind(f,v,"x","y","xScale","yScale","color"),f.options=rt.utils.optionsFunc.bind(f),f.margin=function(t){return arguments.length?(m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left,f):m},f.width=function(t){return arguments.length?(x=t,f):x},f.height=function(t){return arguments.length?(y=t,f):y},f.xTickFormat=function(t){return arguments.length?(w=t,f):w},f.yTickFormat=function(t){return arguments.length?(A=t,f):A},f.showValue=function(t){return arguments.length?(e=t,f):e},f.alignValue=function(t){return arguments.length?(S=t,f):S},f.rightAlignValue=function(t){return arguments.length?(C=t,f):C},f.noData=function(t){return arguments.length?(M=t,f):M},f},rt.models.stackedArea=function(){"use strict";function e(t){return t.each(function(t){var e=v-g.left-g.right,n=m-g.top-g.bottom,r=d3.select(this);f=M.xScale(),h=M.yScale();var o=(t=t.map(function(t,n){return t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t}),t})).filter(function(t){return!t.disabled});t=d3.layout.stack().order(A).offset(w).values(function(t){return t.values}).x(b).y(k).out(function(t,e,n){var r=0===k(t)?0:n;t.display={y:r,y0:e}})(o);var i=r.selectAll("g.nv-wrap.nv-stackedarea").data([t]),a=i.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),l=a.append("defs"),s=a.append("g"),c=i.select("g");s.append("g").attr("class","nv-areaWrap"),s.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+g.left+","+g.top+")"),M.width(e).height(n).x(b).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(t.map(function(t){return t.color||x(t,t.seriesIndex)})),c.select(".nv-scatterWrap").datum(t).call(M),l.append("clipPath").attr("id","nv-edge-clip-"+y).append("rect"),i.select("#nv-edge-clip-"+y+" rect").attr("width",e).attr("height",n),c.attr("clip-path",C?"url(#nv-edge-clip-"+y+")":"");var u=d3.svg.area().x(function(t,e){return f(b(t,e))}).y0(function(t){return h(t.display.y0)}).y1(function(t){return h(t.display.y+t.display.y0)}).interpolate(S),d=d3.svg.area().x(function(t,e){return f(b(t,e))}).y0(function(t){return h(t.display.y0)}).y1(function(t){return h(t.display.y0)}),p=c.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});p.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t){return d(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),D.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),D.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})}).on("click",function(t,e){d3.select(this).classed("hover",!1),D.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})}),p.exit().transition().attr("d",function(t,e){return d(t.values,e)}).remove(),p.style("fill",function(t){return t.color||x(t,t.seriesIndex)}).style("stroke",function(t){return t.color||x(t,t.seriesIndex)}),p.transition().attr("d",function(t,e){return u(t.values,e)}),M.dispatch.on("elementMouseover.area",function(t){c.select(".nv-chart-"+y+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),M.dispatch.on("elementMouseout.area",function(t){c.select(".nv-chart-"+y+" .nv-area-"+t.seriesIndex).classed("hover",!1)})}),e}var f,h,g={top:0,right:0,bottom:0,left:0},v=960,m=500,x=rt.utils.defaultColor(),y=Math.floor(1e5*Math.random()),b=function(t){return t.x},k=function(t){return t.y},n="stack",w="zero",A="default",S="linear",C=!1,M=rt.models.scatter(),D=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return M.size(2.2).sizeDomain([2.2,2.2]),M.dispatch.on("elementClick.area",function(t){D.areaClick(t)}),M.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+g.left,t.pos[1]+g.top],D.tooltipShow(t)}),M.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),e.dispatch=D,e.scatter=M,d3.rebind(e,M,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),e.options=rt.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(b=d3.functor(t),e):b},e.y=function(t){return arguments.length?(k=d3.functor(t),e):k},e.margin=function(t){return arguments.length?(g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left,e):g},e.width=function(t){return arguments.length?(v=t,e):v},e.height=function(t){return arguments.length?(m=t,e):m},e.clipEdge=function(t){return arguments.length?(C=t,e):C},e.color=function(t){return arguments.length?(x=rt.utils.getColor(t),e):x},e.offset=function(t){return arguments.length?(w=t,e):w},e.order=function(t){return arguments.length?(A=t,e):A},e.style=function(t){if(!arguments.length)return n;switch(n=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default")}return e},e.interpolate=function(t){return arguments.length?(S=t,e):S},e},rt.models.stackedAreaChart=function(){"use strict";function p(t){return t.each(function(e){var t,n=d3.select(this),c=this,r=(w||parseInt(n.style("width"))||960)-k.left-k.right,o=(A||parseInt(n.style("height"))||400)-k.top-k.bottom;if(p.update=function(){n.transition().duration(R).call(p)},p.container=this,B.disabled=e.map(function(t){return!!t.disabled}),!L)for(t in L={},B)L[t]=B[t]instanceof Array?B[t].slice(0):B[t];if(!(e&&e.length&&e.filter(function(t){return t.values.length}).length)){var i=n.selectAll(".nv-noData").data([H]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",k.left+r/2).attr("y",k.top+o/2).text(function(t){return t}),p}n.selectAll(".nv-noData").remove(),f=g.xScale(),h=g.yScale();var a=n.selectAll("g.nv-wrap.nv-stackedAreaChart").data([e]),l=a.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),s=a.select("g");if(l.append("rect").style("opacity",0),l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-stackedWrap"),l.append("g").attr("class","nv-legendWrap"),l.append("g").attr("class","nv-controlsWrap"),l.append("g").attr("class","nv-interactive"),s.select("rect").attr("width",r).attr("height",o),M){var u=C?r-T:r;x.width(u),s.select(".nv-legendWrap").datum(e).call(x),k.top!=x.height()&&(k.top=x.height(),o=(A||parseInt(n.style("height"))||400)-k.top-k.bottom),s.select(".nv-legendWrap").attr("transform","translate("+(r-u)+","+-k.top+")")}if(C){var d=[{key:"Stacked",disabled:"zero"!=g.offset()},{key:"Stream",disabled:"wiggle"!=g.offset()},{key:"Expanded",disabled:"expand"!=g.offset()}];T=Y.length/3*260,d=d.filter(function(t){return-1<Y.indexOf(t.key)}),y.width(T).color(["#444","#444","#444"]),s.select(".nv-controlsWrap").datum(d).call(y),k.top!=Math.max(y.height(),x.height())&&(k.top=Math.max(y.height(),x.height()),o=(A||parseInt(n.style("height"))||400)-k.top-k.bottom),s.select(".nv-controlsWrap").attr("transform","translate(0,"+-k.top+")")}a.attr("transform","translate("+k.left+","+k.top+")"),W&&s.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),z&&(b.width(r).height(o).margin({left:k.left,top:k.top}).svgContainer(n).xScale(f),a.select(".nv-interactive").call(b)),g.width(r).height(o),s.select(".nv-stackedWrap").datum(e).transition().call(g),D&&(v.scale(f).ticks(r/100).tickSize(-o,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+o+")"),s.select(".nv-x.nv-axis").transition().duration(0).call(v)),I&&(m.scale(h).ticks("wiggle"==g.offset()?0:o/36).tickSize(-r,0).setTickFormat("expand"==g.offset()?d3.format("%"):N),s.select(".nv-y.nv-axis").transition().duration(0).call(m)),g.dispatch.on("areaClick.toggle",function(n){e=e.map(1===e.filter(function(t){return!t.disabled}).length?function(t){return t.disabled=!1,t}:function(t,e){return t.disabled=e!=n.seriesIndex,t}),B.disabled=e.map(function(t){return!!t.disabled}),P.stateChange(B),p.update()}),x.dispatch.on("stateChange",function(t){B.disabled=t.disabled,P.stateChange(B),p.update()}),y.dispatch.on("legendClick",function(t){if(t.disabled){switch(d=d.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Stacked":g.style("stack");break;case"Stream":g.style("stream");break;case"Expanded":g.style("expand")}B.style=g.style(),P.stateChange(B),p.update()}}),b.dispatch.on("elementMousemove",function(r){g.clearHighlights();var o,i,a,l=[];if(e.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){i=rt.interactiveBisect(t.values,r.pointXValue,p.x()),g.highlightPoint(e,i,!0);var n=t.values[i];void 0!==n&&(void 0===o&&(o=n),void 0===a&&(a=p.xScale()(p.x()(n,i))),l.push({key:t.key,value:p.y()(n,i),color:S(t,t.seriesIndex),stackedValue:n.display}))}),l.reverse(),2<l.length){var n=p.yScale().invert(r.mouseY),s=null;l.forEach(function(t,e){return n>=t.stackedValue.y0&&n<=t.stackedValue.y0+t.stackedValue.y?void(s=e):void 0}),null!=s&&(l[s].highlight=!0)}var t=v.tickFormat()(p.x()(o,i));b.tooltip.position({left:a+k.left,top:r.mouseY+k.top}).chartContainer(c.parentNode).enabled(F).valueFormatter(function(t){return m.tickFormat()(t)}).data({value:t,series:l})(),b.renderGuideLine(a)}),b.dispatch.on("elementMouseout",function(){P.tooltipHide(),g.clearHighlights()}),P.on("tooltipShow",function(t){F&&E(t,c.parentNode)}),P.on("changeState",function(n){void 0!==n.disabled&&(e.forEach(function(t,e){t.disabled=n.disabled[e]}),B.disabled=n.disabled),void 0!==n.style&&g.style(n.style),p.update()})}),p}var f,h,g=rt.models.stackedArea(),v=rt.models.axis(),m=rt.models.axis(),x=rt.models.legend(),y=rt.models.legend(),b=rt.interactiveGuideline(),k={top:30,right:25,bottom:50,left:60},w=null,A=null,S=rt.utils.defaultColor(),C=!0,M=!0,D=!0,I=!0,W=!1,z=!1,F=!0,l=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},N=d3.format(",.2f"),B={style:g.style()},L=null,H="No Data Available.",P=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),T=250,Y=["Stacked","Stream","Expanded"],R=250;v.orient("bottom").tickPadding(7),m.orient(W?"right":"left"),y.updateState(!1);var E=function(t,e){var n=t.pos[0]+(e.offsetLeft||0),r=t.pos[1]+(e.offsetTop||0),o=v.tickFormat()(g.x()(t.point,t.pointIndex)),i=m.tickFormat()(g.y()(t.point,t.pointIndex)),a=l(t.series.key,o,i,t,p);rt.tooltip.show([n,r],a,t.value<0?"n":"s",null,e)};return g.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],P.tooltipShow(t)}),g.dispatch.on("tooltipHide",function(t){P.tooltipHide(t)}),P.on("tooltipHide",function(){F&&rt.tooltip.cleanup()}),p.dispatch=P,p.stacked=g,p.legend=x,p.controls=y,p.xAxis=v,p.yAxis=m,p.interactiveLayer=b,d3.rebind(p,g,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),p.options=rt.utils.optionsFunc.bind(p),p.margin=function(t){return arguments.length?(k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left,p):k},p.width=function(t){return arguments.length?(w=t,p):w},p.height=function(t){return arguments.length?(A=t,p):A},p.color=function(t){return arguments.length?(S=rt.utils.getColor(t),x.color(S),g.color(S),p):S},p.showControls=function(t){return arguments.length?(C=t,p):C},p.showLegend=function(t){return arguments.length?(M=t,p):M},p.showXAxis=function(t){return arguments.length?(D=t,p):D},p.showYAxis=function(t){return arguments.length?(I=t,p):I},p.rightAlignYAxis=function(t){return arguments.length?(W=t,m.orient(t?"right":"left"),p):W},p.useInteractiveGuideline=function(t){return arguments.length?(!0===(z=t)&&(p.interactive(!1),p.useVoronoi(!1)),p):z},p.tooltip=function(t){return arguments.length?(l=t,p):l},p.tooltips=function(t){return arguments.length?(F=t,p):F},p.tooltipContent=function(t){return arguments.length?(l=t,p):l},p.state=function(t){return arguments.length?(B=t,p):B},p.defaultState=function(t){return arguments.length?(L=t,p):L},p.noData=function(t){return arguments.length?(H=t,p):H},p.transitionDuration=function(t){return arguments.length?(R=t,p):R},p.controlsData=function(t){return arguments.length?(Y=t,p):Y},m.setTickFormat=m.tickFormat,m.tickFormat=function(t){return arguments.length?(N=t,m):N},p}}();