window.ParsleyExtend=window.ParsleyExtend||{},window.ParsleyExtend=$.extend(window.ParsleyExtend,{asyncSupport:!0,asyncValidators:$.extend({default:{fn:function(t){return"resolved"===t.state()},url:!1},reverse:{fn:function(t){return"rejected"===t.state()},url:!1}},window.ParsleyExtend.asyncValidators),addAsyncValidator:function(t,e,i){return this.asyncValidators[t.toLowerCase()]={fn:e,url:i||!1},this},asyncValidate:function(){return"ParsleyForm"===this.__class__?this._asyncValidateForm.apply(this,arguments):this._asyncValidateField.apply(this,arguments)},asyncIsValid:function(){return"ParsleyField"===this.__class__?this._asyncIsValidField.apply(this,arguments):this._asyncIsValidForm.apply(this,arguments)},onSubmitValidate:function(t){var e=this;if(!0!==t.parsley)return this.submitEvent=$.extend(!0,{},t),t instanceof $.Event&&(t.stopImmediatePropagation(),t.preventDefault()),this._asyncValidateForm(void 0,t).done(function(){e.submitEvent.isDefaultPrevented()||e.$element.trigger($.extend($.Event("submit"),{parsley:!0}))})},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.asyncValidate())},_asyncValidateForm:function(t,e){var i=this,s=[];this._refreshFields(),$.emit("parsley:form:validate",this);for(var n=0;n<this.fields.length;n++)t&&t!==this.fields[n].options.group||s.push(this.fields[n]._asyncValidateField());return $.when.apply($,s).always(function(){$.emit("parsley:form:validated",i)})},_asyncIsValidForm:function(t,e){var i=[];this._refreshFields();for(var s=0;s<this.fields.length;s++)t&&t!==this.fields[s].options.group||i.push(this.fields[s]._asyncIsValidField(e));return $.when.apply($,i)},_asyncValidateField:function(t){var e=this;return $.emit("parsley:field:validate",this),this._asyncIsValidField(t).done(function(){$.emit("parsley:field:success",e)}).fail(function(){$.emit("parsley:field:error",e)}).always(function(){$.emit("parsley:field:validated",e)})},_asyncIsValidField:function(t,e){var i=$.Deferred();return!1===this.isValid(t,e)?i.rejectWith(this):void 0!==this.constraintsByName.remote?this._remote(i):i.resolveWith(this),i.promise()},_remote:function(s){var t,e,n=this,i={},r=this.options.remoteValidator||Ã‚(!0===this.options.remoteReverse?"reverse":"default");if(r=r.toLowerCase(),void 0===this.asyncValidators[r])throw new Error("Calling an undefined async validator: `"+r+"`");i[this.$element.attr("name")||this.$element.attr("id")]=this.getValue(),t=$.extend(!0,{},{url:this.asyncValidators[r].url||this.options.remote,data:i,type:"GET"},this.options.remoteOptions||{}),e=$.param(t),void 0===this._remoteCache&&(this._remoteCache={}),this._remoteCache[e]||(this._xhr&&"pending"===this._xhr.state()&&this._xhr.abort(),this._xhr=$.ajax(t),this._remoteCache[e]=this._xhr),this._remoteCache[e].done(function(t,e,i){n._handleRemoteResult(r,i,s)}).fail(function(t,e,i){"abort"!==e&&n._handleRemoteResult(r,t,s)})},_handleRemoteResult:function(t,e,i){"function"==typeof this.asyncValidators[t].fn&&this.asyncValidators[t].fn(e)?i.resolveWith(this):(this.validationResult=[new window.ParsleyValidator.Validator.Violation(this.constraintsByName.remote,this.getValue(),null)],i.rejectWith(this))}}),window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.validators=window.ParsleyConfig.validators||{},window.ParsleyConfig.validators.remote={fn:function(){return!0},priority:-1},function(o){var l={attr:function(t,e,i){var s,n={},r=new RegExp("^"+e,"i");if(void 0===t||void 0===t[0])return{};for(var a in t[0].attributes)if(null!=(s=t[0].attributes[a])&&s.specified&&r.test(s.name)){if(void 0!==i&&new RegExp(i+"$","i").test(s.name))return!0;n[this.camelize(s.name.replace(e,""))]=this.deserializeValue(s.value)}return void 0===i&&n},setAttr:function(t,e,i,s){t[0].setAttribute(this.dasherize(e+i),String(s))},get:function(t,e){for(var i=0,s=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[s[i++]],i===s.length)return t},hash:function(t){return String(Math.random()).substring(2,t?t+2:9)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t===Object(t)},deserializeValue:function(e){var t;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?o.parseJSON(e):e:t):e}catch(t){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}},n={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(t){},errorsContainer:function(t){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},r=function(){};r.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(t,e,i){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[t,e,i])},subscribe:function(t,e){return o.listenTo(this,t.toLowerCase(),e),this},unsubscribe:function(t){return o.unsubscribeTo(this,t.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return o.emit("parsley:field:reset",this);for(var t=0;t<this.fields.length;t++)o.emit("parsley:field:reset",this.fields[t]);o.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void o.emit("parsley:field:destroy",this);for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),o.emit("parsley:form:destroy",this)}},function(t){var l=function(t){return this.__class__="Validator",this.__version__="0.5.8",this.options=t||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint",this};l.prototype={constructor:l,validate:function(t,e,i){if("string"!=typeof t&&"object"!=typeof t)throw new Error("You must validate an object or a string");return"string"==typeof t||d(t)?this._validateString(t,e,i):this.isBinded(t)?this._validateBindedObject(t,e):this._validateObject(t,e,i)},bind:function(t,e){if("object"!=typeof t)throw new Error("Must bind a Constraint to an object");return t[this.bindingKey]=new s(e),this},unbind:function(t){return void 0===t._validatorjsConstraint||delete t[this.bindingKey],this},isBinded:function(t){return void 0!==t[this.bindingKey]},getBinded:function(t){return this.isBinded(t)?t[this.bindingKey]:null},_validateString:function(t,e,i){var s,n=[];d(e)||(e=[e]);for(var r=0;r<e.length;r++){if(!(e[r]instanceof a))throw new Error("You must give an Assert or an Asserts array to validate a string");(s=e[r].check(t,i))instanceof h&&n.push(s)}return!n.length||n},_validateObject:function(t,e,i){if("object"!=typeof e)throw new Error("You must give a constraint to validate an object");return e instanceof s?e.check(t,i):new s(e).check(t,i)},_validateBindedObject:function(t,e){return t[this.bindingKey].check(t,e)}},l.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var s=function(e,t){if(this.__class__="Constraint",this.options=t||{},this.nodes={},e)try{this._bootstrap(e)}catch(t){throw new Error("Should give a valid mapping object to Constraint",t,e)}return this};s.prototype={constructor:s,check:function(t,e){var i,s={};for(var n in this.options.strict?this.nodes:t)if(this.options.strict?this.has(n,t):this.has(n))i=this._check(n,t[n],e),(d(i)&&0<i.length||!d(i)&&!u(i))&&(s[n]=i);else if(this.options.strict)try{(new a).HaveProperty(n).validate(t)}catch(t){s[n]=t}return!!u(s)||s},add:function(t,e){if(e instanceof a||d(e)&&e[0]instanceof a)return this.nodes[t]=e,this;if("object"==typeof e&&!d(e))return this.nodes[t]=e instanceof s?e:new s(e),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",e)},has:function(t,e){return void 0!==(e=void 0!==e?e:this.nodes)[t]},get:function(t,e){return this.has(t)?this.nodes[t]:e||null},remove:function(t){var e=[];for(var i in this.nodes)i!==t&&(e[i]=this.nodes[i]);return this.nodes=e,this},_bootstrap:function(t){if(t instanceof s)return this.nodes=t.nodes;for(var e in t)this.add(e,t[e])},_check:function(t,e,i){if(this.nodes[t]instanceof a)return this._checkAsserts(e,[this.nodes[t]],i);if(d(this.nodes[t]))return this._checkAsserts(e,this.nodes[t],i);if(this.nodes[t]instanceof s)return this.nodes[t].check(e,i);throw new Error("Invalid node",this.nodes[t])},_checkAsserts:function(t,e,i){for(var s,n=[],r=0;r<e.length;r++)void 0!==(s=e[r].check(t,i))&&!0!==s&&n.push(s);return n}};var h=function(t,e,i){if(this.__class__="Violation",!(t instanceof a))throw new Error("Should give an assertion implementing the Assert interface");this.assert=t,this.value=e,void 0!==i&&(this.violation=i)};h.prototype={show:function(){var t={assert:this.assert.__class__,value:this.value};return this.violation&&(t.violation=this.violation),t},__toString:function(){return void 0!==this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var t,e;for(t in this.violation)e=this.violation[t];return{constraint:t,expected:e}}};var a=function(t){return this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],void 0!==t&&this.addGroup(t),this};a.prototype={construct:a,check:function(t,e){if((!e||this.hasGroup(e))&&(e||!this.hasGroups()))try{return this.validate(t,e)}catch(t){return t}},hasGroup:function(t){return d(t)?this.hasOneOf(t):"Any"===t||(this.hasGroups()?-1!==this.groups.indexOf(t):"Default"===t)},hasOneOf:function(t){for(var e=0;e<t.length;e++)if(this.hasGroup(t[e]))return!0;return!1},hasGroups:function(){return 0<this.groups.length},addGroup:function(t){return d(t)?this.addGroups(t):(this.hasGroup(t)||this.groups.push(t),this)},removeGroup:function(t){for(var e=[],i=0;i<this.groups.length;i++)t!==this.groups[i]&&e.push(this.groups[i]);return this.groups=e,this},addGroups:function(t){for(var e=0;e<t.length;e++)this.addGroup(t[e]);return this},HaveProperty:function(t){return this.__class__="HaveProperty",this.node=t,this.validate=function(t){if(void 0===t[this.node])throw new h(this,t,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(t){if("string"!=typeof t)throw new h(this,t,{value:l.errorCode.must_be_a_string});if(""!==t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new h(this,t);return!0},this},Callback:function(t){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof t)throw new Error("Callback must be instanciated with a function");return this.fn=t,this.validate=function(t){var e=this.fn.apply(this,[t].concat(this.arguments));if(!0!==e)throw new h(this,t,{result:e});return!0},this},Choice:function(t){if(this.__class__="Choice",!d(t)&&"function"!=typeof t)throw new Error("Choice must be instanciated with an array or a function");return this.list=t,this.validate=function(t){for(var e="function"==typeof this.list?this.list():this.list,i=0;i<e.length;i++)if(t===e[i])return!0;throw new h(this,t,{choices:e})},this},Collection:function(t){return this.__class__="Collection",this.constraint=void 0!==t&&new s(t),this.validate=function(t,e){var i,s=new l,n=0,r={},a=this.groups.length?this.groups:e;if(!d(t))throw new h(this,array,{value:l.errorCode.must_be_an_array});for(var o=0;o<t.length;o++)i=this.constraint?s.validate(t[o],this.constraint,a):s.validate(t[o],a),u(i)||(r[n]=i),n++;return!!u(r)||r},this},Count:function(t){return this.__class__="Count",this.count=t,this.validate=function(t){if(!d(t))throw new h(this,t,{value:l.errorCode.must_be_an_array});var e="function"==typeof this.count?this.count(t):this.count;if(isNaN(Number(e)))throw new Error("Count must be a valid interger",e);if(e!==t.length)throw new h(this,t,{count:e});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(t){if("string"!=typeof t)throw new h(this,t,{value:l.errorCode.must_be_a_string});if(!/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t))throw new h(this,t);return!0},this},Eql:function(t){if(this.__class__="Eql",void 0===t)throw new Error("Equal must be instanciated with an Array or an Object");return this.eql=t,this.validate=function(t){var e="function"==typeof this.eql?this.eql(t):this.eql;if(!i.eql(e,t))throw new h(this,t,{eql:e});return!0},this},EqualTo:function(t){if(this.__class__="EqualTo",void 0===t)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=t,this.validate=function(t){var e="function"==typeof this.reference?this.reference(t):this.reference;if(e!==t)throw new h(this,t,{value:e});return!0},this},GreaterThan:function(t){if(this.__class__="GreaterThan",void 0===t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new h(this,t,{value:l.errorCode.must_be_a_number});if(this.threshold>=t)throw new h(this,t,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(t){if(this.__class__="GreaterThanOrEqual",void 0===t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new h(this,t,{value:l.errorCode.must_be_a_number});if(this.threshold>t)throw new h(this,t,{threshold:this.threshold});return!0},this},InstanceOf:function(t){if(this.__class__="InstanceOf",void 0===t)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=t,this.validate=function(t){if(!0!=t instanceof this.classRef)throw new h(this,t,{classRef:this.classRef});return!0},this},IPv4:function(){return this.__class__="IPv4",this.validate=function(t){if("string"!=typeof t)throw new h(this,t,{value:l.errorCode.must_be_a_string});if(!/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t))throw new h(this,t);return!0},this},Length:function(t){if(this.__class__="Length",!t.min&&!t.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=t.min,this.max=t.max,this.validate=function(t){if("string"!=typeof t&&!d(t))throw new h(this,t,{value:l.errorCode.must_be_a_string_or_array});if(void 0!==this.min&&this.min===this.max&&t.length!==this.min)throw new h(this,t,{min:this.min,max:this.max});if(void 0!==this.max&&t.length>this.max)throw new h(this,t,{max:this.max});if(void 0!==this.min&&t.length<this.min)throw new h(this,t,{min:this.min});return!0},this},LessThan:function(t){if(this.__class__="LessThan",void 0===t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new h(this,t,{value:l.errorCode.must_be_a_number});if(this.threshold<=t)throw new h(this,t,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(t){if(this.__class__="LessThanOrEqual",void 0===t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new h(this,t,{value:l.errorCode.must_be_a_number});if(this.threshold<t)throw new h(this,t,{threshold:this.threshold});return!0},this},Mac:function(){return this.__class__="Mac",this.validate=function(t){if("string"!=typeof t)throw new h(this,t,{value:l.errorCode.must_be_a_string});if(!/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i.test(t))throw new h(this,t);return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(t){if(null==t)throw new h(this,t);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(t){if("string"!=typeof t)throw new h(this,t,{value:l.errorCode.must_be_a_string});if(""===t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new h(this,t);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(t){if(null!==t)throw new h(this,t);return!0},this},Range:function(t,e){if(this.__class__="Range",void 0===t||void 0===e)throw new Error("Range assert expects min and max values");return this.min=t,this.max=e,this.validate=function(e){try{return"string"==typeof e&&isNaN(Number(e))||d(e)?(new a).Length({min:this.min,max:this.max}).validate(e):(new a).GreaterThanOrEqual(this.min).validate(e)&&(new a).LessThanOrEqual(this.max).validate(e),!0}catch(t){throw new h(this,e,t.violation)}return!0},this},Regexp:function(t,e){if(this.__class__="Regexp",void 0===t)throw new Error("You must give a regexp");return this.regexp=t,this.flag=e||"",this.validate=function(t){if("string"!=typeof t)throw new h(this,t,{value:l.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(t))throw new h(this,t,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(e){if(void 0===e)throw new h(this,e);try{"string"==typeof e?(new a).NotNull().validate(e)&&(new a).NotBlank().validate(e):!0===d(e)&&(new a).Length({min:1}).validate(e)}catch(t){throw new h(this,e)}return!0},this},Unique:function(t){return this.__class__="Unique","object"==typeof t&&(this.key=t.key),this.validate=function(t){var e,i=[];if(!d(t))throw new h(this,t,{value:l.errorCode.must_be_an_array});for(var s=0;s<t.length;s++)if(void 0!==(e="object"==typeof t[s]?t[s][this.key]:t[s])){if(-1!==i.indexOf(e))throw new h(this,t,{value:e});i.push(e)}return!0},this}},t.Assert=a,t.Validator=l,t.Violation=h,t.Constraint=s,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var s=0;if(1<arguments.length&&((s=Number(arguments[1]))!=s?s=0:0!==s&&s!=1/0&&s!=-1/0&&(s=(0<s||-1)*Math.floor(Math.abs(s)))),i<=s)return-1;for(var n=0<=s?s:Math.max(i-Math.abs(s),0);n<i;n++)if(n in e&&e[n]===t)return n;return-1});var u=function(t){for(var e in t)return!1;return!0},d=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i={eql:function(t,e){if(t===e)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&Buffer.isBuffer(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:this.objEquiv(t,e)},isUndefinedOrNull:function(t){return null==t},isArguments:function(t){return"[object Arguments]"==Object.prototype.toString.call(t)},keys:function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e},objEquiv:function(t,e){if(this.isUndefinedOrNull(t)||this.isUndefinedOrNull(e))return!1;if(t.prototype!==e.prototype)return!1;if(this.isArguments(t))return!!this.isArguments(e)&&eql(pSlice.call(t),pSlice.call(e));try{var i,s,n=this.keys(t),r=this.keys(e);if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;0<=s;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;0<=s;s--)if(i=n[s],!this.eql(t[i],e[i]))return!1;return!0}catch(t){return!1}}};"function"==typeof define&&define.amd&&define("validator",[],function(){return t})}("undefined"==typeof exports?this["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]={}:exports);var t=function(t,e){this.__class__="ParsleyValidator",this.Validator=Validator,this.locale="en",this.init(t||{},e||{})};t.prototype={init:function(t,e){for(var i in this.catalog=e,t)this.addValidator(i,t[i].fn,t[i].priority);o.emit("parsley:validator:init")},setLocale:function(t){if(void 0===this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,i){return"object"==typeof e&&(this.catalog[t]=e),!0===i?this.setLocale(t):this},addMessage:function(t,e,i){return void 0===typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=i,this},validate:function(t,e,i){return(new this.Validator.Validator).validate.apply(new Validator.Validator,arguments)},addValidator:function(t,e,i){return this.validators[t.toLowerCase()]=function(t){return o.extend((new Validator.Assert).Callback(e,t),{priority:i})},this},updateValidator:function(t,e,i){return addValidator(t,e,i)},removeValidator:function(t){return delete this.validators[t],this},getErrorMessage:function(t){var e;return""!==(e="type"===t.name?this.catalog[this.locale][t.name][t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements))?e:this.catalog[this.locale].defaultMessage},formatMessage:function(t,e){if("object"!=typeof e)return"string"==typeof t?t.replace(new RegExp("%s","i"),e):"";for(var i in e)t=this.formatMessage(t,e[i]);return t},validators:{notblank:function(){return o.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return o.extend((new Validator.Assert).Required(),{priority:512})},type:function(t){var e;switch(t){case"email":e=(new Validator.Assert).Email();break;case"number":e=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":e=(new Validator.Assert).Regexp("^-?\\d+$");break;case"digits":e=(new Validator.Assert).Regexp("^\\d+$");break;case"alphanum":e=(new Validator.Assert).Regexp("^\\w+$","i");break;case"url":e=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+t+"` is not supported")}return o.extend(e,{priority:256})},pattern:function(t){var e="";return/^\/.*\/(?:[gimy]*)$/.test(t)&&(e=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")),o.extend((new Validator.Assert).Regexp(t,e),{priority:64})},minlength:function(t){return o.extend((new Validator.Assert).Length({min:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},maxlength:function(t){return o.extend((new Validator.Assert).Length({max:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},length:function(t){return o.extend((new Validator.Assert).Length({min:t[0],max:t[1]}),{priority:32})},mincheck:function(t){return this.minlength(t)},maxcheck:function(t){return this.maxlength(t)},check:function(t){return this.length(t)},min:function(t){return o.extend((new Validator.Assert).GreaterThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},max:function(t){return o.extend((new Validator.Assert).LessThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},range:function(e){return o.extend((new Validator.Assert).Range(e[0],e[1]),{priority:32,requirementsTransformer:function(){for(var t=0;t<e.length;t++)e[t]="string"!=typeof e[t]||isNaN(e[t])?e[t]:parseInt(e[t],10);return e}})},equalto:function(t){return o.extend((new Validator.Assert).EqualTo(t),{priority:256,requirementsTransformer:function(){return o(t).length?o(t).val():t}})}}};var e=function(t){this.__class__="ParsleyUI"};e.prototype={listen:function(){return o.listen("parsley:form:init",this,this.setupForm),o.listen("parsley:field:init",this,this.setupField),o.listen("parsley:field:validated",this,this.reflow),o.listen("parsley:form:validated",this,this.focus),o.listen("parsley:field:reset",this,this.reset),o.listen("parsley:form:destroy",this,this.destroy),o.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(t){if(void 0!==t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&void 0===t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],i=0;i<t.validationResult.length;i++)e.push(this._getErrorMessage(t,t.validationResult[i].assert));return e},manageStatusClass:function(t){!0===t.validationResult?this._successClass(t):0<t.validationResult.length?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(t,e){if(void 0===t.options.errorsMessagesDisabled){if(void 0!==t.options.errorMessage)return e.added.length||e.kept.length?(0===t._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&t._ui.$errorsWrapper.append(o(t.options.errorTemplate).addClass("parsley-custom-error-message")),t._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(t.options.errorMessage)):t._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<e.removed.length;i++)this.removeError(t,e.removed[i].assert.name,!0);for(i=0;i<e.added.length;i++)this.addError(t,e.added[i].assert.name,void 0,e.added[i].assert,!0);for(i=0;i<e.kept.length;i++)this.updateError(t,e.kept[i].assert.name,void 0,e.kept[i].assert,!0)}},addError:function(t,e,i,s,n){t._ui.$errorsWrapper.addClass("filled").append(o(t.options.errorTemplate).addClass("parsley-"+e).html(i||this._getErrorMessage(t,s))),!0!==n&&this._errorClass(t)},updateError:function(t,e,i,s,n){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(i||this._getErrorMessage(t,s)),!0!==n&&this._errorClass(t)},removeError:function(t,e,i){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==i&&this.manageStatusClass(t)},focus:function(t){if(!0===t.validationResult||"none"===t.options.focus)return t._focusedField=null;t._focusedField=null;for(var e=0;e<t.fields.length;e++)if(!0!==t.fields[e].validationResult&&0<t.fields[e].validationResult.length&&void 0===t.fields[e].options.noFocus){if("first"===t.options.focus)return t._focusedField=t.fields[e].$element,t._focusedField.focus();t._focusedField=t.fields[e].$element}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var i=e.name+"Message";return void 0!==t.options[i]?window.ParsleyValidator.formatMessage(t.options[i],e.requirements):window.ParsleyValidator.getErrorMessage(e)},_diff:function(t,e,i){for(var s=[],n=[],r=0;r<t.length;r++){for(var a=!1,o=0;o<e.length;o++)if(t[r].assert.name===e[o].assert.name){a=!0;break}a?n.push(t[r]):s.push(t[r])}return{kept:n,added:s,removed:i?[]:this._diff(e,t,!0).added}},setupForm:function(t){t.$element.on("submit.Parsley",!1,o.proxy(t.onSubmitValidate,t)),!1!==t.options.uiEnabled&&t.$element.attr("novalidate","")},setupField:function(t){var e={active:!1};!1!==t.options.uiEnabled&&(e.active=!0,t.$element.attr(t.options.namespace+"id",t.__id__),e.$errorClassHandler=this._manageClassHandler(t),e.errorsWrapperId="parsley-id-"+(void 0!==t.options.multiple?"multiple-"+t.options.multiple:t.__id__),e.$errorsWrapper=o(t.options.errorsWrapper).attr("id",e.errorsWrapperId),e.lastValidationResult=[],e.validatedOnce=!1,e.validationInformationVisible=!1,t._ui=e,this._insertErrorWrapper(t),this.actualizeTriggers(t))},_manageClassHandler:function(t){if("string"==typeof t.options.classHandler&&o(t.options.classHandler).length)return o(t.options.classHandler);var e=t.options.classHandler(t);return void 0!==e&&e.length?e:void 0===t.options.multiple||t.$element.is("select")?t.$element:t.$element.parent()},_insertErrorWrapper:function(t){var e;if("string"==typeof t.options.errorsContainer){if(o(t.options.errorsContainer+"").length)return o(t.options.errorsContainer).append(t._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+t.options.errorsContainer+"` does not exist in DOM")}return"function"==typeof t.options.errorsContainer&&(e=t.options.errorsContainer(t)),void 0!==e&&e.length?e.append(t._ui.$errorsWrapper):void 0===t.options.multiple?t.$element.after(t._ui.$errorsWrapper):t.$element.parent().after(t._ui.$errorsWrapper)},actualizeTriggers:function(t){var e=this;if(t.options.multiple?o("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){o(this).off(".Parsley")}):t.$element.off(".Parsley"),!1!==t.options.trigger){var i=t.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(t.options.multiple?o("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){o(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,o.proxy("function"==typeof t.eventValidate?t.eventValidate:e.eventValidate,t))}):t.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,o.proxy("function"==typeof t.eventValidate?t.eventValidate:this.eventValidate,t)))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(t){return t._ui.failedOnce=!0,t.options.multiple&&o("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){if(!new RegExp("change","i").test(o(this).parsley().options.trigger||""))return o(this).on("change.ParsleyFailedOnce",!1,o.proxy(t.validate,t))}),t.$element.is("select")&&!new RegExp("change","i").test(t.options.trigger||"")?t.$element.on("change.ParsleyFailedOnce",!1,o.proxy(t.validate,t)):new RegExp("keyup","i").test(t.options.trigger||"")?void 0:t.$element.on("keyup.ParsleyFailedOnce",!1,o.proxy(t.validate,t))},reset:function(t){t.$element.off(".Parsley"),t.$element.off(".ParsleyFailedOnce"),void 0!==t._ui&&"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.children().each(function(){o(this).remove()}),this._resetClass(t),t._ui.validatedOnce=!1,t._ui.lastValidationResult=[],t._ui.validationInformationVisible=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var a=function(t,e,i,s){this.__class__="OptionsFactory",this.__id__=l.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=o.extend(!0,{},t,e,i,{namespace:s})};a.prototype={get:function(t){if(void 0===t.__class__)throw new Error("Parsley Instance expected");switch(t.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(t);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(t);default:throw new Error("Instance "+t.__class__+" is not supported")}},getFormOptions:function(t){return this.formOptions=l.attr(t.$element,this.staticOptions.namespace),o.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(t){return this.fieldOptions=l.attr(t.$element,this.staticOptions.namespace),null===this.formOptions&&void 0!==t.parent&&(this.formOptions=this.getFormOptions(t.parent)),o.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var h=function(t,e){if(this.__class__="ParsleyForm",this.__id__=l.hash(4),"OptionsFactory"!==l.get(e,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=e,this.$element=o(t),this.validationResult=null,this.options=this.OptionsFactory.get(this)};h.prototype={onSubmitValidate:function(t){return this.validate(void 0,void 0,t),!1===this.validationResult&&t instanceof o.Event&&(t.stopImmediatePropagation(),t.preventDefault()),this},validate:function(t,e,i){this.submitEvent=i,this.validationResult=!0;var s=[];this._refreshFields(),o.emit("parsley:form:validate",this);for(var n=0;n<this.fields.length;n++)t&&t!==this.fields[n].options.group||!0!==(s=this.fields[n].validate(e))&&0<s.length&&this.validationResult&&(this.validationResult=!1);return o.emit("parsley:form:validated",this),this.validationResult},isValid:function(t,e){this._refreshFields();for(var i=0;i<this.fields.length;i++)if((!t||t===this.fields[i].options.group)&&!1===this.fields[i].isValid(e))return!1;return!0},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var e=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var t=new window.Parsley(this,{},e);"ParsleyField"!==t.__class__&&"ParsleyFieldMultiple"!==t.__class__||t.$element.is(t.options.excluded)||void 0===e.fieldsMappedById[t.__class__+"-"+t.__id__]&&(e.fieldsMappedById[t.__class__+"-"+t.__id__]=t,e.fields.push(t))}),this}};var u=function(t,e,i,s,n){if(!new RegExp("ParsleyField").test(l.get(t,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[e]&&"Assert"!==window.ParsleyValidator.validators[e](i).__parentClass__)throw new Error("Valid validator expected");var r,a;return s=s||(a=e,void 0!==(r=t).options[a+"Priority"]?r.options[a+"Priority"]:l.get(window.ParsleyValidator.validators[a](i),"priority")||2),"function"==typeof window.ParsleyValidator.validators[e](i).requirementsTransformer&&(i=window.ParsleyValidator.validators[e](i).requirementsTransformer()),o.extend(window.ParsleyValidator.validators[e](i),{name:e,requirements:i,priority:s,groups:[s],isDomConstraint:n||l.attr(t.$element,t.options.namespace,e)})},d=function(t,e,i){this.__class__="ParsleyField",this.__id__=l.hash(4),this.$element=o(t),this.options=(this.OptionsFactory=void 0!==i?(this.parent=i,this.parent.OptionsFactory):e,this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};d.prototype={validate:function(t){return this.value=this.getValue(),o.emit("parsley:field:validate",this),o.emit("parsley:field:"+(this.isValid(t,this.value)?"success":"error"),this),o.emit("parsley:field:validated",this),this.validationResult},isValid:function(t,e){this.refreshConstraints();var i=this._getConstraintsSortedPriorities();if(0===(e=e||this.getValue()).length&&!this._isRequired()&&void 0===this.options.validateIfEmpty&&!0!==t)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"));for(var s=0;s<i.length;s++)if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,i[s])))return!1;return!0},getValue:function(){var t;return null==(t=void 0!==this.options.value?this.options.value:this.$element.val())?"":!0===this.options.trimValue?t.replace(/^\s+|\s+$/g,""):t},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,i,s){if(t=t.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[t]){var n=new u(this,t,e,i,s);"undefined"!==this.constraintsByName[n.name]&&this.removeConstraint(n.name),this.constraints.push(n),this.constraintsByName[n.name]=n}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return this},updateConstraint:function(t,e,i){return this.removeConstraint(t).addConstraint(t,e,i)},_bindConstraints:function(){for(var t=[],e=0;e<this.constraints.length;e++)!1===this.constraints[e].isDomConstraint&&t.push(this.constraints[e]);for(var i in this.constraints=t,this.options)this.addConstraint(i,this.options[i]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),void 0!==this.$element.attr("min")&&void 0!==this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):void 0!==this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):void 0!==this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var t=this.$element.attr("type");return void 0===t?this:"number"===t?this.addConstraint("type","integer",void 0,!0):new RegExp(t,"i").test("email url range")?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var t=[],e=0;e<this.constraints.length;e++)-1===t.indexOf(this.constraints[e].priority)&&t.push(this.constraints[e].priority);return t.sort(function(t,e){return e-t}),t}};var c=function(){this.__class__="ParsleyFieldMultiple"};c.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++){t=this.$elements[e].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var i=0;i<t.length;i++)this.addConstraint(t[i].name,t[i].requirements,t[i].priority,t[i].isDomConstraint)}return this},getValue:function(){if(void 0!==this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return o("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var t=[];return o("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){t.push(o(this).val())}),t.length?t:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(t){return this.$elements=[this.$element],this.options.multiple=t,this}};var f=o({}),p={};o.listen=function(t){if(void 0===p[t]&&(p[t]=[]),"function"==typeof arguments[1])return p[t].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return p[t].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},o.listenTo=function(t,e,i){if(void 0===p[e]&&(p[e]=[]),!(t instanceof d||t instanceof h))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof i)throw new Error("Wrong parameters");p[e].push({instance:t,fn:i})},o.unsubscribe=function(t,e){if(void 0!==p[t]){if("string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");for(var i=0;i<p[t].length;i++)if(p[t][i].fn===e)return p[t].splice(i,1)}},o.unsubscribeTo=function(t,e){if(void 0!==p[e]){if(!(t instanceof d||t instanceof h))throw new Error("Must give Parsley instance");for(var i=0;i<p[e].length;i++)if(void 0!==p[e][i].instance&&p[e][i].instance.__id__===t.__id__)return p[e].splice(i,1)}},o.unsubscribeAll=function(t){void 0!==p[t]&&delete p[t]},o.emit=function(t,e){if(void 0!==p[t])for(var i=0;i<p[t].length;i++)if(void 0!==p[t][i].instance){if(e instanceof d||e instanceof h)if(p[t][i].instance.__id__!==e.__id__){if(p[t][i].instance instanceof h&&e instanceof d)for(var s=0;s<p[t][i].instance.fields.length;s++)if(p[t][i].instance.fields[s].__id__===e.__id__){p[t][i].fn.apply(f,Array.prototype.slice.call(arguments,1));continue}}else p[t][i].fn.apply(f,Array.prototype.slice.call(arguments,1))}else p[t][i].fn.apply(void 0!==p[t][i].ctxt?p[t][i].ctxt:f,Array.prototype.slice.call(arguments,1))},o.subscribed=function(){return p},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=o.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),void 0!==window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var i=function(t,e,i){if(this.__class__="Parsley",this.__version__="2.0.0",this.__id__=l.hash(4),void 0===t)throw new Error("You must give an element");if(void 0!==i&&"ParsleyForm"!==i.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(o(t),e,i)};i.prototype={init:function(t,e,i){if(!t.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=t,this.$element.data("Parsley")){var s=this.$element.data("Parsley");return void 0!==i&&(s.parent=i),s}return this.OptionsFactory=new a(n,l.get(window,"ParsleyConfig")||{},e,this.getNamespace(e)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||l.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(i):this.bind("parsleyField",i):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&void 0===this.options.multiple||this.$element.is("select")&&void 0!==this.$element.attr("multiple")},handleMultiple:function(t){var e,i,s,n=this;if(this.options=o.extend(this.options,t?t.OptionsFactory.get(t):{},l.attr(this.$element,this.options.namespace)),this.options.multiple?i=this.options.multiple:void 0!==this.$element.attr("name")&&this.$element.attr("name").length?i=e=this.$element.attr("name"):void 0!==this.$element.attr("id")&&this.$element.attr("id").length&&(i=this.$element.attr("id")),this.$element.is("select")&&void 0!==this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",t,i||this.__id__);if(void 0===i)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(i=i.replace(/(:|\.|\[|\]|\$)/g,""),void 0!==e&&o('input[name="'+e+'"]').each(function(){o(this).is("input[type=radio], input[type=checkbox]")&&o(this).attr(n.options.namespace+"multiple",i)}),o("["+this.options.namespace+"multiple="+i+"]").length)for(var r=0;r<o("["+this.options.namespace+"multiple="+i+"]").length;r++)if(void 0!==o(o("["+this.options.namespace+"multiple="+i+"]").get(r)).data("Parsley")){s=o(o("["+this.options.namespace+"multiple="+i+"]").get(r)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(s.addElement(this.$element),this.$element.attr(this.options.namespace+"id",s.__id__));break}return this.bind("parsleyField",t,i,!0),s||this.bind("parsleyFieldMultiple",t,i)},getNamespace:function(t){return void 0!==this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):void 0!==l.get(t,"namespace")?t.namespace:void 0!==l.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:n.namespace},bind:function(t,e,i,s){var n;switch(t){case"parsleyForm":n=o.extend(new h(this.$element,this.OptionsFactory),new r,window.ParsleyExtend)._bindFields();break;case"parsleyField":n=o.extend(new d(this.$element,this.OptionsFactory,e),new r,window.ParsleyExtend);break;case"parsleyFieldMultiple":n=o.extend(new d(this.$element,this.OptionsFactory,e),new r,new c,window.ParsleyExtend)._init(i);break;default:throw new Error(t+"is not a supported Parsley type")}return void 0!==i&&l.setAttr(this.$element,this.options.namespace,"multiple",i),void 0!==s?this.$element.data("ParsleyFieldMultiple",n):new RegExp("ParsleyF","i").test(n.__class__)&&(this.$element.data("Parsley",n),o.emit("parsley:"+("parsleyForm"===t?"form":"field")+":init",n)),n}},o.fn.parsley=o.fn.psly=function(t){if(1<this.length){var e=[];return this.each(function(){e.push(o(this).parsley(t))}),e}if(o(this).length)return new i(this,t);window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element.")},window.ParsleyUI="function"==typeof l.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new e).listen(),void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),void 0===window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=i,window.ParsleyUtils=l,window.ParsleyValidator=new t(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==l.get(window,"ParsleyConfig.autoBind")&&o(document).ready(function(){o("[data-parsley-validate]").length&&o("[data-parsley-validate]").parsley()}),"function"==typeof define&&define.amd&&define("parsley",function(){return window.Parsley})}(window.jQuery);