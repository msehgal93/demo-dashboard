!function(p,s,e,o){"use strict";var n="ripples",u=null,i={};function r(t,e){(u=this).element=p(t),this.options=p.extend({},i,e),this._defaults=i,this._name=n,this.init()}r.prototype.init=function(){var a=this.element;a.on("mousedown touchstart",function(t){if(!u.isTouch()||"mousedown"!==t.type){a.find(".ripple-container").length||a.append('<div class="ripple-container"></div>');var e=a.children(".ripple-container"),o=u.getRelY(e,t),n=u.getRelX(e,t);if(o||n){var i=u.getRipplesColor(a),r=p("<div></div>");r.addClass("ripple").css({left:n,top:o,"background-color":i}),e.append(r),s.getComputedStyle(r[0]).opacity,u.rippleOn(a,r),setTimeout(function(){u.rippleEnd(r)},500),a.on("mouseup mouseleave touchend",function(){r.data("mousedown","off"),"off"===r.data("animating")&&u.rippleOut(r)})}}})},r.prototype.getNewSize=function(t,e){return Math.max(t.outerWidth(),t.outerHeight())/e.outerWidth()*2.5},r.prototype.getRelX=function(t,e){var o=t.offset();return u.isTouch()?1===(e=e.originalEvent).touches.length&&e.touches[0].pageX-o.left:e.pageX-o.left},r.prototype.getRelY=function(t,e){var o=t.offset();return u.isTouch()?1===(e=e.originalEvent).touches.length&&e.touches[0].pageY-o.top:e.pageY-o.top},r.prototype.getRipplesColor=function(t){return t.data("ripple-color")?t.data("ripple-color"):s.getComputedStyle(t[0]).color},r.prototype.hasTransitionSupport=function(){var t=(e.body||e.documentElement).style;return t.transition!==o||t.WebkitTransition!==o||t.MozTransition!==o||t.MsTransition!==o||t.OTransition!==o},r.prototype.isTouch=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},r.prototype.rippleEnd=function(t){t.data("animating","off"),"off"===t.data("mousedown")&&u.rippleOut(t)},r.prototype.rippleOut=function(t){t.off(),u.hasTransitionSupport()?t.addClass("ripple-out"):t.animate({opacity:0},100,function(){t.trigger("transitionend")}),t.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.remove()})},r.prototype.rippleOn=function(t,e){var o=u.getNewSize(t,e);u.hasTransitionSupport()?e.css({"-ms-transform":"scale("+o+")","-moz-transform":"scale("+o+")","-webkit-transform":"scale("+o+")",transform:"scale("+o+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):e.animate({width:2*Math.max(t.outerWidth(),t.outerHeight()),height:2*Math.max(t.outerWidth(),t.outerHeight()),"margin-left":-1*Math.max(t.outerWidth(),t.outerHeight()),"margin-top":-1*Math.max(t.outerWidth(),t.outerHeight()),opacity:.2},500,function(){e.trigger("transitionend")})},p.fn.ripples=function(t){return this.each(function(){p.data(this,"plugin_"+n)||p.data(this,"plugin_"+n,new r(this,t))})}}(jQuery,window,document);