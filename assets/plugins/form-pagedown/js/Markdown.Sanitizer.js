!function(){var r,t;function e(r){return r.replace(/<[^>]*>?/gi,a)}t="object"==typeof exports&&"function"==typeof require?(r=exports,require("./Markdown.Converter").Converter):(r=window.Markdown).Converter,r.getSanitizingConverter=function(){var r=new t;return r.hooks.chain("postConversion",e),r.hooks.chain("postConversion",c),r};var n=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,i=/^(<a\shref="(https?:(\/\/|\/)|ftp:(\/\/|\/)|mailto:|magnet:)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,o=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i,s=/^(<pre(\sclass="prettyprint linenums")?>|<\/pre>)$/i;function a(r){return r.match(n)||r.match(i)||r.match(o)||r.match(s)?r:""}function c(r){if(""==r)return"";var t,e,n=/<\/?\w+[^>]*(\s|$|>)/g,i=r.toLowerCase().match(n),o=(i||[]).length;if(0==o)return r;for(var s,a=[],c=[],h=!1,u=0;u<o;u++)if(t=i[u].replace(/<\/?(\w+).*/,"$1"),!(a[u]||-1<"<p><img><br><li><hr>".search("<"+t+">"))){if(e=i[u],s=-1,!/^<\//.test(e))for(var f=u+1;f<o;f++)if(!a[f]&&i[f]=="</"+t+">"){s=f;break}-1==s?h=c[u]=!0:a[s]=!0}if(!h)return r;u=0;return r=r.replace(n,function(r){var t=c[u]?"":r;return u++,t})}}();