var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function r(e){return e}function t(e){return!1}function e(){}function $(){}e.prototype={chain:function(e,t){var n=this[e];if(!n)throw new Error("unknown hook "+e);this[e]=n===r?t:function(e){return t(n(e))}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(e){this[e]=r},addFalse:function(e){this[e]=t}},Markdown.HookCollection=e,$.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function o(e){return e=(e=(e=(e=(e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,t)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,t)).replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,t)).replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,t)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,t)}function t(e,t){var n=t;return n=(n=n.replace(/^\n+/,"")).replace(/\n+$/g,""),n="\n\n~K"+(b.push(n)-1)+"K\n\n"}function l(e,t){var n,r="<hr />\n";return e=s(e=(e=(e=(e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+c(t)+"</h1>\n\n"}).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+c(t)+"</h2>\n\n"}).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+c(n)+"</h"+r+">\n\n"})).replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r)),n=e,e=n=(n=(n+="~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,o=n;return"\n\n"+(r='<pre class="prettyprint linenums"><code>'+(r=(r=(r=a(r=i(f(r)))).replace(/^\n+/g,"")).replace(/\n+$/g,""))+"\n</code></pre>")+"\n\n"+o})).replace(/~0/,""),e=function(e,t){for(var n=(e=(e=e.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),r=[],o=/~K(\d+)K/,a=n.length,i=0;i<a;i++){var l=n[i];o.test(l)?r.push(l):/\S/.test(l)&&(l=(l=c(l)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",r.push(l))}if(!t){a=r.length;for(var i=0;i<a;i++)for(var s=!0;s;)s=!1,r[i]=r[i].replace(/~K(\d+)K/g,function(e,t){return s=!0,b[t]})}return r.join("\n\n")}(e=o(e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n,r=t;return r=(r=(r=l(r=(r=(r=r.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""))).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"~0")).replace(/~0/g,"")}),n=(n="<blockquote>\n"+r+"\n</blockquote>").replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(b.push(n)-1)+"K\n\n"})),t)}function c(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,o){var a=r;return t+"<code>"+(a=(a=i(a=(a=a.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""))).replace(/:\/\//g,"~P"))+"</code>"}),e=e.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=h(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")}),e=e.replace(/\\(\\)/g,p).replace(/\\([`*_{}\[\]()>#+-.!])/g,p),e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,r).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,r),e=d(e=(e=function(e){e=e.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,function(e,t){return'<a href="'+t+'">'+T.plainLinkText(t)+"</a>"});return e=e.replace(/<((?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+))>/gi,function(e,t){var n,r,o="mailto:";return r=t.substring(0,o.length)!=o?(n=o+t,t):(n=t).substring(o.length,t.length),'<a href="'+n+'">'+T.plainLinkText(r)+"</a>"})}(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,n).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,n).replace(/(\[([^\[\]]+)\])()()()()()/g,n))).replace(/~P/g,"://")),e=(e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4").replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")).replace(/  +\n/g," <br>\n")}function n(e,t,n,r,o,a,i,l){null==l&&(l="");var s=t,c=n.replace(/:\/\//g,"~P"),u=r.toLowerCase(),d=o,f=l;if(""==d)if(""==u&&(u=c.toLowerCase().replace(/ ?\n/g," ")),d="#"+u,null!=m.get(u))d=m.get(u),null!=v.get(u)&&(f=v.get(u));else{if(!(-1<s.search(/\(\s*\)$/m)))return s;d=""}var p='<a href="'+(d=h(d=function(n){if(!n)return"";var r=n.length;return n.replace(C,function(e,t){if("~D"==e)return"%24";if(":"==e){if(t==r-1||/[0-9\/]/.test(n.charAt(t+1)))return":";if("mailto:"===n.substring(0,"mailto:".length))return":";if("magnet:"===n.substring(0,"magnet:".length))return":"}return"%"+e.charCodeAt(0).toString(16)})}(d),"*_"))+'"';return""!=f&&(p+=' title="'+(f=h(f=g(f),"*_"))+'"'),p+=">"+c+"</a>"}function g(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function r(e,t,n,r,o,a,i,l){var s=t,c=n,u=r.toLowerCase(),d=o,f=l;if(f||(f=""),""==d){if(""==u&&(u=c.toLowerCase().replace(/ ?\n/g," ")),d="#"+u,null==m.get(u))return s;d=m.get(u),null!=v.get(u)&&(f=v.get(u))}c=h(g(c),"*_[]()");var p='<img src="'+(d=h(d,"*_"))+'" alt="'+c+'"';return p+=' title="'+(f=h(f=g(f),"*_"))+'"',p+=" />"}function s(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return e=(e=w?e.replace(t,function(e,t,n){var r=t,o=-1<n.search(/[*+-]/g)?"ul":"ol",a=u(r,o);return a="<"+o+">"+(a=a.replace(/\s+$/,""))+"</"+o+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e.replace(t,function(e,t,n,r){var o=t,a=n,i=-1<r.search(/[*+-]/g)?"ul":"ol",l=u(a,i);return l=o+"<"+i+">\n"+l+"</"+i+">\n"}))).replace(/~0/,"")}function u(e,t){w++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var n=k[t],r=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm"),i=!1;return e=(e=e.replace(r,function(e,t,n,r){var o=r,a=/\n\n$/.test(o);return o=a||-1<o.search(/\n{2,}/)||i?l(f(o),!0):c(o=(o=s(f(o))).replace(/\n$/,"")),i=a,"<li>"+o+"</li>\n"})).replace(/~0/g,""),w--,e}function i(e){return e=h(e=(e=(e=e.replace(/&/g,"&")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),"*_{}[]\\",!1)}function d(e){return e=(e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")}function f(e){return e=(e=e.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")}function a(e){if(!/\t/.test(e))return e;var n,r=["    ","   ","  "," "],o=0;return e.replace(/[\n\t]/g,function(e,t){return"\n"===e?(o=t+1,e):(n=(t-o)%4,o=t+1,r[n])})}function h(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return e=e.replace(o,p)}function p(e,t){return"~E"+t.charCodeAt(0)+"E"}var m,v,b,w,T=this.hooks=new e;T.addNoop("plainLinkText"),T.addNoop("preConversion"),T.addNoop("postConversion"),this.makeHtml=function(e){if(m)throw new Error("Recursive call to converter.makeHtml");return m=new $,v=new $,b=[],w=0,e=o(e=(e=a(e="\n\n"+(e=(e=(e=(e=(e=T.preConversion(e)).replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"\n\n")).replace(/^[ \t]+$/gm,"")),e=l(e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,n,r,o,a){return t=t.toLowerCase(),m.set(t,d(n)),o?r:(a&&v.set(t,a.replace(/"/g,"&quot;")),"")})),e=(e=(e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})).replace(/~D/g,"$$")).replace(/~T/g,"~"),e=T.postConversion(e),b=v=m=null,e};var k={ol:"\\d+[.]",ul:"[*+-]"},C=/(?:["'*()[\]:]|~D)/g}}(),function(){function t(){}function u(e){this.buttonBar=b.getElementById("wmd-button-bar"+e),this.preview=b.getElementById("wmd-preview"+e),this.input=b.getElementById("wmd-input"+e)}function d(t,n){var r,o,a,i=this,l=[],s=0,c="none",u=function(e,t){c!=e&&(c=e,t||f()),C.isIE&&"moving"==c?a=null:o=setTimeout(d,1)},d=function(e){a=new h(n,e),o=void 0};this.setCommandMode=function(){c="command",f(),o=setTimeout(d,0)},this.canUndo=function(){return 1<s},this.canRedo=function(){return!!l[s+1]},this.undo=function(){i.canUndo()&&(r?(r.restore(),r=null):(l[s]=new h(n),l[--s].restore(),t&&t())),c="none",n.input.focus(),d()},this.redo=function(){i.canRedo()&&(l[++s].restore(),t&&t()),c="none",n.input.focus(),d()};var f=function(){var e=a||new h(n);if(!e)return!1;"moving"!=c?(r&&(l[s-1].text!=r.text&&(l[s++]=r),r=null),l[s++]=e,l[s+1]=null,t&&t()):r||(r=e)},p=function(e){var t=!1;if(e.ctrlKey||e.metaKey){var n=e.charCode||e.keyCode;switch(String.fromCharCode(n)){case"y":i.redo(),t=!0;break;case"z":e.shiftKey?i.redo():i.undo(),t=!0}}if(t)return e.preventDefault&&e.preventDefault(),void(window.event&&(window.event.returnValue=!1))},g=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;33<=t&&t<=40||63232<=t&&t<=63235?u("moving"):8==t||46==t||127==t?u("deleting"):13==t?u("newlines"):27==t?u("escape"):(t<16||20<t)&&91!=t&&u("typing")}};!function(){v.addEvent(n.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(C.isIE||a&&a.text!=n.input.value)&&null==o&&(c="paste",f(),d())};v.addEvent(n.input,"keydown",p),v.addEvent(n.input,"keydown",g),v.addEvent(n.input,"mousedown",function(){u("moving")}),n.input.onpaste=e,n.input.ondrop=e}(),d(!0),f()}function h(a,e){var i=this,l=a.input;this.init=function(){v.isVisible(l)&&(!e&&b.activeElement&&b.activeElement!==l||(this.setInputAreaSelectionStartEnd(),this.scrollTop=l.scrollTop,(!this.text&&l.selectionStart||0===l.selectionStart)&&(this.text=l.value)))},this.setInputAreaSelection=function(){if(v.isVisible(l))if(void 0===l.selectionStart||C.isOpera){if(b.selection){if(b.activeElement&&b.activeElement!==l)return;l.focus();var e=l.createTextRange();e.moveStart("character",-l.value.length),e.moveEnd("character",-l.value.length),e.moveEnd("character",i.end),e.moveStart("character",i.start),e.select()}}else l.focus(),l.selectionStart=i.start,l.selectionEnd=i.end,l.scrollTop=i.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(a.ieCachedRange||!l.selectionStart&&0!==l.selectionStart){if(b.selection){i.text=v.fixEolChars(l.value);var e=a.ieCachedRange||b.selection.createRange(),t=v.fixEolChars(e.text),n=""+t+"";e.text=n;var r=v.fixEolChars(l.value);e.moveStart("character",-n.length),e.text=t,i.start=r.indexOf(""),i.end=r.lastIndexOf("")-"".length;var o=i.text.length-v.fixEolChars(l.value).length;if(o){for(e.moveStart("character",-t.length);o--;)t+="\n",i.end+=1;e.text=t}a.ieCachedRange&&(i.scrollTop=a.ieCachedScrollTop),a.ieCachedRange=null,this.setInputAreaSelection()}}else i.start=l.selectionStart,i.end=l.selectionEnd},this.restore=function(){null!=i.text&&i.text!=l.value&&(l.value=i.text),this.setInputAreaSelection(),l.scrollTop=i.scrollTop},this.getChunks=function(){var e=new t;return e.before=v.fixEolChars(i.text.substring(0,i.start)),e.startTag="",e.selection=v.fixEolChars(i.text.substring(i.start,i.end)),e.endTag="",e.after=v.fixEolChars(i.text.substring(i.end)),e.scrollTop=i.scrollTop,e},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function f(r,o,a){var t,i,l,s=function(){var e=0;return window.innerHeight?e=window.pageYOffset:b.documentElement&&b.documentElement.scrollTop?e=b.documentElement.scrollTop:b.body&&(e=b.body.scrollTop),e},n=function(){if(o.preview){var e=o.input.value;if(!e||e!=l){l=e;var t=(new Date).getTime();e=r.makeHtml(e);var n=(new Date).getTime();i=n-t,h(e)}}},c=function(){t&&(clearTimeout(t),t=void 0);var e=0;3e3<(e=i)&&(e=3e3),t=setTimeout(n,e)};this.refresh=function(e){e?(l="",n()):c()},this.processingTime=function(){return i};var u,e,d,f=!0,p=function(e){var t=o.preview,n=t.parentNode,r=t.nextSibling;n.removeChild(t),t.innerHTML=e,r?n.insertBefore(t,r):n.appendChild(t)},g=function(e){o.preview.innerHTML=e},h=function(e){var t,n=m.getTop(o.input)-s();if(o.preview&&(!function(t){if(u)return u(t);try{g(t),u=g}catch(e){(u=p)(t)}}(e),a()),o.preview&&(o.preview.scrollTop=(o.preview.scrollHeight-o.preview.clientHeight)*((t=o.preview).scrollHeight<=t.clientHeight?1:t.scrollTop/(t.scrollHeight-t.clientHeight))),f)f=!1;else{var r=m.getTop(o.input)-s();C.isIE?setTimeout(function(){window.scrollBy(0,r-n)},0):window.scrollBy(0,r-n)}};e=o.input,d=c,v.addEvent(e,"input",d),e.onpaste=d,e.ondrop=d,v.addEvent(e,"keypress",d),v.addEvent(e,"keydown",d),n(),o.preview&&(o.preview.scrollTop=0)}function p(s,i,o,a,t,c){function n(e){if(l.focus(),e.textOp){o&&o.setCommandMode();var t=new h(i);if(!t)return;var n=t.getChunks(),r=function(){l.focus(),n&&t.setChunks(n),t.restore(),a.refresh()};e.textOp(n,r)||r()}e.execute&&e.execute(o)}function u(e,t){t?(e.disabled=!1,e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),n(this),!1})):e.disabled=!0}function d(e){return"string"==typeof e&&(e=t[e]),function(){e.apply(t,arguments)}}function f(){o&&(u(p.undo,o.canUndo()),u(p.redo,o.canRedo()))}var l=i.input,p={};!function(){var e=i.buttonBar,l=document.createElement("div");l.id="wmd-button-row"+s,l.className="btn-toolbar",l=e.appendChild(l);var t=function(e,t,n,r,o){var a=document.createElement("button");a.className="btn btn-default";var i=document.createElement("i");return i.className=n,a.id=e+s,a.appendChild(i),a.title=t,$(a).tooltip({placement:"bottom",container:"body"}),r&&(a.textOp=r),u(a,!0),o?o.appendChild(a):l.appendChild(a),a},n=function(e){var t=document.createElement("div");return t.className="btn-group wmd-button-group"+e,t.id="wmd-button-group"+e+s,l.appendChild(t),t};group1=n(1),p.bold=t("wmd-bold-button","Bold - Ctrl+B","fa fa-bold",d("doBold"),group1),p.italic=t("wmd-italic-button","Italic - Ctrl+I","fa fa-italic",d("doItalic"),group1),group2=n(2),p.link=t("wmd-link-button","Link - Ctrl+L","fa fa-link",d(function(e,t){return this.doLinkOrImage(e,t,!1)}),group2),p.quote=t("wmd-quote-button","Blockquote - Ctrl+Q","fa fa-quote-left",d("doBlockquote"),group2),p.code=t("wmd-code-button","Code Sample - Ctrl+K","fa fa-code",d("doCode"),group2),p.image=t("wmd-image-button","Image - Ctrl+G","fa fa-picture-o",d(function(e,t){return this.doLinkOrImage(e,t,!0)}),group2),group3=n(3),p.olist=t("wmd-olist-button","Numbered List - Ctrl+O","fa fa-list-ol",d(function(e,t){this.doList(e,t,!0)}),group3),p.ulist=t("wmd-ulist-button","Bulleted List - Ctrl+U","fa fa-list-ul",d(function(e,t){this.doList(e,t,!1)}),group3),p.heading=t("wmd-heading-button","Heading - Ctrl+H","fa fa-header",d("doHeading"),group3),p.hr=t("wmd-hr-button","Horizontal Rule - Ctrl+R","fa fa-ellipsis-h",d("doHorizontalRule"),group3),group4=n(4),p.undo=t("wmd-undo-button","Undo - Ctrl+Z","fa fa-undo",null,group4),p.undo.execute=function(e){e&&e.undo()};var r=/win/.test(T.platform.toLowerCase())?"Redo - Ctrl+Y":"Redo - Ctrl+Shift+Z";if(p.redo=t("wmd-redo-button",r,"fa fa-rotate-right",null,group4),p.redo.execute=function(e){e&&e.redo()},c){group5=n(5),group5.className=group5.className+" pull-right";var o=document.createElement("button"),a=document.createElement("i");a.className="fa fa-question",o.appendChild(a),o.className="btn",o.id="wmd-help-button"+s,o.isHelp=!0,o.title=c.title||"Markdown Editing Help",$(o).tooltip({placement:"bottom",container:"body"}),o.onclick=c.handler,u(o,!0),group5.appendChild(o),p.help=o}f()}();var e="keydown";C.isOpera&&(e="keypress"),v.addEvent(l,e,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode;switch(String.fromCharCode(t).toLowerCase()){case"b":n(p.bold);break;case"i":n(p.italic);break;case"l":n(p.link);break;case"q":n(p.quote);break;case"k":n(p.code);break;case"g":n(p.image);break;case"o":n(p.olist);break;case"u":n(p.ulist);break;case"h":n(p.heading);break;case"r":n(p.hr);break;case"y":n(p.redo);break;case"z":e.shiftKey?n(p.redo):n(p.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),v.addEvent(l,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey&&13===(e.charCode||e.keyCode)){var t={};t.textOp=d("doAutoindent"),n(t)}}),C.isIE&&v.addEvent(l,"keydown",function(e){if(27===e.keyCode)return!1}),this.setUndoRedoButtonStates=f}function g(e){this.hooks=e}var v={},m={},n={},b=window.document,w=window.RegExp,T=window.navigator,k=72,C={isIE:/msie/.test(T.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(T.userAgent.toLowerCase())||/msie 5/.test(T.userAgent.toLowerCase()),isOpera:/opera/.test(T.userAgent.toLowerCase())};Markdown.Editor=function(o,a,i){a=a||"";var l=this.hooks=new Markdown.HookCollection;l.addNoop("onPreviewRefresh"),l.addNoop("postBlockquoteCreation"),l.addFalse("insertImageDialog"),this.getConverter=function(){return o};var s,c=this;this.run=function(){if(!s){s=new u(a);var t,e,n=new g(l),r=new f(o,s,function(){l.onPreviewRefresh()});/\?noundo/.test(b.location.href)||(t=new d(function(){r.refresh(),e&&e.setUndoRedoButtonStates()},s),this.textOperation=function(e){t.setCommandMode(),e(),c.refreshPreview()}),(e=new p(a,s,t,r,n,i)).setUndoRedoButtonStates(),(c.refreshPreview=function(){r.refresh(!0)})()}}},t.prototype.findTags=function(e,t){var n,r=this;e&&(n=v.extendRegExp(e,"","$"),this.before=this.before.replace(n,function(e){return r.startTag=r.startTag+e,""}),n=v.extendRegExp(e,"^",""),this.selection=this.selection.replace(n,function(e){return r.startTag=r.startTag+e,""})),t&&(n=v.extendRegExp(t,"","$"),this.selection=this.selection.replace(n,function(e){return r.endTag=e+r.endTag,""}),n=v.extendRegExp(t,"^",""),this.after=this.after.replace(n,function(e){return r.endTag=e+r.endTag,""}))},t.prototype.trimWhitespace=function(e){var t,n,r=this;e?t=n="":(t=function(e){return r.before+=e,""},n=function(e){return r.after=e+r.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},t.prototype.skipLines=function(e,t,n){var r,o;if(void 0===e&&(e=1),void 0===t&&(t=1),e++,t++,navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+w.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+w.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+w.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+w.$1,this.before){for(r=o="";e--;)r+="\\n?",o+="\n";n&&(r="\\n*"),this.before=this.before.replace(new w(r+"$",""),o)}if(this.after){for(r=o="";t--;)r+="\\n?",o+="\n";n&&(r="\\n*"),this.after=this.after.replace(new w(r,""),o)}},v.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},v.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},v.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},v.fixEolChars=function(e){return e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")},v.extendRegExp=function(e,t,n){null==t&&(t=""),null==n&&(n="");var r,o=e.toString();return o=(o=o.replace(/\/([gim]*)$/,function(e,t){return r=t,""})).replace(/(^\/|\/$)/g,""),new w(o=t+o+n,r)},m.getTop=function(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n},m.getHeight=function(e){return e.offsetHeight||e.scrollHeight},m.getWidth=function(e){return e.offsetWidth||e.scrollWidth},m.getPageSize=function(){var e,t,n,r;return t=self.innerHeight&&self.scrollMaxY?(e=b.body.scrollWidth,self.innerHeight+self.scrollMaxY):b.body.scrollHeight>b.body.offsetHeight?(e=b.body.scrollWidth,b.body.scrollHeight):(e=b.body.offsetWidth,b.body.offsetHeight),self.innerHeight?(n=self.innerWidth,r=self.innerHeight):b.documentElement&&b.documentElement.clientHeight?(n=b.documentElement.clientWidth,r=b.documentElement.clientHeight):b.body&&(n=b.body.clientWidth,r=b.body.clientHeight),[Math.max(e,n),Math.max(t,r),n,r]},n.prompt=function(u,d,f,n){var p,g;void 0===f&&(f="");var h=function(e){27===(e.charCode||e.keyCode)&&m(!0)},m=function(e){v.removeEvent(b.body,"keydown",h);var t=g.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),$(p).modal("hide"),n(t),!1};setTimeout(function(){!function(){(p=b.createElement("div")).className="modal fade";var e=b.createElement("div");e.className="modal-dialog",p.appendChild(e);var t=b.createElement("div");t.className="modal-content",e.appendChild(t);var n=b.createElement("div");n.className="modal-header",n.innerHTML='<a class="close" data-dismiss="modal">×</a> <h3 class="modal-title">'+u+"</h3>",t.appendChild(n);var r=b.createElement("div");r.className="modal-body",t.appendChild(r);var o=b.createElement("div");o.className="modal-footer",t.appendChild(o);var a=b.createElement("p");a.innerHTML=d,a.style.padding="5px",r.appendChild(a);var i=b.createElement("form"),l=i.style;i.onsubmit=function(){return m(!1)},l.padding="0",l.margin="0",r.appendChild(i),(g=b.createElement("input")).type="text",g.value=f,g.className="form-control",(l=g.style).display="block",l.width="80%",l.marginLeft=l.marginRight="auto",i.appendChild(g);var s=b.createElement("button");s.className="btn btn-primary",s.type="button",s.onclick=function(){return m(!1)},s.innerHTML="OK";var c=b.createElement("button");c.className="btn btn-danger",c.type="button",c.onclick=function(){return m(!0)},c.innerHTML="Cancel",o.appendChild(s),o.appendChild(c),v.addEvent(b.body,"keydown",h),b.body.appendChild(p)}();var e=f.length;if(void 0!==g.selectionStart)g.selectionStart=0,g.selectionEnd=e;else if(g.createTextRange){var t=g.createTextRange();t.collapse(!1),t.moveStart("character",-e),t.moveEnd("character",e),t.select()}$(p).on("shown",function(){g.focus()}),$(p).on("hidden",function(){p.parentNode.removeChild(p)}),$(p).modal()},0)};var e=g.prototype;e.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",e.unwrap=function(e){var t=new w("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},e.wrap=function(e,t){this.unwrap(e);var n=new w("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){return new w("^"+r.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},e.doBold=function(e,t){return this.doBorI(e,t,2,"strong text")},e.doItalic=function(e,t){return this.doBorI(e,t,1,"emphasized text")},e.doBorI=function(e,t,n,r){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var o=/(\**$)/.exec(e.before)[0],a=/(^\**)/.exec(e.after)[0],i=Math.min(o.length,a.length);if(n<=i&&(2!=i||1!=n))e.before=e.before.replace(w("[*]{"+n+"}$",""),""),e.after=e.after.replace(w("^[*]{"+n+"}",""),"");else if(!e.selection&&a){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var l=w.$1;e.before=e.before+a+l}else{e.selection||a||(e.selection=r);var s=n<=1?"*":"**";e.before=e.before+s,e.after=s+e.after}},e.stripLinkDefs=function(e,a){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,t,n,r,o){return a[t]=e.replace(/\s*$/,""),r?(a[t]=e.replace(/["(](.+?)[")]$/,""),r+o):""})},e.addLinkDef=function(e,t){var i=0,l={};e.before=this.stripLinkDefs(e.before,l),e.selection=this.stripLinkDefs(e.selection,l),e.after=this.stripLinkDefs(e.after,l);var n="",s=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,c=function(e){i++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+i+"]:"),n+="\n"+e},u=function(e,t,n,r,o,a){return n=n.replace(s,u),l[o]?(c(l[o]),t+n+r+i+a):e};e.before=e.before.replace(s,u),t?c(t):e.selection=e.selection.replace(s,u);var r=i;return e.after=e.after.replace(s,u),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+n,r},e.doLinkOrImage=function(r,o,a){if(r.trimWhitespace(),r.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/),!(1<r.endTag.length&&0<r.startTag.length)){if(r.selection=r.startTag+r.selection+r.endTag,r.startTag=r.endTag="",/\n\n/.test(r.selection))return void this.addLinkDef(r,null);var i=this,e=function(e){if(null!==e){r.selection=(" "+r.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var t=" [999]: "+e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=(t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")).replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=$.trim(n).replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t}),n=i.addLinkDef(r,t);r.startTag=a?"![":"[",r.endTag="]["+n+"]",r.selection||(r.selection=a?"enter image description here":"enter link description here")}o()};return a?this.hooks.insertImageDialog(e)||n.prompt("Insert Image",'<code>http://example.com/images/diagram.jpg "optional title"</code>',"http://",e):n.prompt("Insert Link",'<code>http://example.com/ "optional title"</code>',"http://",e),!0}r.startTag=r.startTag.replace(/!?\[/,""),r.endTag="",this.addLinkDef(r,null)},e.doAutoindent=function(t,e){var n=this,r=!1;t.before=t.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),t.before=t.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),t.before=t.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),t.selection||/^[ \t]*(?:\n|$)/.test(t.after)||(t.after=t.after.replace(/^[^\n]*/,function(e){return t.selection=e,""}),r=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(t.before)&&n.doList&&n.doList(t),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(t.before)&&n.doBlockquote&&n.doBlockquote(t),/(\n|^)(\t|[ ]{4,}).*\n$/.test(t.before)&&n.doCode&&n.doCode(t),r&&(t.after=t.selection+t.after,t.selection="")},e.doBlockquote=function(o,e){o.selection=o.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(e,t,n,r){return o.before+=t,o.after=r+o.after,n}),o.before=o.before.replace(/(>[ \t]*)$/,function(e,t){return o.selection=t+o.selection,""}),o.selection=o.selection.replace(/^(\s|>)+$/,""),o.selection=o.selection||"Blockquote";var t,n="",r="";if(o.before){for(var a=o.before.replace(/\n$/,"").split("\n"),i=!1,l=0;l<a.length;l++){var s=!1;t=a[l],i=i&&0<t.length,/^>/.test(t)?(s=!0,!i&&1<t.length&&(i=!0)):s=!!/^[ \t]*$/.test(t)||i,s?n+=t+"\n":(r+=n+t,n="\n")}/(^|\n)>/.test(n)||(r+=n,n="")}o.startTag=n,o.before=r,o.after&&(o.after=o.after.replace(/^\n?/,"\n")),o.after=o.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(e){return o.endTag=e,""});var c=function(e){var n=e?"> ":"";o.startTag&&(o.startTag=o.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),o.endTag&&(o.endTag=o.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(o.selection)?(this.wrap(o,k-2),o.selection=o.selection.replace(/^/gm,"> "),c(!0),o.skipLines()):(o.selection=o.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(o),c(!1),!/^(\n|^)[ ]{0,3}>/.test(o.selection)&&o.startTag&&(o.startTag=o.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(o.selection)&&o.endTag&&(o.endTag=o.endTag.replace(/^\n{0,2}/,"\n\n"))),o.selection=this.hooks.postBlockquoteCreation(o.selection),/\n/.test(o.selection)||(o.selection=o.selection.replace(/^(> *)/,function(e,t){return o.startTag+=t,""}))},e.doCode=function(t,e){var n=/\S[ ]*$/.test(t.before);if(!/^[ ]*\S/.test(t.after)&&!n||/\n/.test(t.selection)){t.before=t.before.replace(/[ ]{4}$/,function(e){return t.selection=e+t.selection,""});var r=1,o=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(t.before)&&(r=0),/^\n(\t|[ ]{4,})/.test(t.after)&&(o=0),t.skipLines(r,o),t.selection?/^[ ]{0,3}\S/m.test(t.selection)?/\n/.test(t.selection)?t.selection=t.selection.replace(/^/gm,"    "):t.before+="    ":t.selection=t.selection.replace(/^[ ]{4}/gm,""):(t.startTag="    ",t.selection="enter code here")}else t.trimWhitespace(),t.findTags(/`/,/`/),t.startTag||t.endTag?t.endTag&&!t.startTag?(t.before+=t.endTag,t.endTag=""):t.startTag=t.endTag="":(t.startTag=t.endTag="`",t.selection||(t.selection="enter code here"))},e.doList=function(e,t,n){var r=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,o="-",a=1,i=function(){var e;return n?(e=" "+a+". ",a++):e=" "+o+" ",e},l=function(e){return void 0===n&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(e){return i()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var s=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),s&&(e.after=e.after.replace(r,l)),n==s)return}var c=1;e.before=e.before.replace(/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,function(e){return/^\s*([*+-])/.test(e)&&(o=w.$1),c=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.selection||(e.selection="List item");var u=i(),d=1;e.after=e.after.replace(r,function(e){return d=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.trimWhitespace(!0),e.skipLines(c,d,!0);var f=(e.startTag=u).replace(/./g," ");this.wrap(e,k-f.length),e.selection=e.selection.replace(/\n/g,"\n"+f)},e.doHeading=function(e,t){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection="Heading",void(e.endTag=" ##");var n=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(n=w.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(n=1),/-+/.test(e.endTag)&&(n=2),e.startTag=e.endTag="",e.skipLines(1,1);var r=0==n?2:n-1;if(0<r){var o=2<=r?"-":"=",a=e.selection.length;for(k<a&&(a=k),e.endTag="\n";a--;)e.endTag+=o}},e.doHorizontalRule=function(e,t){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}(),function(){function t(e){return e.replace(/<[^>]*>?/gi,n)}function n(e){return e.match(a)||e.match(i)||e.match(l)||e.match(s)?e:""}function r(e){if(""==e)return"";var t,n,r=/<\/?\w+[^>]*(\s|$|>)/g,o=e.toLowerCase().match(r),a=(o||[]).length;if(0==a)return e;for(var i,l=[],s=[],c=!1,u=0;u<a;u++)if(t=o[u].replace(/<\/?(\w+).*/,"$1"),!(l[u]||-1<"<p><img><br><li><hr>".search("<"+t+">"))){if(n=o[u],i=-1,!/^<\//.test(n))for(var d=u+1;d<a;d++)if(!l[d]&&o[d]=="</"+t+">"){i=d;break}-1==i?c=s[u]=!0:l[i]=!0}if(!c)return e;u=0;return e=e.replace(r,function(e){var t=s[u]?"":e;return u++,t})}var e,o;o="object"==typeof exports&&"function"==typeof require?(e=exports,require("./Markdown.Converter").Converter):(e=window.Markdown).Converter,e.getSanitizingConverter=function(){var e=new o;return e.hooks.chain("postConversion",t),e.hooks.chain("postConversion",r),e};var a=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,i=/^(<a\shref="(https?:(\/\/|\/)|ftp:(\/\/|\/)|mailto:|magnet:)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,l=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i,s=/^(<pre(\sclass="prettyprint linenums")?>|<\/pre>)$/i}(),function(i){i.fn.pagedownBootstrap=function(e){var a=i.extend({sanitize:!0,help:null,hooks:Array()},e);return this.each(function(){var e=null;for(var t in e=a.sanitize?Markdown.getSanitizingConverter():new Markdown.Converter,a.hooks){var n=a.hooks[t];"object"==typeof n&&void 0!==n.event&&"function"==typeof n.callback&&e.hooks.chain(n.event,n.callback)}for(var r="wmd-input",o=0;0<i("#"+r+"-"+o.toString()).length;)o++;i(this).attr("id",r+"-"+o.toString()),i(this).wrap('<div class="wmd-panel" />'),i(this).before('<div id="wmd-button-bar-'+o+'" class="wmd-button-bar" />'),i(this).after('<div id="wmd-preview-'+o+'" class="wmd-preview" />'),i(this).addClass("wmd-input"),help=null,i.isFunction(a.help)&&(help={handler:a.help}),new Markdown.Editor(e,"-"+o.toString(),help).run()})}}(jQuery);