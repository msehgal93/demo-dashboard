!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(o){function r(t){return null!=t}o(document).ready(function(){o("body").append("<div id=snackbar-container/>")});var c={events:{},on:function(t,a){this.events[t]=this.events[t]||[],this.events[t].push(a)},off:function(t,a){if(this.events[t])for(var n=0;n<this.events[t].length;n++)if(this.events[t][n]===a){this.events[t].splice(n,1);break}},emit:function(t,a){this.events[t]&&this.events[t].forEach(function(t){t(a)})}};o(document).on("click","[data-toggle=snackbar]",function(){o(this).snackbar("toggle")}).on("click","#snackbar-container .snackbar",function(){o(this).snackbar("hide")}),o.snackbar=function(t){if(r(t)&&t===Object(t)){var a,n=!1;r(t.id)?o("#"+t.id).length?a=o("#"+t.id):(a=o("<div/>").attr("id",""+t.id).attr("class","snackbar"),n=!0):(t.id="snackbar"+Date.now(),a=o("<div/>").attr("id",t.id).attr("class","snackbar"),n=!0);var e=a.hasClass("snackbar-opened");r(t.style)?(e?a.attr("class","snackbar snackbar-opened "+t.style):a.attr("class","snackbar "+t.style),a.attr("data-style",t.style)):e?a.attr("class","snackbar snackbar-opened"):a.attr("class","snackbar"),t.htmlAllowed=!!r(t.htmlAllowed)&&t.htmlAllowed,t.timeout=r(t.timeout)?t.timeout:3e3,a.attr("data-timeout",t.timeout),t.content=t.htmlAllowed?t.content:o("<p>"+t.content+"</p>").text(),r(t.onClose)&&c.on(t.id,t.onClose),r(t.htmlAllowed)&&a.attr("data-html-allowed",t.htmlAllowed),r(t.content)&&(a.find(".snackbar-content").length?a.find(".snackbar-content").html(t.content):a.prepend("<span class=snackbar-content>"+t.content+"</span>"),a.attr("data-content",t.content)),n?a.appendTo("#snackbar-container"):a.insertAfter("#snackbar-container .snackbar:last-child"),r(t.action)&&"toggle"==t.action&&(t.action=e?"hide":"show");var i=Date.now();a.data("animationId1",i),setTimeout(function(){a.data("animationId1")===i&&(r(t.action)&&"show"!=t.action?r(t.action)&&"hide"==t.action&&(a.removeClass("snackbar-opened"),c.emit(t.id),c.off(t.id)):a.addClass("snackbar-opened"))},50);var s=Date.now();return a.data("animationId2",s),0!==t.timeout&&setTimeout(function(){a.data("animationId2")===s&&(a.removeClass("snackbar-opened"),c.emit(t.id),c.off(t.id))},t.timeout),a}return!1},o.fn.snackbar=function(t){if(void 0!==t){var a={};if(this.hasClass("snackbar"))return a={id:this.attr("id"),content:o(this).attr("data-content"),style:o(this).attr("data-style"),timeout:parseInt(o(this).attr("data-timeout")),htmlAllowed:o(this).attr("data-html-allowed")},("show"===t||"hide"===t||"toggle"==t)&&(a.action=t),o.snackbar(a);r(t)&&"show"!==t&&"hide"!==t&&"toggle"!=t||(a={content:o(this).attr("data-content"),style:o(this).attr("data-style"),timeout:o(this).attr("data-timeout"),htmlAllowed:o(this).attr("data-html-allowed")}),r(t)&&(a.id=this.attr("data-snackbar-id"),("show"===t||"hide"===t||"toggle"==t)&&(a.action=t));var n=o.snackbar(a);return this.attr("data-snackbar-id",n.attr("id")),n}}});